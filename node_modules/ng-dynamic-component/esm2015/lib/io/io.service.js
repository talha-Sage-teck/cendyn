/**
 * @fileoverview added by tsickle
 * Generated from: lib/io/io.service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ChangeDetectorRef, ComponentFactoryResolver, Inject, Injectable, KeyValueDiffers, } from '@angular/core';
import { Subject } from 'rxjs';
import { takeUntil } from 'rxjs/operators';
import { createChange, createNewChange, noop } from '../util';
import { EventArgumentToken } from './event-argument';
/**
 * @record
 */
import * as ɵngcc0 from '@angular/core';
export function IOMapInfo() { }
if (false) {
    /** @type {?} */
    IOMapInfo.prototype.propName;
    /** @type {?} */
    IOMapInfo.prototype.templateName;
}
/**
 * @record
 */
export function IoInitOptions() { }
if (false) {
    /** @type {?|undefined} */
    IoInitOptions.prototype.trackOutputChanges;
}
/**
 * @record
 */
function OutputsTypeProcessed() { }
export class IoService {
    /**
     * @param {?} differs
     * @param {?} cfr
     * @param {?} eventArgument
     */
    constructor(differs, cfr, eventArgument) {
        this.differs = differs;
        this.cfr = cfr;
        this.eventArgument = eventArgument;
        this.checkInit = this.failInit;
        this.lastComponentInst = null;
        this.inputsDiffer = this.differs.find({}).create();
        this.compFactory = null;
        this.outputsShouldDisconnect$ = new Subject();
        this.outputsChanged = (/**
         * @return {?}
         */
        () => false);
    }
    /**
     * @private
     * @return {?}
     */
    get compRef() {
        return this.compInjector.componentRef;
    }
    /**
     * @private
     * @return {?}
     */
    get componentInst() {
        return this.compRef ? this.compRef.instance : null;
    }
    /**
     * @private
     * @return {?}
     */
    get componentInstChanged() {
        if (this.lastComponentInst !== this.componentInst) {
            this.lastComponentInst = this.componentInst;
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @return {?}
     */
    get compCdr() {
        // tslint:disable-next-line: deprecation
        return this.compRef ? this.compRef.injector.get(ChangeDetectorRef) : null;
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this._disconnectOutputs();
    }
    /**
     * @param {?} componentInjector
     * @param {?=} options
     * @return {?}
     */
    init(componentInjector, options = {}) {
        this.checkInit = componentInjector ? noop : this.failInit;
        this.compInjector = componentInjector;
        if (options.trackOutputChanges) {
            /** @type {?} */
            const outputsDiffer = this.differs.find({}).create();
            this.outputsChanged = (/**
             * @param {?} outputs
             * @return {?}
             */
            outputs => !!outputsDiffer.diff(outputs));
        }
    }
    /**
     * @param {?} inputs
     * @param {?} outputs
     * @param {?} inputsChanged
     * @param {?} outputsChanged
     * @return {?}
     */
    update(inputs, outputs, inputsChanged, outputsChanged) {
        this.checkInit();
        this.updateIO(inputs, outputs);
        /** @type {?} */
        const compChanged = this.componentInstChanged;
        if (compChanged || inputsChanged) {
            /** @type {?} */
            const inputsChanges = this._getInputsChanges();
            if (inputsChanges) {
                this._updateInputChanges(inputsChanges);
            }
            this.updateInputs(compChanged || !this.lastInputChanges);
        }
        if (compChanged || outputsChanged) {
            this.bindOutputs();
        }
    }
    /**
     * @return {?}
     */
    maybeUpdate() {
        this.checkInit();
        if (this.componentInstChanged) {
            this.updateInputs(true);
            this.bindOutputs();
            return;
        }
        if (this.outputsChanged(this.outputs)) {
            this.bindOutputs();
        }
        if (!this.inputs) {
            return;
        }
        /** @type {?} */
        const inputsChanges = this._getInputsChanges();
        if (inputsChanges) {
            /** @type {?} */
            const isNotFirstChange = !!this.lastInputChanges;
            this._updateInputChanges(inputsChanges);
            if (isNotFirstChange) {
                this.updateInputs();
            }
        }
    }
    /**
     * @private
     * @param {?} inputs
     * @param {?} outputs
     * @return {?}
     */
    updateIO(inputs, outputs) {
        this.inputs = inputs;
        this.outputs = outputs;
    }
    /**
     * @private
     * @param {?=} isFirstChange
     * @return {?}
     */
    updateInputs(isFirstChange = false) {
        if (isFirstChange) {
            this._updateCompFactory();
        }
        /** @type {?} */
        const compInst = this.componentInst;
        /** @type {?} */
        let inputs = this.inputs;
        if (!inputs || !compInst) {
            return;
        }
        inputs = this._resolveInputs(inputs);
        Object.keys(inputs).forEach((/**
         * @param {?} p
         * @return {?}
         */
        p => (compInst[p] = inputs[p])));
        // Mark component for check to re-render with new inputs
        if (this.compCdr) {
            this.compCdr.markForCheck();
        }
        this.notifyOnInputChanges(this.lastInputChanges, isFirstChange);
    }
    /**
     * @private
     * @return {?}
     */
    bindOutputs() {
        this._disconnectOutputs();
        /** @type {?} */
        const compInst = this.componentInst;
        /** @type {?} */
        let outputs = this.outputs;
        if (!outputs || !compInst) {
            return;
        }
        outputs = this._resolveOutputs(outputs);
        Object.keys(outputs)
            .filter((/**
         * @param {?} p
         * @return {?}
         */
        p => compInst[p]))
            .forEach((/**
         * @param {?} p
         * @return {?}
         */
        p => compInst[p]
            .pipe(takeUntil(this.outputsShouldDisconnect$))
            .subscribe((/**
         * @param {?} event
         * @return {?}
         */
        (event) => ((/** @type {?} */ (outputs[p])))(event)))));
    }
    /**
     * @private
     * @param {?=} changes
     * @param {?=} forceFirstChanges
     * @return {?}
     */
    notifyOnInputChanges(changes = {}, forceFirstChanges) {
        // Exit early if component not interested to receive changes
        if (!this.componentInst.ngOnChanges) {
            return;
        }
        if (forceFirstChanges) {
            changes = this._collectFirstChanges();
        }
        this.componentInst.ngOnChanges(changes);
    }
    /**
     * @private
     * @return {?}
     */
    _disconnectOutputs() {
        this.outputsShouldDisconnect$.next();
    }
    /**
     * @private
     * @return {?}
     */
    _getInputsChanges() {
        return this.inputsDiffer.diff(this.inputs);
    }
    /**
     * @private
     * @param {?} differ
     * @return {?}
     */
    _updateInputChanges(differ) {
        this.lastInputChanges = this._collectChangesFromDiffer(differ);
    }
    /**
     * @private
     * @return {?}
     */
    _collectFirstChanges() {
        /** @type {?} */
        const changes = (/** @type {?} */ ({}));
        /** @type {?} */
        const inputs = this.inputs;
        Object.keys(inputs).forEach((/**
         * @param {?} prop
         * @return {?}
         */
        prop => (changes[prop] = createNewChange(inputs[prop]))));
        return this._resolveChanges(changes);
    }
    /**
     * @private
     * @param {?} differ
     * @return {?}
     */
    _collectChangesFromDiffer(differ) {
        /** @type {?} */
        const changes = {};
        differ.forEachAddedItem((/**
         * @param {?} record
         * @return {?}
         */
        record => (changes[record.key] = createNewChange(record.currentValue))));
        differ.forEachChangedItem((/**
         * @param {?} record
         * @return {?}
         */
        record => (changes[record.key] = createChange(record.currentValue, record.previousValue))));
        return this._resolveChanges(changes);
    }
    /**
     * @private
     * @return {?}
     */
    _resolveCompFactory() {
        try {
            try {
                return this.cfr.resolveComponentFactory(this.compRef.componentType);
            }
            catch (e) {
                // Fallback if componentType does not exist (happens on NgComponentOutlet)
                return this.cfr.resolveComponentFactory(this.compRef.instance.constructor);
            }
        }
        catch (e) {
            // Factory not available - bailout
            return null;
        }
    }
    /**
     * @private
     * @return {?}
     */
    _updateCompFactory() {
        this.compFactory = this._resolveCompFactory();
    }
    /**
     * @private
     * @param {?} inputs
     * @return {?}
     */
    _resolveInputs(inputs) {
        if (!this.compFactory) {
            return inputs;
        }
        return this._remapIO(inputs, this.compFactory.inputs);
    }
    /**
     * @private
     * @param {?} outputs
     * @return {?}
     */
    _resolveOutputs(outputs) {
        outputs = this._processOutputs(outputs);
        if (!this.compFactory) {
            return outputs;
        }
        return this._remapIO(outputs, this.compFactory.outputs);
    }
    /**
     * @private
     * @param {?} outputs
     * @return {?}
     */
    _processOutputs(outputs) {
        /** @type {?} */
        const processedOutputs = {};
        Object.keys(outputs).forEach((/**
         * @param {?} key
         * @return {?}
         */
        key => {
            /** @type {?} */
            const outputExpr = outputs[key];
            if (typeof outputExpr === 'function') {
                processedOutputs[key] = outputExpr;
            }
            else {
                processedOutputs[key] =
                    outputExpr && this._processOutputArgs(outputExpr);
            }
        }));
        return processedOutputs;
    }
    /**
     * @private
     * @param {?} output
     * @return {?}
     */
    _processOutputArgs(output) {
        const { handler } = output;
        /** @type {?} */
        const args = 'args' in output ? output.args || [] : [this.eventArgument];
        return (/**
         * @param {?} event
         * @return {?}
         */
        event => handler(...args.map((/**
         * @param {?} arg
         * @return {?}
         */
        arg => (arg === this.eventArgument ? event : arg)))));
    }
    /**
     * @private
     * @param {?} changes
     * @return {?}
     */
    _resolveChanges(changes) {
        if (!this.compFactory) {
            return changes;
        }
        return this._remapIO(changes, this.compFactory.inputs);
    }
    /**
     * @private
     * @template T
     * @param {?} io
     * @param {?} mapping
     * @return {?}
     */
    _remapIO(io, mapping) {
        /** @type {?} */
        const newIO = {};
        Object.keys(io).forEach((/**
         * @param {?} key
         * @return {?}
         */
        key => {
            /** @type {?} */
            const newKey = this._findPropByTplInMapping(key, mapping) || key;
            newIO[newKey] = io[key];
        }));
        return (/** @type {?} */ (newIO));
    }
    /**
     * @private
     * @param {?} tplName
     * @param {?} mapping
     * @return {?}
     */
    _findPropByTplInMapping(tplName, mapping) {
        for (const map of mapping) {
            if (map.templateName === tplName) {
                return map.propName;
            }
        }
        return null;
    }
    /**
     * @private
     * @return {?}
     */
    failInit() {
        throw Error('IoService: ComponentInjector was not set! Please call init() method!');
    }
}
IoService.ɵfac = function IoService_Factory(t) { return new (t || IoService)(ɵngcc0.ɵɵinject(ɵngcc0.KeyValueDiffers), ɵngcc0.ɵɵinject(ɵngcc0.ComponentFactoryResolver), ɵngcc0.ɵɵinject(EventArgumentToken)); };
IoService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: IoService, factory: IoService.ɵfac });
/** @nocollapse */
IoService.ctorParameters = () => [
    { type: KeyValueDiffers },
    { type: ComponentFactoryResolver },
    { type: String, decorators: [{ type: Inject, args: [EventArgumentToken,] }] }
];
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(IoService, [{
        type: Injectable
    }], function () { return [{ type: ɵngcc0.KeyValueDiffers }, { type: ɵngcc0.ComponentFactoryResolver }, { type: String, decorators: [{
                type: Inject,
                args: [EventArgumentToken]
            }] }]; }, null); })();
if (false) {
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.checkInit;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.lastComponentInst;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.lastInputChanges;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.inputsDiffer;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.compFactory;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.outputsShouldDisconnect$;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.inputs;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.outputs;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.compInjector;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.outputsChanged;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.differs;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.cfr;
    /**
     * @type {?}
     * @private
     */
    IoService.prototype.eventArgument;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW8uc2VydmljZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbmctZHluYW1pYy1jb21wb25lbnQvc3JjL2xpYi9pby9pby5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUNMLGlCQUFpQixFQUVqQix3QkFBd0IsRUFDeEIsTUFBTSxFQUNOLFVBQVUsRUFFVixlQUFlLEdBR2hCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDL0IsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRzNDLE9BQU8sRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUM5RCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN0RDtBQUFJO0FBQVc7O0FBRWYsK0JBR0M7QUFDRDtBQUFhO0FBQXFCLElBSGhDLDZCQUFpQjtBQUNuQjtBQUFxQixJQUFuQixpQ0FBcUI7QUFDdkI7QUFDQTtBQUFJO0FBQVc7QUFHZixtQ0FFQztBQUNEO0FBQ1k7QUFBK0IsSUFIekMsMkNBQTZCO0FBQy9CO0FBQ0E7QUFDRztBQUFXO0FBQWQsbUNBRUM7QUFHRCxNQUFNLE9BQU8sU0FBUztBQUFHO0FBQVE7QUFDcEI7QUFBc0I7QUFFTjtBQUFRLElBaUNuQyxZQUNVLE9BQXdCLEVBQ3hCLEdBQTZCLEVBRTdCLGFBQXFCO0FBQy9CLFFBSlUsWUFBTyxHQUFQLE9BQU8sQ0FBaUI7QUFBQyxRQUN6QixRQUFHLEdBQUgsR0FBRyxDQUEwQjtBQUFDLFFBRTlCLGtCQUFhLEdBQWIsYUFBYSxDQUFRO0FBQUMsUUF2Q3hCLGNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0FBQ3BDLFFBQ1Usc0JBQWlCLEdBQVEsSUFBSSxDQUFDO0FBQ3hDLFFBQ1UsaUJBQVksR0FBRyxJQUFJLENBQUMsT0FBTyxD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a0I7QUFDeEI7Ozs7OztrQ0FBRTtBQUFDO0FBQWE7QUFBUTtBQUcxQjtBQUFnQjtBQUNoQixJQTNDRiw4QkFBa0M7QUFDcEM7QUFDTztBQUFpQjtBQUFnQjtBQUNqQyxJQURMLHNDQUFzQztBQUN4QztBQUFRO0FBQWlCO0FBQWdCO0FBQ25DLElBREoscUNBQXdDO0FBQzFDO0FBQVE7QUFBaUI7QUFBZ0I7QUFBUSxJQUEvQyxpQ0FBc0Q7QUFDeEQ7QUFBUTtBQUFpQjtBQUFnQjtBQUFRLElBQS9DLGdDQUF5RDtBQUMzRDtBQUFRO0FBQWlCO0FBQWdCO0FBQVEsSUFBL0MsNkNBQXVEO0FBQ3pEO0FBQ087QUFBaUI7QUFDZDtBQUFRLElBRGhCLDJCQUEyQjtBQUM3QjtBQUFRO0FBQWlCO0FBQ2hCO0FBQVEsSUFEZiw0QkFBNkI7QUFDL0I7QUFBUTtBQUFpQjtBQUFnQjtBQUFRLElBQS9DLGlDQUErQztBQUNqRDtBQUFRO0FBQWlCO0FBQWdCO0FBQVEsSUFBL0MsbUNBQXdFO0FBQzFFO0FBQ087QUFBaUI7QUFDVjtBQUFRLElBc0JsQiw0QkFBZ0M7QUFBQztBQUM5QjtBQUFpQjtBQUFnQjtBQUNuQyxJQURELHdCQUFxQztBQUFDO0FBQ25DO0FBQWlCO0FBQ2hCO0FBQVEsSUFEWixrQ0FDNkI7QUFBQztBQUNqQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnRGYWN0b3J5LFxuICBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gIEluamVjdCxcbiAgSW5qZWN0YWJsZSxcbiAgS2V5VmFsdWVDaGFuZ2VzLFxuICBLZXlWYWx1ZURpZmZlcnMsXG4gIE9uRGVzdHJveSxcbiAgU2ltcGxlQ2hhbmdlcyxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0YWtlVW50aWwgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmltcG9ydCB7IER5bmFtaWNDb21wb25lbnRJbmplY3RvciB9IGZyb20gJy4uL2NvbXBvbmVudC1pbmplY3Rvci90b2tlbic7XG5pbXBvcnQgeyBjcmVhdGVDaGFuZ2UsIGNyZWF0ZU5ld0NoYW5nZSwgbm9vcCB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgRXZlbnRBcmd1bWVudFRva2VuIH0gZnJvbSAnLi9ldmVudC1hcmd1bWVudCc7XG5pbXBvcnQgeyBFdmVudEhhbmRsZXIsIElucHV0c1R5cGUsIE91dHB1dHNUeXBlLCBPdXRwdXRXaXRoQXJncyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElPTWFwSW5mbyB7XG4gIHByb3BOYW1lOiBzdHJpbmc7XG4gIHRlbXBsYXRlTmFtZTogc3RyaW5nO1xufVxuZXhwb3J0IHR5cGUgSU9NYXBwaW5nTGlzdCA9IElPTWFwSW5mb1tdO1xuZXhwb3J0IHR5cGUgS2V5VmFsdWVDaGFuZ2VzQW55ID0gS2V5VmFsdWVDaGFuZ2VzPGFueSwgYW55PjtcblxuZXhwb3J0IGludGVyZmFjZSBJb0luaXRPcHRpb25zIHtcbiAgdHJhY2tPdXRwdXRDaGFuZ2VzPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIE91dHB1dHNUeXBlUHJvY2Vzc2VkIGV4dGVuZHMgT3V0cHV0c1R5cGUge1xuICBbazogc3RyaW5nXTogRXZlbnRIYW5kbGVyO1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSW9TZXJ2aWNlIGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgcHJpdmF0ZSBjaGVja0luaXQgPSB0aGlzLmZhaWxJbml0O1xuXG4gIHByaXZhdGUgbGFzdENvbXBvbmVudEluc3Q6IGFueSA9IG51bGw7XG4gIHByaXZhdGUgbGFzdElucHV0Q2hhbmdlczogU2ltcGxlQ2hhbmdlcztcbiAgcHJpdmF0ZSBpbnB1dHNEaWZmZXIgPSB0aGlzLmRpZmZlcnMuZmluZCh7fSkuY3JlYXRlKCk7XG4gIHByaXZhdGUgY29tcEZhY3Rvcnk6IENvbXBvbmVudEZhY3Rvcnk8YW55PiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIG91dHB1dHNTaG91bGREaXNjb25uZWN0JCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG5cbiAgcHJpdmF0ZSBpbnB1dHM6IElucHV0c1R5cGU7XG4gIHByaXZhdGUgb3V0cHV0czogT3V0cHV0c1R5cGU7XG4gIHByaXZhdGUgY29tcEluamVjdG9yOiBEeW5hbWljQ29tcG9uZW50SW5qZWN0b3I7XG4gIHByaXZhdGUgb3V0cHV0c0NoYW5nZWQ6IChvdXRwdXRzOiBPdXRwdXRzVHlwZSkgPT4gYm9vbGVhbiA9ICgpID0+IGZhbHNlO1xuXG4gIHByaXZhdGUgZ2V0IGNvbXBSZWYoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcEluamVjdG9yLmNvbXBvbmVudFJlZjtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IGNvbXBvbmVudEluc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcFJlZiA/IHRoaXMuY29tcFJlZi5pbnN0YW5jZSA6IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGdldCBjb21wb25lbnRJbnN0Q2hhbmdlZCgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5sYXN0Q29tcG9uZW50SW5zdCAhPT0gdGhpcy5jb21wb25lbnRJbnN0KSB7XG4gICAgICB0aGlzLmxhc3RDb21wb25lbnRJbnN0ID0gdGhpcy5jb21wb25lbnRJbnN0O1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldCBjb21wQ2RyKCk6IENoYW5nZURldGVjdG9yUmVmIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IGRlcHJlY2F0aW9uXG4gICAgcmV0dXJuIHRoaXMuY29tcFJlZiA/IHRoaXMuY29tcFJlZi5pbmplY3Rvci5nZXQoQ2hhbmdlRGV0ZWN0b3JSZWYpIDogbnVsbDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgZGlmZmVyczogS2V5VmFsdWVEaWZmZXJzLFxuICAgIHByaXZhdGUgY2ZyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgQEluamVjdChFdmVudEFyZ3VtZW50VG9rZW4pXG4gICAgcHJpdmF0ZSBldmVudEFyZ3VtZW50OiBzdHJpbmcsXG4gICkge31cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLl9kaXNjb25uZWN0T3V0cHV0cygpO1xuICB9XG5cbiAgaW5pdChcbiAgICBjb21wb25lbnRJbmplY3RvcjogRHluYW1pY0NvbXBvbmVudEluamVjdG9yLFxuICAgIG9wdGlvbnM6IElvSW5pdE9wdGlvbnMgPSB7fSxcbiAgKSB7XG4gICAgdGhpcy5jaGVja0luaXQgPSBjb21wb25lbnRJbmplY3RvciA/IG5vb3AgOiB0aGlzLmZhaWxJbml0O1xuICAgIHRoaXMuY29tcEluamVjdG9yID0gY29tcG9uZW50SW5qZWN0b3I7XG5cbiAgICBpZiAob3B0aW9ucy50cmFja091dHB1dENoYW5nZXMpIHtcbiAgICAgIGNvbnN0IG91dHB1dHNEaWZmZXIgPSB0aGlzLmRpZmZlcnMuZmluZCh7fSkuY3JlYXRlKCk7XG4gICAgICB0aGlzLm91dHB1dHNDaGFuZ2VkID0gb3V0cHV0cyA9PiAhIW91dHB1dHNEaWZmZXIuZGlmZihvdXRwdXRzKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoXG4gICAgaW5wdXRzOiBJbnB1dHNUeXBlLFxuICAgIG91dHB1dHM6IE91dHB1dHNUeXBlLFxuICAgIGlucHV0c0NoYW5nZWQ6IGJvb2xlYW4sXG4gICAgb3V0cHV0c0NoYW5nZWQ6IGJvb2xlYW4sXG4gICkge1xuICAgIHRoaXMuY2hlY2tJbml0KCk7XG4gICAgdGhpcy51cGRhdGVJTyhpbnB1dHMsIG91dHB1dHMpO1xuXG4gICAgY29uc3QgY29tcENoYW5nZWQgPSB0aGlzLmNvbXBvbmVudEluc3RDaGFuZ2VkO1xuXG4gICAgaWYgKGNvbXBDaGFuZ2VkIHx8IGlucHV0c0NoYW5nZWQpIHtcbiAgICAgIGNvbnN0IGlucHV0c0NoYW5nZXMgPSB0aGlzLl9nZXRJbnB1dHNDaGFuZ2VzKCk7XG4gICAgICBpZiAoaW5wdXRzQ2hhbmdlcykge1xuICAgICAgICB0aGlzLl91cGRhdGVJbnB1dENoYW5nZXMoaW5wdXRzQ2hhbmdlcyk7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZUlucHV0cyhjb21wQ2hhbmdlZCB8fCAhdGhpcy5sYXN0SW5wdXRDaGFuZ2VzKTtcbiAgICB9XG5cbiAgICBpZiAoY29tcENoYW5nZWQgfHwgb3V0cHV0c0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuYmluZE91dHB1dHMoKTtcbiAgICB9XG4gIH1cblxuICBtYXliZVVwZGF0ZSgpIHtcbiAgICB0aGlzLmNoZWNrSW5pdCgpO1xuXG4gICAgaWYgKHRoaXMuY29tcG9uZW50SW5zdENoYW5nZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlSW5wdXRzKHRydWUpO1xuICAgICAgdGhpcy5iaW5kT3V0cHV0cygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm91dHB1dHNDaGFuZ2VkKHRoaXMub3V0cHV0cykpIHtcbiAgICAgIHRoaXMuYmluZE91dHB1dHMoKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaW5wdXRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW5wdXRzQ2hhbmdlcyA9IHRoaXMuX2dldElucHV0c0NoYW5nZXMoKTtcblxuICAgIGlmIChpbnB1dHNDaGFuZ2VzKSB7XG4gICAgICBjb25zdCBpc05vdEZpcnN0Q2hhbmdlID0gISF0aGlzLmxhc3RJbnB1dENoYW5nZXM7XG4gICAgICB0aGlzLl91cGRhdGVJbnB1dENoYW5nZXMoaW5wdXRzQ2hhbmdlcyk7XG5cbiAgICAgIGlmIChpc05vdEZpcnN0Q2hhbmdlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlSW5wdXRzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVJTyhpbnB1dHM6IElucHV0c1R5cGUsIG91dHB1dHM6IE91dHB1dHNUeXBlKSB7XG4gICAgdGhpcy5pbnB1dHMgPSBpbnB1dHM7XG4gICAgdGhpcy5vdXRwdXRzID0gb3V0cHV0cztcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlSW5wdXRzKGlzRmlyc3RDaGFuZ2UgPSBmYWxzZSkge1xuICAgIGlmIChpc0ZpcnN0Q2hhbmdlKSB7XG4gICAgICB0aGlzLl91cGRhdGVDb21wRmFjdG9yeSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbXBJbnN0ID0gdGhpcy5jb21wb25lbnRJbnN0O1xuICAgIGxldCBpbnB1dHMgPSB0aGlzLmlucHV0cztcblxuICAgIGlmICghaW5wdXRzIHx8ICFjb21wSW5zdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlucHV0cyA9IHRoaXMuX3Jlc29sdmVJbnB1dHMoaW5wdXRzKTtcblxuICAgIE9iamVjdC5rZXlzKGlucHV0cykuZm9yRWFjaChwID0+IChjb21wSW5zdFtwXSA9IGlucHV0c1twXSkpO1xuXG4gICAgLy8gTWFyayBjb21wb25lbnQgZm9yIGNoZWNrIHRvIHJlLXJlbmRlciB3aXRoIG5ldyBpbnB1dHNcbiAgICBpZiAodGhpcy5jb21wQ2RyKSB7XG4gICAgICB0aGlzLmNvbXBDZHIubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuXG4gICAgdGhpcy5ub3RpZnlPbklucHV0Q2hhbmdlcyh0aGlzLmxhc3RJbnB1dENoYW5nZXMsIGlzRmlyc3RDaGFuZ2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBiaW5kT3V0cHV0cygpIHtcbiAgICB0aGlzLl9kaXNjb25uZWN0T3V0cHV0cygpO1xuXG4gICAgY29uc3QgY29tcEluc3QgPSB0aGlzLmNvbXBvbmVudEluc3Q7XG4gICAgbGV0IG91dHB1dHMgPSB0aGlzLm91dHB1dHM7XG5cbiAgICBpZiAoIW91dHB1dHMgfHwgIWNvbXBJbnN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3V0cHV0cyA9IHRoaXMuX3Jlc29sdmVPdXRwdXRzKG91dHB1dHMpO1xuXG4gICAgT2JqZWN0LmtleXMob3V0cHV0cylcbiAgICAgIC5maWx0ZXIocCA9PiBjb21wSW5zdFtwXSlcbiAgICAgIC5mb3JFYWNoKHAgPT5cbiAgICAgICAgY29tcEluc3RbcF1cbiAgICAgICAgICAucGlwZSh0YWtlVW50aWwodGhpcy5vdXRwdXRzU2hvdWxkRGlzY29ubmVjdCQpKVxuICAgICAgICAgIC5zdWJzY3JpYmUoKGV2ZW50OiBhbnkpID0+IChvdXRwdXRzW3BdIGFzIEV2ZW50SGFuZGxlcikoZXZlbnQpKSxcbiAgICAgICk7XG4gIH1cblxuICBwcml2YXRlIG5vdGlmeU9uSW5wdXRDaGFuZ2VzKFxuICAgIGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMgPSB7fSxcbiAgICBmb3JjZUZpcnN0Q2hhbmdlczogYm9vbGVhbixcbiAgKSB7XG4gICAgLy8gRXhpdCBlYXJseSBpZiBjb21wb25lbnQgbm90IGludGVyZXN0ZWQgdG8gcmVjZWl2ZSBjaGFuZ2VzXG4gICAgaWYgKCF0aGlzLmNvbXBvbmVudEluc3QubmdPbkNoYW5nZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZm9yY2VGaXJzdENoYW5nZXMpIHtcbiAgICAgIGNoYW5nZXMgPSB0aGlzLl9jb2xsZWN0Rmlyc3RDaGFuZ2VzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jb21wb25lbnRJbnN0Lm5nT25DaGFuZ2VzKGNoYW5nZXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZGlzY29ubmVjdE91dHB1dHMoKSB7XG4gICAgdGhpcy5vdXRwdXRzU2hvdWxkRGlzY29ubmVjdCQubmV4dCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0SW5wdXRzQ2hhbmdlcygpOiBLZXlWYWx1ZUNoYW5nZXNBbnkge1xuICAgIHJldHVybiB0aGlzLmlucHV0c0RpZmZlci5kaWZmKHRoaXMuaW5wdXRzKTtcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZUlucHV0Q2hhbmdlcyhkaWZmZXI6IEtleVZhbHVlQ2hhbmdlc0FueSkge1xuICAgIHRoaXMubGFzdElucHV0Q2hhbmdlcyA9IHRoaXMuX2NvbGxlY3RDaGFuZ2VzRnJvbURpZmZlcihkaWZmZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29sbGVjdEZpcnN0Q2hhbmdlcygpOiBTaW1wbGVDaGFuZ2VzIHtcbiAgICBjb25zdCBjaGFuZ2VzID0ge30gYXMgU2ltcGxlQ2hhbmdlcztcbiAgICBjb25zdCBpbnB1dHMgPSB0aGlzLmlucHV0cztcblxuICAgIE9iamVjdC5rZXlzKGlucHV0cykuZm9yRWFjaChcbiAgICAgIHByb3AgPT4gKGNoYW5nZXNbcHJvcF0gPSBjcmVhdGVOZXdDaGFuZ2UoaW5wdXRzW3Byb3BdKSksXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLl9yZXNvbHZlQ2hhbmdlcyhjaGFuZ2VzKTtcbiAgfVxuXG4gIHByaXZhdGUgX2NvbGxlY3RDaGFuZ2VzRnJvbURpZmZlcihkaWZmZXI6IEtleVZhbHVlQ2hhbmdlc0FueSk6IFNpbXBsZUNoYW5nZXMge1xuICAgIGNvbnN0IGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMgPSB7fTtcblxuICAgIGRpZmZlci5mb3JFYWNoQWRkZWRJdGVtKFxuICAgICAgcmVjb3JkID0+IChjaGFuZ2VzW3JlY29yZC5rZXldID0gY3JlYXRlTmV3Q2hhbmdlKHJlY29yZC5jdXJyZW50VmFsdWUpKSxcbiAgICApO1xuXG4gICAgZGlmZmVyLmZvckVhY2hDaGFuZ2VkSXRlbShcbiAgICAgIHJlY29yZCA9PlxuICAgICAgICAoY2hhbmdlc1tyZWNvcmQua2V5XSA9IGNyZWF0ZUNoYW5nZShcbiAgICAgICAgICByZWNvcmQuY3VycmVudFZhbHVlLFxuICAgICAgICAgIHJlY29yZC5wcmV2aW91c1ZhbHVlLFxuICAgICAgICApKSxcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMuX3Jlc29sdmVDaGFuZ2VzKGNoYW5nZXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVzb2x2ZUNvbXBGYWN0b3J5KCk6IENvbXBvbmVudEZhY3Rvcnk8YW55PiB8IG51bGwge1xuICAgIHRyeSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdGhpcy5jZnIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodGhpcy5jb21wUmVmLmNvbXBvbmVudFR5cGUpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBGYWxsYmFjayBpZiBjb21wb25lbnRUeXBlIGRvZXMgbm90IGV4aXN0IChoYXBwZW5zIG9uIE5nQ29tcG9uZW50T3V0bGV0KVxuICAgICAgICByZXR1cm4gdGhpcy5jZnIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoXG4gICAgICAgICAgdGhpcy5jb21wUmVmLmluc3RhbmNlLmNvbnN0cnVjdG9yLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIEZhY3Rvcnkgbm90IGF2YWlsYWJsZSAtIGJhaWxvdXRcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZUNvbXBGYWN0b3J5KCkge1xuICAgIHRoaXMuY29tcEZhY3RvcnkgPSB0aGlzLl9yZXNvbHZlQ29tcEZhY3RvcnkoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3Jlc29sdmVJbnB1dHMoaW5wdXRzOiBJbnB1dHNUeXBlKTogSW5wdXRzVHlwZSB7XG4gICAgaWYgKCF0aGlzLmNvbXBGYWN0b3J5KSB7XG4gICAgICByZXR1cm4gaW5wdXRzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9yZW1hcElPKGlucHV0cywgdGhpcy5jb21wRmFjdG9yeS5pbnB1dHMpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVzb2x2ZU91dHB1dHMob3V0cHV0czogT3V0cHV0c1R5cGUpOiBPdXRwdXRzVHlwZSB7XG4gICAgb3V0cHV0cyA9IHRoaXMuX3Byb2Nlc3NPdXRwdXRzKG91dHB1dHMpO1xuXG4gICAgaWYgKCF0aGlzLmNvbXBGYWN0b3J5KSB7XG4gICAgICByZXR1cm4gb3V0cHV0cztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcmVtYXBJTyhvdXRwdXRzLCB0aGlzLmNvbXBGYWN0b3J5Lm91dHB1dHMpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcHJvY2Vzc091dHB1dHMob3V0cHV0czogT3V0cHV0c1R5cGUpOiBPdXRwdXRzVHlwZVByb2Nlc3NlZCB7XG4gICAgY29uc3QgcHJvY2Vzc2VkT3V0cHV0czogT3V0cHV0c1R5cGVQcm9jZXNzZWQgPSB7fTtcblxuICAgIE9iamVjdC5rZXlzKG91dHB1dHMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGNvbnN0IG91dHB1dEV4cHIgPSBvdXRwdXRzW2tleV07XG5cbiAgICAgIGlmICh0eXBlb2Ygb3V0cHV0RXhwciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcm9jZXNzZWRPdXRwdXRzW2tleV0gPSBvdXRwdXRFeHByO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzc2VkT3V0cHV0c1trZXldID1cbiAgICAgICAgICBvdXRwdXRFeHByICYmIHRoaXMuX3Byb2Nlc3NPdXRwdXRBcmdzKG91dHB1dEV4cHIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb2Nlc3NlZE91dHB1dHM7XG4gIH1cblxuICBwcml2YXRlIF9wcm9jZXNzT3V0cHV0QXJncyhvdXRwdXQ6IE91dHB1dFdpdGhBcmdzKTogRXZlbnRIYW5kbGVyIHtcbiAgICBjb25zdCB7IGhhbmRsZXIgfSA9IG91dHB1dDtcbiAgICBjb25zdCBhcmdzID0gJ2FyZ3MnIGluIG91dHB1dCA/IG91dHB1dC5hcmdzIHx8IFtdIDogW3RoaXMuZXZlbnRBcmd1bWVudF07XG5cbiAgICByZXR1cm4gZXZlbnQgPT5cbiAgICAgIGhhbmRsZXIoLi4uYXJncy5tYXAoYXJnID0+IChhcmcgPT09IHRoaXMuZXZlbnRBcmd1bWVudCA/IGV2ZW50IDogYXJnKSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVzb2x2ZUNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IFNpbXBsZUNoYW5nZXMge1xuICAgIGlmICghdGhpcy5jb21wRmFjdG9yeSkge1xuICAgICAgcmV0dXJuIGNoYW5nZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3JlbWFwSU8oY2hhbmdlcywgdGhpcy5jb21wRmFjdG9yeS5pbnB1dHMpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVtYXBJTzxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4oXG4gICAgaW86IFQsXG4gICAgbWFwcGluZzogSU9NYXBwaW5nTGlzdCxcbiAgKTogVCB7XG4gICAgY29uc3QgbmV3SU8gPSB7fTtcblxuICAgIE9iamVjdC5rZXlzKGlvKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBuZXdLZXkgPSB0aGlzLl9maW5kUHJvcEJ5VHBsSW5NYXBwaW5nKGtleSwgbWFwcGluZykgfHwga2V5O1xuICAgICAgbmV3SU9bbmV3S2V5XSA9IGlvW2tleV07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3SU8gYXMgVDtcbiAgfVxuXG4gIHByaXZhdGUgX2ZpbmRQcm9wQnlUcGxJbk1hcHBpbmcoXG4gICAgdHBsTmFtZTogc3RyaW5nLFxuICAgIG1hcHBpbmc6IElPTWFwcGluZ0xpc3QsXG4gICk6IHN0cmluZyB8IG51bGwge1xuICAgIGZvciAoY29uc3QgbWFwIG9mIG1hcHBpbmcpIHtcbiAgICAgIGlmIChtYXAudGVtcGxhdGVOYW1lID09PSB0cGxOYW1lKSB7XG4gICAgICAgIHJldHVybiBtYXAucHJvcE5hbWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBmYWlsSW5pdCgpIHtcbiAgICB0aHJvdyBFcnJvcihcbiAgICAgICdJb1NlcnZpY2U6IENvbXBvbmVudEluamVjdG9yIHdhcyBub3Qgc2V0ISBQbGVhc2UgY2FsbCBpbml0KCkgbWV0aG9kIScsXG4gICAgKTtcbiAgfVxufVxuIl19