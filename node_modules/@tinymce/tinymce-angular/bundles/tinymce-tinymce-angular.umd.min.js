!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@tinymce/tinymce-angular",["exports","@angular/core","@angular/common","@angular/forms"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).tinymce=t.tinymce||{},t.tinymce["tinymce-angular"]={}),t.ng.core,t.ng.common,t.ng.forms)}(this,(function(t,e,n,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var r=function(){var t="undefined"!=typeof window?window:void 0;return t&&t.tinymce?t.tinymce:null},u=function(){this.onBeforePaste=new e.EventEmitter,this.onBlur=new e.EventEmitter,this.onClick=new e.EventEmitter,this.onContextMenu=new e.EventEmitter,this.onCopy=new e.EventEmitter,this.onCut=new e.EventEmitter,this.onDblclick=new e.EventEmitter,this.onDrag=new e.EventEmitter,this.onDragDrop=new e.EventEmitter,this.onDragEnd=new e.EventEmitter,this.onDragGesture=new e.EventEmitter,this.onDragOver=new e.EventEmitter,this.onDrop=new e.EventEmitter,this.onFocus=new e.EventEmitter,this.onFocusIn=new e.EventEmitter,this.onFocusOut=new e.EventEmitter,this.onKeyDown=new e.EventEmitter,this.onKeyPress=new e.EventEmitter,this.onKeyUp=new e.EventEmitter,this.onMouseDown=new e.EventEmitter,this.onMouseEnter=new e.EventEmitter,this.onMouseLeave=new e.EventEmitter,this.onMouseMove=new e.EventEmitter,this.onMouseOut=new e.EventEmitter,this.onMouseOver=new e.EventEmitter,this.onMouseUp=new e.EventEmitter,this.onPaste=new e.EventEmitter,this.onSelectionChange=new e.EventEmitter,this.onActivate=new e.EventEmitter,this.onAddUndo=new e.EventEmitter,this.onBeforeAddUndo=new e.EventEmitter,this.onBeforeExecCommand=new e.EventEmitter,this.onBeforeGetContent=new e.EventEmitter,this.onBeforeRenderUI=new e.EventEmitter,this.onBeforeSetContent=new e.EventEmitter,this.onChange=new e.EventEmitter,this.onClearUndos=new e.EventEmitter,this.onDeactivate=new e.EventEmitter,this.onDirty=new e.EventEmitter,this.onExecCommand=new e.EventEmitter,this.onGetContent=new e.EventEmitter,this.onHide=new e.EventEmitter,this.onInit=new e.EventEmitter,this.onInitNgModel=new e.EventEmitter,this.onLoadContent=new e.EventEmitter,this.onNodeChange=new e.EventEmitter,this.onPostProcess=new e.EventEmitter,this.onPostRender=new e.EventEmitter,this.onPreInit=new e.EventEmitter,this.onPreProcess=new e.EventEmitter,this.onProgressState=new e.EventEmitter,this.onRedo=new e.EventEmitter,this.onRemove=new e.EventEmitter,this.onReset=new e.EventEmitter,this.onResizeEditor=new e.EventEmitter,this.onSaveContent=new e.EventEmitter,this.onSetAttrib=new e.EventEmitter,this.onObjectResizeStart=new e.EventEmitter,this.onObjectResized=new e.EventEmitter,this.onObjectSelected=new e.EventEmitter,this.onSetContent=new e.EventEmitter,this.onShow=new e.EventEmitter,this.onSubmit=new e.EventEmitter,this.onUndo=new e.EventEmitter,this.onVisualAid=new e.EventEmitter};u.propDecorators={onBeforePaste:[{type:e.Output}],onBlur:[{type:e.Output}],onClick:[{type:e.Output}],onContextMenu:[{type:e.Output}],onCopy:[{type:e.Output}],onCut:[{type:e.Output}],onDblclick:[{type:e.Output}],onDrag:[{type:e.Output}],onDragDrop:[{type:e.Output}],onDragEnd:[{type:e.Output}],onDragGesture:[{type:e.Output}],onDragOver:[{type:e.Output}],onDrop:[{type:e.Output}],onFocus:[{type:e.Output}],onFocusIn:[{type:e.Output}],onFocusOut:[{type:e.Output}],onKeyDown:[{type:e.Output}],onKeyPress:[{type:e.Output}],onKeyUp:[{type:e.Output}],onMouseDown:[{type:e.Output}],onMouseEnter:[{type:e.Output}],onMouseLeave:[{type:e.Output}],onMouseMove:[{type:e.Output}],onMouseOut:[{type:e.Output}],onMouseOver:[{type:e.Output}],onMouseUp:[{type:e.Output}],onPaste:[{type:e.Output}],onSelectionChange:[{type:e.Output}],onActivate:[{type:e.Output}],onAddUndo:[{type:e.Output}],onBeforeAddUndo:[{type:e.Output}],onBeforeExecCommand:[{type:e.Output}],onBeforeGetContent:[{type:e.Output}],onBeforeRenderUI:[{type:e.Output}],onBeforeSetContent:[{type:e.Output}],onChange:[{type:e.Output}],onClearUndos:[{type:e.Output}],onDeactivate:[{type:e.Output}],onDirty:[{type:e.Output}],onExecCommand:[{type:e.Output}],onGetContent:[{type:e.Output}],onHide:[{type:e.Output}],onInit:[{type:e.Output}],onInitNgModel:[{type:e.Output}],onLoadContent:[{type:e.Output}],onNodeChange:[{type:e.Output}],onPostProcess:[{type:e.Output}],onPostRender:[{type:e.Output}],onPreInit:[{type:e.Output}],onPreProcess:[{type:e.Output}],onProgressState:[{type:e.Output}],onRedo:[{type:e.Output}],onRemove:[{type:e.Output}],onReset:[{type:e.Output}],onResizeEditor:[{type:e.Output}],onSaveContent:[{type:e.Output}],onSetAttrib:[{type:e.Output}],onObjectResizeStart:[{type:e.Output}],onObjectResized:[{type:e.Output}],onObjectSelected:[{type:e.Output}],onSetContent:[{type:e.Output}],onShow:[{type:e.Output}],onSubmit:[{type:e.Output}],onUndo:[{type:e.Output}],onVisualAid:[{type:e.Output}]};var s=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],p=function(t,e){a(t).forEach((function(n){var o=t[n];e.on(n.substring(2),(function(n){return t.ngZone.run((function(){return o.emit({event:n,editor:e})}))}))}))},a=function(t){var e=c(t.ignoreEvents,[]);return c(t.allowedEvents,s).filter((function(t){return s.includes(t)&&!e.includes(t)}))},c=function(t,e){return"string"==typeof t?t.split(",").map((function(t){return t.trim()})):Array.isArray(t)?t:e},d=0,l=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++d+String(e)},h=function(t){return void 0!==t&&"textarea"===t.tagName.toLowerCase()},y=function(t){return void 0===t||""===t?[]:Array.isArray(t)?t:t.split(" ")},E=function(t,e){return y(t).concat(y(e))},m=function(){},v=function(t){return null==t},f=function(){return{listeners:[],scriptId:l("tiny-script"),scriptLoaded:!1}},g=function(){var t=f();return{load:function(e,n,o){t.scriptLoaded?o():(t.listeners.push(o),e.getElementById(t.scriptId)||function(t,e,n,o){var i=e.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=t,i.src=n;var r=function(){i.removeEventListener("load",r),o()};i.addEventListener("load",r),e.head&&e.head.appendChild(i)}(t.scriptId,e,n,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0})))},reinitialize:function(){t=f()}}},O=g(),w=new e.InjectionToken("TINYMCE_SCRIPT_SRC"),C={provide:o.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return b})),multi:!0},b=function(t){function e(e,n,o,i){var r=t.call(this)||this;return r.platformId=o,r.tinymceScriptSrc=i,r.cloudChannel="5",r.apiKey="no-api-key",r.id="",r.modelEvents="change input undo redo",r.onTouchedCallback=m,r._elementRef=e,r.ngZone=n,r.initialise=r.initialise.bind(r),r}return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,this._editor&&this._editor.initialized&&this._editor.setMode(t?"readonly":"design")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editor",{get:function(){return this._editor},enumerable:!1,configurable:!0}),e.prototype.writeValue=function(t){this._editor&&this._editor.initialized?this._editor.setContent(v(t)?"":t):this.initialValue=null===t?void 0:t},e.prototype.registerOnChange=function(t){this.onChangeCallback=t},e.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},e.prototype.setDisabledState=function(t){this._editor?this._editor.setMode(t?"readonly":"design"):t&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))},e.prototype.ngAfterViewInit=function(){var t;n.isPlatformBrowser(this.platformId)&&(this.id=this.id||l("tiny-angular"),this.inline=void 0!==this.inline?!1!==this.inline:!!(null===(t=this.init)||void 0===t?void 0:t.inline),this.createElement(),null!==r()?this.initialise():this._element&&this._element.ownerDocument&&O.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise.bind(this)))},e.prototype.ngOnDestroy=function(){null!==r()&&r().remove(this._editor)},e.prototype.createElement=function(){var t="string"==typeof this.tagName?this.tagName:"div";this._element=document.createElement(this.inline?t:"textarea"),this._element&&(document.getElementById(this.id)&&console.warn("TinyMCE-Angular: an element with id ["+this.id+"] already exists. Editors with duplicate Id will not be able to mount"),this._element.id=this.id,h(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))},e.prototype.initialise=function(){var t=this,e=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:E(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:function(e){t._editor=e,e.on("init",(function(n){t.initEditor(e)})),p(t,e),t.init&&"function"==typeof t.init.setup&&t.init.setup(e)}});h(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular((function(){r().init(e)}))},e.prototype.getScriptSrc=function(){return v(this.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+this.apiKey+"/tinymce/"+this.cloudChannel+"/tinymce.min.js":this.tinymceScriptSrc},e.prototype.initEditor=function(t){var e=this;t.on("blur",(function(){return e.ngZone.run((function(){return e.onTouchedCallback()}))})),t.on(this.modelEvents,(function(){return e.ngZone.run((function(){return e.emitOnChange(t)}))})),"string"==typeof this.initialValue&&this.ngZone.run((function(){t.setContent(e.initialValue),t.getContent()!==e.initialValue&&e.emitOnChange(t),void 0!==e.onInitNgModel&&e.onInitNgModel.emit(t)}))},e.prototype.emitOnChange=function(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))},e}(u);b.decorators=[{type:e.Component,args:[{selector:"editor",template:"<ng-template></ng-template>",providers:[C],styles:[":host { display: block; }"]}]}],b.ctorParameters=function(){return[{type:e.ElementRef},{type:e.NgZone},{type:Object,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:String,decorators:[{type:e.Optional},{type:e.Inject,args:[w]}]}]},b.propDecorators={cloudChannel:[{type:e.Input}],apiKey:[{type:e.Input}],init:[{type:e.Input}],id:[{type:e.Input}],initialValue:[{type:e.Input}],outputFormat:[{type:e.Input}],inline:[{type:e.Input}],tagName:[{type:e.Input}],plugins:[{type:e.Input}],toolbar:[{type:e.Input}],modelEvents:[{type:e.Input}],allowedEvents:[{type:e.Input}],ignoreEvents:[{type:e.Input}],disabled:[{type:e.Input}]};var S=function(){};S.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,o.FormsModule],declarations:[b],exports:[b]}]}],t.EditorComponent=b,t.EditorModule=S,t.TINYMCE_SCRIPT_SRC=w,t.ɵa=u,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=tinymce-tinymce-angular.umd.min.js.map