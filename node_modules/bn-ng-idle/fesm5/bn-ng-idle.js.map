{"version":3,"file":"bn-ng-idle.js","sources":["bn-ng-idle/lib/bn-ng-idle.service.ts","bn-ng-idle/lib/bn-ng-idle.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Observable, fromEvent, merge, Subject, timer } from 'rxjs';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BnNgIdleService {\r\n\r\n  private idle$: Observable<any>;\r\n  private timer$;\r\n  private timeOutMilliSeconds: number;\r\n  private idleSubscription;\r\n\r\n  public expired$: Subject<boolean> = new Subject<boolean>();\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public startWatching(timeOutSeconds): Observable<any> {\r\n    this.idle$ = merge(\r\n      fromEvent(document, 'mousemove'),\r\n      fromEvent(document, 'click'),\r\n      fromEvent(document, 'mousedown'),\r\n      fromEvent(document, 'keypress'),\r\n      fromEvent(document, 'DOMMouseScroll'),\r\n      fromEvent(document, 'mousewheel'),\r\n      fromEvent(document, 'touchmove'),\r\n      fromEvent(document, 'MSPointerMove'),\r\n      fromEvent(window, 'mousemove'),\r\n      fromEvent(window, 'resize'),\r\n    );\r\n\r\n    this.timeOutMilliSeconds = timeOutSeconds * 1000;\r\n\r\n    this.idleSubscription = this.idle$.subscribe((res) => {\r\n      this.resetTimer();\r\n    });\r\n\r\n    this.startTimer();\r\n\r\n    return this.expired$;\r\n  }\r\n\r\n  private startTimer() {\r\n   this.timer$ = timer(this.timeOutMilliSeconds, this.timeOutMilliSeconds).subscribe((res) => {\r\n      this.expired$.next(true);\r\n    });\r\n  }\r\n\r\n  public resetTimer() {\r\n    this.timer$.unsubscribe();\r\n    this.startTimer();\r\n  }\r\n\r\n  public stopTimer() {\r\n    this.timer$.unsubscribe();\r\n    this.idleSubscription.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BnNgIdleService } from './bn-ng-idle.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n  ],\r\n  declarations: [],\r\n  providers: [BnNgIdleService],\r\n  exports: []\r\n})\r\nexport class BnNgIdleModule { }\r\n"]}