{"version":3,"file":"ngApolloLinkPersisted.umd.js","sources":["../../persisted-queries/src/index.ts","../../persisted-queries/src/ngApolloLinkPersisted.ts"],"names":["setContext","ApolloLink","_createPersistedQueryLink"],"mappings":";;;;;;aAMiC,UAAC,CAAC,EAAE,OAAO;AAAI,QAC9C,IAAM,GAAG,GAAQ,EAAE,CAAC;AACtB,QACE,IAAI,OAAO,CAAC,IAAI,EAAE;AACpB,YAAI,GAAG,CAAC,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC;AACjD,YAAI,GAAG,CAAC,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC;AAC3D,SAAG;AACH,QACE,IAAI,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE;AAC3D,YAAI,GAAG,CAAC,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC;AAC7C,SAAG;AACH,QACE,OAAO,GAAG,CAAC;AACb,IAAA;AAAG,IAbH,IAAM,aAAa,GAAGA,kBAAU,IAa9B,CAAC;AACH,QACa,wBAAwB,GAAG,UAAC,OAAiB,IACxD,OAAAC,eAAU,CAAC,IAAI,CAAC,CAACC,yCAAyB,CAAC,OAAO,CAAC,EAAE,aAAoB,CAAC,CAAC;AAC1E;AAAC,ICvBJ;AACA;AAEA;AACO;AAAC;AACwC;AAAqB;AAAC;AAAmE;AAAC;AAAM","sourcesContent":["import {ApolloLink} from '@apollo/client/link/core';\nimport {setContext} from '@apollo/client/link/context';\nimport {createPersistedQueryLink as _createPersistedQueryLink} from '@apollo/client/link/persisted-queries';\n\nexport type Options = Parameters<typeof _createPersistedQueryLink>[0];\n\nconst transformLink = setContext((_, context) => {\n  const ctx: any = {};\n\n  if (context.http) {\n    ctx.includeQuery = context.http.includeQuery;\n    ctx.includeExtensions = context.http.includeExtensions;\n  }\n\n  if (context.fetchOptions && context.fetchOptions.method) {\n    ctx.method = context.fetchOptions.method;\n  }\n\n  return ctx;\n});\n\nexport const createPersistedQueryLink = (options?: Options) =>\n  ApolloLink.from([_createPersistedQueryLink(options), transformLink as any]);\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}