"use strict";(self.webpackChunkcustomExt=self.webpackChunkcustomExt||[]).push([["extensions_custom-ext_app_src_extension_extension_module_ts"],{8382:(s,c,t)=>{t.d(c,{n:()=>n});var a=t(1090),_=t(2594),e=t(8383),r=t(9764),l=t(4468);let n=(()=>{class u{}return u.\u0275fac=function(M){return new(M||u)},u.\u0275mod=l.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=l.\u0275\u0275defineInjector({imports:[[a.CommonModule,_.AngularSvgIconModule,e.CdkTableModule,r.FieldModule,r.SortButtonModule,r.LineActionModule,r.LoadingSpinnerModule,r.LabelModule]]}),u})()},870:(s,c,t)=>{t.d(c,{o:()=>o});var a=t(1090),_=t(2594),e=t(9764),r=t(8382),d=t(4468);let o=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=d.\u0275\u0275defineInjector({imports:[[a.CommonModule,e.TableHeaderModule,r.n,e.TableFooterModule,_.AngularSvgIconModule]]}),n})()},7673:(s,c,t)=>{t.d(c,{x:()=>r});var a=t(9764),_=t(2343),e=t(4468);let r=(()=>{class d extends a.BaseWidgetComponent{constructor(o,n,u,i){super(),this.listStoreFactory=o,this.meta=n,this.language=u,this.fieldManager=i,this.loading=!1,this.maxHeight=400,this.module="accounts",this.noData=!0,this.subs=[],this.recordList=o.create()}ngOnInit(){!this.context$||(this.recordList.init(this.module,!1),this.recordList.setPageSize(20),this.initRecordSubscription(),this.initLoading(),this.loading=!0,this.meta.getMetadata(this.module).pipe((0,_.take)(1),(0,_.shareReplay)()).subscribe(o=>{this.loading=!1,this.initFieldDefinitions(o),this.initLoadDataSubscription()}))}ngOnDestroy(){}getHeaderLabel(){return this.language.getFieldLabel("LBL_MODULE_NAME","accounts")||""}allLoaded(){const o=this.recordList.getPagination();return!!o&&o.pageSize>=o.total}getLoadMoreButton(){return{klass:"load-more-button btn btn-link btn-sm",labelKey:"LBL_LOAD_MORE",onClick:()=>{this.loadMore()}}}initField(o,n){var u;if(!o||!n)return null;if(n.fields&&n.fields[o])return n.fields[o];const i=null!==(u=null==this?void 0:this.fieldDefs[o])&&void 0!==u?u:null;return i?this.fieldManager.addField(n,i):null}initRecordSubscription(){this.subs.push(this.recordList.records$.subscribe(o=>{this.records=o}))}initLoading(){this.subs.push(this.recordList.loading$.subscribe(o=>{this.loading=!0===o}))}updateSearchCriteria(){this.recordList.updateSearchCriteria({filters:{},orderBy:"DESC",sortOrder:"",searchModule:this.module})}initLoadDataSubscription(){this.subs.push(this.context$.subscribe(o=>{this.context=o,this.loadData()}))}loadData(){this.updateSearchCriteria(),this.recordList.load().pipe((0,_.take)(1)).subscribe()}initFieldDefinitions(o){var n,u;const i=null!==(u=null===(n=null==o?void 0:o.listView)||void 0===n?void 0:n.fields)&&void 0!==u?u:[];this.fieldDefs=[],i.forEach(M=>{!M||!M.name||(this.fieldDefs[M.name]=M)})}loadMore(o=10){let i=(this.recordList.getPagination().pageSize||0)+o;this.recordList.setPageSize(i),this.recordList.updatePagination(0)}}return d.\u0275fac=function(o){return new(o||d)(e.\u0275\u0275directiveInject(a.RecordListStoreFactory),e.\u0275\u0275directiveInject(a.MetadataStore),e.\u0275\u0275directiveInject(a.LanguageStore),e.\u0275\u0275directiveInject(a.FieldManager))},d.\u0275cmp=e.\u0275\u0275defineComponent({type:d,selectors:[["scrm-account-tree-sidebar-widget"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[3,"title"],["widget-body","",1,"account-tree-sidebar-widget"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"scrm-widget-panel",0),e.\u0275\u0275element(1,"div",1),e.\u0275\u0275elementEnd()),2&o&&e.\u0275\u0275property("title","Account Tree Widget")},directives:[a.WidgetPanelComponent],encapsulation:2}),d})()},4676:(s,c,t)=>{t.d(c,{q:()=>r});var a=t(1090),_=t(9764),e=t(4468);let r=(()=>{class d{}return d.\u0275fac=function(o){return new(o||d)},d.\u0275mod=e.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=e.\u0275\u0275defineInjector({imports:[[a.CommonModule,_.LoadingSpinnerModule,_.WidgetPanelModule]]}),d})()},5679:(s,c,t)=>{t.r(c),t.d(c,{ExtensionModule:()=>m});var a=t(1090),_=t(9764),e=t(2445),r=t(4676),d=t(7673),l=t(1829),o=t(196),n=t(870),u=t(8382),i=t(2069),M=t(4468);let m=(()=>{class O{constructor(g){this.sidebarWidgetRegistry=g,g.register("default","account-tree",d.x)}init(){}}return O.\u0275fac=function(g){return new(g||O)(M.\u0275\u0275inject(_.SidebarWidgetRegistry))},O.\u0275mod=M.\u0275\u0275defineNgModule({type:O}),O.\u0275inj=M.\u0275\u0275defineInjector({imports:[[a.CommonModule,e.HttpClientModule,r.q,l.G,o.d,n.o,u.n,i.q]]}),O})()},196:(s,c,t)=>{t.d(c,{d:()=>o});var a=t(1090),_=t(2594),e=t(9764),r=t(870),d=t(4468);let o=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=d.\u0275\u0275defineInjector({imports:[[a.CommonModule,r.o,e.WidgetPanelModule,_.AngularSvgIconModule,e.SidebarWidgetModule]]}),n})()},1829:(s,c,t)=>{t.d(c,{G:()=>o});var a=t(1090),_=t(9764),e=t(196),E=t(8383),d=t(4468);let o=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=d.\u0275\u0275defineInjector({imports:[[a.CommonModule,_.ListHeaderModule,e.d,_.FieldModule,E.CdkTableModule,_.ModalModule]]}),n})()},4648:(s,c,t)=>{t.d(c,{C:()=>d});var a=t(1090),_=t(9764),e=t(8382),E=t(4468);let d=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=E.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=E.\u0275\u0275defineInjector({imports:[[a.CommonModule,_.ModuleTitleModule,_.DynamicLabelModule,_.ActionGroupMenuModule,_.FavoriteToggleModule,e.n]]}),l})()},2069:(s,c,t)=>{t.d(c,{q:()=>d});var a=t(1090),_=t(9764),e=t(4648),E=t(4468);let d=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=E.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=E.\u0275\u0275defineInjector({imports:[[a.CommonModule,_.FieldModule,_.RecordContainerModule,e.C,_.StatusBarModule,_.SubpanelModule]]}),l})()}}]);