{"version":3,"file":"node_modules_apollo-angular_fesm2015_ngApollo_js-_31301-es2015.42b57f5d2fbb89a1a2eb.js","mappings":"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","sources":["./node_modules/@apollo/client/cache/inmemory/object-canon.js","./node_modules/@apollo/client/cache/inmemory/reactiveVars.js","./node_modules/@apollo/client/core/ApolloClient.js","./node_modules/@apollo/client/core/LocalState.js","./node_modules/@apollo/client/core/ObservableQuery.js","./node_modules/@apollo/client/core/QueryInfo.js","./node_modules/@apollo/client/core/QueryManager.js","./node_modules/@apollo/client/core/networkStatus.js","./node_modules/@apollo/client/errors/index.js","./node_modules/@apollo/client/link/core/ApolloLink.js","./node_modules/@apollo/client/link/core/execute.js","./node_modules/@apollo/client/link/http/HttpLink.js","./node_modules/@apollo/client/link/http/checkFetcher.js","./node_modules/@apollo/client/link/http/createHttpLink.js","./node_modules/@apollo/client/link/http/createSignalIfSupported.js","./node_modules/@apollo/client/link/http/parseAndCheckHttpResponse.js","./node_modules/@apollo/client/link/http/rewriteURIForGET.js","./node_modules/@apollo/client/link/http/selectHttpOptionsAndBody.js","./node_modules/@apollo/client/link/http/selectURI.js","./node_modules/@apollo/client/link/http/serializeFetchParameter.js","./node_modules/@apollo/client/link/utils/createOperation.js","./node_modules/@apollo/client/link/utils/fromError.js","./node_modules/@apollo/client/link/utils/throwServerError.js","./node_modules/@apollo/client/link/utils/transformOperation.js","./node_modules/@apollo/client/link/utils/validateOperation.js","./node_modules/@apollo/client/utilities/common/arrays.js","./node_modules/@apollo/client/utilities/common/canUse.js","./node_modules/@apollo/client/utilities/common/cloneDeep.js","./node_modules/@apollo/client/utilities/common/compact.js","./node_modules/@apollo/client/utilities/common/errorHandling.js","./node_modules/@apollo/client/utilities/common/filterInPlace.js","./node_modules/@apollo/client/utilities/common/makeUniqueId.js","./node_modules/@apollo/client/utilities/common/mergeDeep.js","./node_modules/@apollo/client/utilities/common/objects.js","./node_modules/@apollo/client/utilities/globals/DEV.js","./node_modules/@apollo/client/utilities/globals/global.js","./node_modules/@apollo/client/utilities/globals/graphql.js","./node_modules/@apollo/client/utilities/globals/index.js","./node_modules/@apollo/client/utilities/globals/maybe.js","./node_modules/@apollo/client/utilities/graphql/directives.js","./node_modules/@apollo/client/utilities/graphql/fragments.js","./node_modules/@apollo/client/utilities/graphql/getFromAST.js","./node_modules/@apollo/client/utilities/graphql/storeUtils.js","./node_modules/@apollo/client/utilities/graphql/transform.js","./node_modules/@apollo/client/utilities/observables/Concast.js","./node_modules/@apollo/client/utilities/observables/asyncMap.js","./node_modules/@apollo/client/utilities/observables/iteration.js","./node_modules/@apollo/client/utilities/observables/subclassing.js","./node_modules/@apollo/client/version.js","./node_modules/@wry/context/lib/context.esm.js","./node_modules/@wry/equality/lib/equality.esm.js","./node_modules/@wry/trie/lib/trie.esm.js","./node_modules/apollo-angular/fesm2015/ngApollo.js","./node_modules/optimism/lib/bundle.esm.js","./node_modules/ts-invariant/lib/invariant.esm.js","./node_modules/ts-invariant/process/index.js","./node_modules/zen-observable-ts/module.js"],"sourcesContent":["import { __assign } from \"tslib\";\r\nimport \"../../utilities/globals/index.js\";\r\nimport { Trie } from \"@wry/trie\";\r\nimport { canUseWeakMap, canUseWeakSet, isNonNullObject as isObjectOrArray, } from \"../../utilities/index.js\";\r\nfunction shallowCopy(value) {\r\n    if (isObjectOrArray(value)) {\r\n        return Array.isArray(value)\r\n            ? value.slice(0)\r\n            : __assign({ __proto__: Object.getPrototypeOf(value) }, value);\r\n    }\r\n    return value;\r\n}\r\nvar ObjectCanon = (function () {\r\n    function ObjectCanon() {\r\n        this.known = new (canUseWeakSet ? WeakSet : Set)();\r\n        this.pool = new Trie(canUseWeakMap);\r\n        this.passes = new WeakMap();\r\n        this.keysByJSON = new Map();\r\n        this.empty = this.admit({});\r\n    }\r\n    ObjectCanon.prototype.isKnown = function (value) {\r\n        return isObjectOrArray(value) && this.known.has(value);\r\n    };\r\n    ObjectCanon.prototype.pass = function (value) {\r\n        if (isObjectOrArray(value)) {\r\n            var copy = shallowCopy(value);\r\n            this.passes.set(copy, value);\r\n            return copy;\r\n        }\r\n        return value;\r\n    };\r\n    ObjectCanon.prototype.admit = function (value) {\r\n        var _this = this;\r\n        if (isObjectOrArray(value)) {\r\n            var original = this.passes.get(value);\r\n            if (original)\r\n                return original;\r\n            var proto = Object.getPrototypeOf(value);\r\n            switch (proto) {\r\n                case Array.prototype: {\r\n                    if (this.known.has(value))\r\n                        return value;\r\n                    var array = value.map(this.admit, this);\r\n                    var node = this.pool.lookupArray(array);\r\n                    if (!node.array) {\r\n                        this.known.add(node.array = array);\r\n                        if (__DEV__) {\r\n                            Object.freeze(array);\r\n                        }\r\n                    }\r\n                    return node.array;\r\n                }\r\n                case null:\r\n                case Object.prototype: {\r\n                    if (this.known.has(value))\r\n                        return value;\r\n                    var proto_1 = Object.getPrototypeOf(value);\r\n                    var array_1 = [proto_1];\r\n                    var keys = this.sortedKeys(value);\r\n                    array_1.push(keys.json);\r\n                    var firstValueIndex_1 = array_1.length;\r\n                    keys.sorted.forEach(function (key) {\r\n                        array_1.push(_this.admit(value[key]));\r\n                    });\r\n                    var node = this.pool.lookupArray(array_1);\r\n                    if (!node.object) {\r\n                        var obj_1 = node.object = Object.create(proto_1);\r\n                        this.known.add(obj_1);\r\n                        keys.sorted.forEach(function (key, i) {\r\n                            obj_1[key] = array_1[firstValueIndex_1 + i];\r\n                        });\r\n                        if (__DEV__) {\r\n                            Object.freeze(obj_1);\r\n                        }\r\n                    }\r\n                    return node.object;\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    ObjectCanon.prototype.sortedKeys = function (obj) {\r\n        var keys = Object.keys(obj);\r\n        var node = this.pool.lookupArray(keys);\r\n        if (!node.keys) {\r\n            keys.sort();\r\n            var json = JSON.stringify(keys);\r\n            if (!(node.keys = this.keysByJSON.get(json))) {\r\n                this.keysByJSON.set(json, node.keys = { sorted: keys, json: json });\r\n            }\r\n        }\r\n        return node.keys;\r\n    };\r\n    return ObjectCanon;\r\n}());\r\nexport { ObjectCanon };\r\nexport var canonicalStringify = Object.assign(function (value) {\r\n    if (isObjectOrArray(value)) {\r\n        if (stringifyCanon === void 0) {\r\n            resetCanonicalStringify();\r\n        }\r\n        var canonical = stringifyCanon.admit(value);\r\n        var json = stringifyCache.get(canonical);\r\n        if (json === void 0) {\r\n            stringifyCache.set(canonical, json = JSON.stringify(canonical));\r\n        }\r\n        return json;\r\n    }\r\n    return JSON.stringify(value);\r\n}, {\r\n    reset: resetCanonicalStringify,\r\n});\r\nvar stringifyCanon;\r\nvar stringifyCache;\r\nfunction resetCanonicalStringify() {\r\n    stringifyCanon = new ObjectCanon;\r\n    stringifyCache = new (canUseWeakMap ? WeakMap : Map)();\r\n}\r\n","import { dep } from \"optimism\";\r\nimport { Slot } from \"@wry/context\";\r\nexport var cacheSlot = new Slot();\r\nvar cacheInfoMap = new WeakMap();\r\nfunction getCacheInfo(cache) {\r\n    var info = cacheInfoMap.get(cache);\r\n    if (!info) {\r\n        cacheInfoMap.set(cache, info = {\r\n            vars: new Set,\r\n            dep: dep(),\r\n        });\r\n    }\r\n    return info;\r\n}\r\nexport function forgetCache(cache) {\r\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.forgetCache(cache); });\r\n}\r\nexport function recallCache(cache) {\r\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.attachCache(cache); });\r\n}\r\nexport function makeVar(value) {\r\n    var caches = new Set();\r\n    var listeners = new Set();\r\n    var rv = function (newValue) {\r\n        if (arguments.length > 0) {\r\n            if (value !== newValue) {\r\n                value = newValue;\r\n                caches.forEach(function (cache) {\r\n                    getCacheInfo(cache).dep.dirty(rv);\r\n                    broadcast(cache);\r\n                });\r\n                var oldListeners = Array.from(listeners);\r\n                listeners.clear();\r\n                oldListeners.forEach(function (listener) { return listener(value); });\r\n            }\r\n        }\r\n        else {\r\n            var cache = cacheSlot.getValue();\r\n            if (cache) {\r\n                attach(cache);\r\n                getCacheInfo(cache).dep(rv);\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    rv.onNextChange = function (listener) {\r\n        listeners.add(listener);\r\n        return function () {\r\n            listeners.delete(listener);\r\n        };\r\n    };\r\n    var attach = rv.attachCache = function (cache) {\r\n        caches.add(cache);\r\n        getCacheInfo(cache).vars.add(rv);\r\n        return rv;\r\n    };\r\n    rv.forgetCache = function (cache) { return caches.delete(cache); };\r\n    return rv;\r\n}\r\nfunction broadcast(cache) {\r\n    if (cache.broadcastWatches) {\r\n        cache.broadcastWatches();\r\n    }\r\n}\r\n","import { __assign } from \"tslib\";\r\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\r\nimport { ApolloLink, execute } from \"../link/core/index.js\";\r\nimport { compact } from \"../utilities/index.js\";\r\nimport { version } from \"../version.js\";\r\nimport { HttpLink } from \"../link/http/index.js\";\r\nimport { QueryManager } from \"./QueryManager.js\";\r\nimport { LocalState, } from \"./LocalState.js\";\r\nvar hasSuggestedDevtools = false;\r\nexport function mergeOptions(defaults, options) {\r\n    return compact(defaults, options, options.variables && {\r\n        variables: __assign(__assign({}, defaults.variables), options.variables),\r\n    });\r\n}\r\nvar ApolloClient = (function () {\r\n    function ApolloClient(options) {\r\n        var _this = this;\r\n        this.defaultOptions = {};\r\n        this.resetStoreCallbacks = [];\r\n        this.clearStoreCallbacks = [];\r\n        var uri = options.uri, credentials = options.credentials, headers = options.headers, cache = options.cache, _a = options.ssrMode, ssrMode = _a === void 0 ? false : _a, _b = options.ssrForceFetchDelay, ssrForceFetchDelay = _b === void 0 ? 0 : _b, _c = options.connectToDevTools, connectToDevTools = _c === void 0 ? typeof window === 'object' &&\r\n            !window.__APOLLO_CLIENT__ &&\r\n            __DEV__ : _c, _d = options.queryDeduplication, queryDeduplication = _d === void 0 ? true : _d, defaultOptions = options.defaultOptions, _e = options.assumeImmutableResults, assumeImmutableResults = _e === void 0 ? false : _e, resolvers = options.resolvers, typeDefs = options.typeDefs, fragmentMatcher = options.fragmentMatcher, clientAwarenessName = options.name, clientAwarenessVersion = options.version;\r\n        var link = options.link;\r\n        if (!link) {\r\n            link = uri\r\n                ? new HttpLink({ uri: uri, credentials: credentials, headers: headers })\r\n                : ApolloLink.empty();\r\n        }\r\n        if (!cache) {\r\n            throw __DEV__ ? new InvariantError(\"To initialize Apollo Client, you must specify a 'cache' property \" +\r\n                \"in the options object. \\n\" +\r\n                \"For more information, please visit: https://go.apollo.dev/c/docs\") : new InvariantError(9);\r\n        }\r\n        this.link = link;\r\n        this.cache = cache;\r\n        this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\r\n        this.queryDeduplication = queryDeduplication;\r\n        this.defaultOptions = defaultOptions || {};\r\n        this.typeDefs = typeDefs;\r\n        if (ssrForceFetchDelay) {\r\n            setTimeout(function () { return (_this.disableNetworkFetches = false); }, ssrForceFetchDelay);\r\n        }\r\n        this.watchQuery = this.watchQuery.bind(this);\r\n        this.query = this.query.bind(this);\r\n        this.mutate = this.mutate.bind(this);\r\n        this.resetStore = this.resetStore.bind(this);\r\n        this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this);\r\n        if (connectToDevTools && typeof window === 'object') {\r\n            window.__APOLLO_CLIENT__ = this;\r\n        }\r\n        if (!hasSuggestedDevtools && __DEV__) {\r\n            hasSuggestedDevtools = true;\r\n            if (typeof window !== 'undefined' &&\r\n                window.document &&\r\n                window.top === window.self &&\r\n                !window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__) {\r\n                var nav = window.navigator;\r\n                var ua = nav && nav.userAgent;\r\n                var url = void 0;\r\n                if (typeof ua === \"string\") {\r\n                    if (ua.indexOf(\"Chrome/\") > -1) {\r\n                        url = \"https://chrome.google.com/webstore/detail/\" +\r\n                            \"apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm\";\r\n                    }\r\n                    else if (ua.indexOf(\"Firefox/\") > -1) {\r\n                        url = \"https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/\";\r\n                    }\r\n                }\r\n                if (url) {\r\n                    __DEV__ && invariant.log(\"Download the Apollo DevTools for a better development \" +\r\n                        \"experience: \" + url);\r\n                }\r\n            }\r\n        }\r\n        this.version = version;\r\n        this.localState = new LocalState({\r\n            cache: cache,\r\n            client: this,\r\n            resolvers: resolvers,\r\n            fragmentMatcher: fragmentMatcher,\r\n        });\r\n        this.queryManager = new QueryManager({\r\n            cache: this.cache,\r\n            link: this.link,\r\n            queryDeduplication: queryDeduplication,\r\n            ssrMode: ssrMode,\r\n            clientAwareness: {\r\n                name: clientAwarenessName,\r\n                version: clientAwarenessVersion,\r\n            },\r\n            localState: this.localState,\r\n            assumeImmutableResults: assumeImmutableResults,\r\n            onBroadcast: connectToDevTools ? function () {\r\n                if (_this.devToolsHookCb) {\r\n                    _this.devToolsHookCb({\r\n                        action: {},\r\n                        state: {\r\n                            queries: _this.queryManager.getQueryStore(),\r\n                            mutations: _this.queryManager.mutationStore || {},\r\n                        },\r\n                        dataWithOptimisticResults: _this.cache.extract(true),\r\n                    });\r\n                }\r\n            } : void 0,\r\n        });\r\n    }\r\n    ApolloClient.prototype.stop = function () {\r\n        this.queryManager.stop();\r\n    };\r\n    ApolloClient.prototype.watchQuery = function (options) {\r\n        if (this.defaultOptions.watchQuery) {\r\n            options = mergeOptions(this.defaultOptions.watchQuery, options);\r\n        }\r\n        if (this.disableNetworkFetches &&\r\n            (options.fetchPolicy === 'network-only' ||\r\n                options.fetchPolicy === 'cache-and-network')) {\r\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\r\n        }\r\n        return this.queryManager.watchQuery(options);\r\n    };\r\n    ApolloClient.prototype.query = function (options) {\r\n        if (this.defaultOptions.query) {\r\n            options = mergeOptions(this.defaultOptions.query, options);\r\n        }\r\n        __DEV__ ? invariant(options.fetchPolicy !== 'cache-and-network', 'The cache-and-network fetchPolicy does not work with client.query, because ' +\r\n            'client.query can only return a single result. Please use client.watchQuery ' +\r\n            'to receive multiple results from the cache and the network, or consider ' +\r\n            'using a different fetchPolicy, such as cache-first or network-only.') : invariant(options.fetchPolicy !== 'cache-and-network', 10);\r\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\r\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\r\n        }\r\n        return this.queryManager.query(options);\r\n    };\r\n    ApolloClient.prototype.mutate = function (options) {\r\n        if (this.defaultOptions.mutate) {\r\n            options = mergeOptions(this.defaultOptions.mutate, options);\r\n        }\r\n        return this.queryManager.mutate(options);\r\n    };\r\n    ApolloClient.prototype.subscribe = function (options) {\r\n        return this.queryManager.startGraphQLSubscription(options);\r\n    };\r\n    ApolloClient.prototype.readQuery = function (options, optimistic) {\r\n        if (optimistic === void 0) { optimistic = false; }\r\n        return this.cache.readQuery(options, optimistic);\r\n    };\r\n    ApolloClient.prototype.readFragment = function (options, optimistic) {\r\n        if (optimistic === void 0) { optimistic = false; }\r\n        return this.cache.readFragment(options, optimistic);\r\n    };\r\n    ApolloClient.prototype.writeQuery = function (options) {\r\n        this.cache.writeQuery(options);\r\n        this.queryManager.broadcastQueries();\r\n    };\r\n    ApolloClient.prototype.writeFragment = function (options) {\r\n        this.cache.writeFragment(options);\r\n        this.queryManager.broadcastQueries();\r\n    };\r\n    ApolloClient.prototype.__actionHookForDevTools = function (cb) {\r\n        this.devToolsHookCb = cb;\r\n    };\r\n    ApolloClient.prototype.__requestRaw = function (payload) {\r\n        return execute(this.link, payload);\r\n    };\r\n    ApolloClient.prototype.resetStore = function () {\r\n        var _this = this;\r\n        return Promise.resolve()\r\n            .then(function () { return _this.queryManager.clearStore(); })\r\n            .then(function () { return Promise.all(_this.resetStoreCallbacks.map(function (fn) { return fn(); })); })\r\n            .then(function () { return _this.reFetchObservableQueries(); });\r\n    };\r\n    ApolloClient.prototype.clearStore = function () {\r\n        var _this = this;\r\n        return Promise.resolve()\r\n            .then(function () { return _this.queryManager.clearStore(); })\r\n            .then(function () { return Promise.all(_this.clearStoreCallbacks.map(function (fn) { return fn(); })); });\r\n    };\r\n    ApolloClient.prototype.onResetStore = function (cb) {\r\n        var _this = this;\r\n        this.resetStoreCallbacks.push(cb);\r\n        return function () {\r\n            _this.resetStoreCallbacks = _this.resetStoreCallbacks.filter(function (c) { return c !== cb; });\r\n        };\r\n    };\r\n    ApolloClient.prototype.onClearStore = function (cb) {\r\n        var _this = this;\r\n        this.clearStoreCallbacks.push(cb);\r\n        return function () {\r\n            _this.clearStoreCallbacks = _this.clearStoreCallbacks.filter(function (c) { return c !== cb; });\r\n        };\r\n    };\r\n    ApolloClient.prototype.reFetchObservableQueries = function (includeStandby) {\r\n        return this.queryManager.reFetchObservableQueries(includeStandby);\r\n    };\r\n    ApolloClient.prototype.refetchQueries = function (options) {\r\n        var map = this.queryManager.refetchQueries(options);\r\n        var queries = [];\r\n        var results = [];\r\n        map.forEach(function (result, obsQuery) {\r\n            queries.push(obsQuery);\r\n            results.push(result);\r\n        });\r\n        var result = Promise.all(results);\r\n        result.queries = queries;\r\n        result.results = results;\r\n        result.catch(function (error) {\r\n            __DEV__ && invariant.debug(\"In client.refetchQueries, Promise.all promise rejected with error \" + error);\r\n        });\r\n        return result;\r\n    };\r\n    ApolloClient.prototype.getObservableQueries = function (include) {\r\n        if (include === void 0) { include = \"active\"; }\r\n        return this.queryManager.getObservableQueries(include);\r\n    };\r\n    ApolloClient.prototype.extract = function (optimistic) {\r\n        return this.cache.extract(optimistic);\r\n    };\r\n    ApolloClient.prototype.restore = function (serializedState) {\r\n        return this.cache.restore(serializedState);\r\n    };\r\n    ApolloClient.prototype.addResolvers = function (resolvers) {\r\n        this.localState.addResolvers(resolvers);\r\n    };\r\n    ApolloClient.prototype.setResolvers = function (resolvers) {\r\n        this.localState.setResolvers(resolvers);\r\n    };\r\n    ApolloClient.prototype.getResolvers = function () {\r\n        return this.localState.getResolvers();\r\n    };\r\n    ApolloClient.prototype.setLocalStateFragmentMatcher = function (fragmentMatcher) {\r\n        this.localState.setFragmentMatcher(fragmentMatcher);\r\n    };\r\n    ApolloClient.prototype.setLink = function (newLink) {\r\n        this.link = this.queryManager.link = newLink;\r\n    };\r\n    return ApolloClient;\r\n}());\r\nexport { ApolloClient };\r\n","import { __assign, __awaiter, __generator } from \"tslib\";\r\nimport { invariant } from \"../utilities/globals/index.js\";\r\nimport { visit, BREAK, } from 'graphql';\r\nimport { argumentsObjectFromField, buildQueryFromSelectionSet, createFragmentMap, getFragmentDefinitions, getMainDefinition, hasDirectives, isField, isInlineFragment, mergeDeep, mergeDeepArray, removeClientSetsFromDocument, resultKeyNameFromField, shouldInclude, } from \"../utilities/index.js\";\r\nimport { cacheSlot } from \"../cache/index.js\";\r\nvar LocalState = (function () {\r\n    function LocalState(_a) {\r\n        var cache = _a.cache, client = _a.client, resolvers = _a.resolvers, fragmentMatcher = _a.fragmentMatcher;\r\n        this.cache = cache;\r\n        if (client) {\r\n            this.client = client;\r\n        }\r\n        if (resolvers) {\r\n            this.addResolvers(resolvers);\r\n        }\r\n        if (fragmentMatcher) {\r\n            this.setFragmentMatcher(fragmentMatcher);\r\n        }\r\n    }\r\n    LocalState.prototype.addResolvers = function (resolvers) {\r\n        var _this = this;\r\n        this.resolvers = this.resolvers || {};\r\n        if (Array.isArray(resolvers)) {\r\n            resolvers.forEach(function (resolverGroup) {\r\n                _this.resolvers = mergeDeep(_this.resolvers, resolverGroup);\r\n            });\r\n        }\r\n        else {\r\n            this.resolvers = mergeDeep(this.resolvers, resolvers);\r\n        }\r\n    };\r\n    LocalState.prototype.setResolvers = function (resolvers) {\r\n        this.resolvers = {};\r\n        this.addResolvers(resolvers);\r\n    };\r\n    LocalState.prototype.getResolvers = function () {\r\n        return this.resolvers || {};\r\n    };\r\n    LocalState.prototype.runResolvers = function (_a) {\r\n        var document = _a.document, remoteResult = _a.remoteResult, context = _a.context, variables = _a.variables, _b = _a.onlyRunForcedResolvers, onlyRunForcedResolvers = _b === void 0 ? false : _b;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_c) {\r\n                if (document) {\r\n                    return [2, this.resolveDocument(document, remoteResult.data, context, variables, this.fragmentMatcher, onlyRunForcedResolvers).then(function (localResult) { return (__assign(__assign({}, remoteResult), { data: localResult.result })); })];\r\n                }\r\n                return [2, remoteResult];\r\n            });\r\n        });\r\n    };\r\n    LocalState.prototype.setFragmentMatcher = function (fragmentMatcher) {\r\n        this.fragmentMatcher = fragmentMatcher;\r\n    };\r\n    LocalState.prototype.getFragmentMatcher = function () {\r\n        return this.fragmentMatcher;\r\n    };\r\n    LocalState.prototype.clientQuery = function (document) {\r\n        if (hasDirectives(['client'], document)) {\r\n            if (this.resolvers) {\r\n                return document;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    LocalState.prototype.serverQuery = function (document) {\r\n        return removeClientSetsFromDocument(document);\r\n    };\r\n    LocalState.prototype.prepareContext = function (context) {\r\n        var cache = this.cache;\r\n        return __assign(__assign({}, context), { cache: cache, getCacheKey: function (obj) {\r\n                return cache.identify(obj);\r\n            } });\r\n    };\r\n    LocalState.prototype.addExportedVariables = function (document, variables, context) {\r\n        if (variables === void 0) { variables = {}; }\r\n        if (context === void 0) { context = {}; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (document) {\r\n                    return [2, this.resolveDocument(document, this.buildRootValueFromCache(document, variables) || {}, this.prepareContext(context), variables).then(function (data) { return (__assign(__assign({}, variables), data.exportedVariables)); })];\r\n                }\r\n                return [2, __assign({}, variables)];\r\n            });\r\n        });\r\n    };\r\n    LocalState.prototype.shouldForceResolvers = function (document) {\r\n        var forceResolvers = false;\r\n        visit(document, {\r\n            Directive: {\r\n                enter: function (node) {\r\n                    if (node.name.value === 'client' && node.arguments) {\r\n                        forceResolvers = node.arguments.some(function (arg) {\r\n                            return arg.name.value === 'always' &&\r\n                                arg.value.kind === 'BooleanValue' &&\r\n                                arg.value.value === true;\r\n                        });\r\n                        if (forceResolvers) {\r\n                            return BREAK;\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n        });\r\n        return forceResolvers;\r\n    };\r\n    LocalState.prototype.buildRootValueFromCache = function (document, variables) {\r\n        return this.cache.diff({\r\n            query: buildQueryFromSelectionSet(document),\r\n            variables: variables,\r\n            returnPartialData: true,\r\n            optimistic: false,\r\n        }).result;\r\n    };\r\n    LocalState.prototype.resolveDocument = function (document, rootValue, context, variables, fragmentMatcher, onlyRunForcedResolvers) {\r\n        if (context === void 0) { context = {}; }\r\n        if (variables === void 0) { variables = {}; }\r\n        if (fragmentMatcher === void 0) { fragmentMatcher = function () { return true; }; }\r\n        if (onlyRunForcedResolvers === void 0) { onlyRunForcedResolvers = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var mainDefinition, fragments, fragmentMap, definitionOperation, defaultOperationType, _a, cache, client, execContext;\r\n            return __generator(this, function (_b) {\r\n                mainDefinition = getMainDefinition(document);\r\n                fragments = getFragmentDefinitions(document);\r\n                fragmentMap = createFragmentMap(fragments);\r\n                definitionOperation = mainDefinition\r\n                    .operation;\r\n                defaultOperationType = definitionOperation\r\n                    ? definitionOperation.charAt(0).toUpperCase() +\r\n                        definitionOperation.slice(1)\r\n                    : 'Query';\r\n                _a = this, cache = _a.cache, client = _a.client;\r\n                execContext = {\r\n                    fragmentMap: fragmentMap,\r\n                    context: __assign(__assign({}, context), { cache: cache, client: client }),\r\n                    variables: variables,\r\n                    fragmentMatcher: fragmentMatcher,\r\n                    defaultOperationType: defaultOperationType,\r\n                    exportedVariables: {},\r\n                    onlyRunForcedResolvers: onlyRunForcedResolvers,\r\n                };\r\n                return [2, this.resolveSelectionSet(mainDefinition.selectionSet, rootValue, execContext).then(function (result) { return ({\r\n                        result: result,\r\n                        exportedVariables: execContext.exportedVariables,\r\n                    }); })];\r\n            });\r\n        });\r\n    };\r\n    LocalState.prototype.resolveSelectionSet = function (selectionSet, rootValue, execContext) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var fragmentMap, context, variables, resultsToMerge, execute;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                fragmentMap = execContext.fragmentMap, context = execContext.context, variables = execContext.variables;\r\n                resultsToMerge = [rootValue];\r\n                execute = function (selection) { return __awaiter(_this, void 0, void 0, function () {\r\n                    var fragment, typeCondition;\r\n                    return __generator(this, function (_a) {\r\n                        if (!shouldInclude(selection, variables)) {\r\n                            return [2];\r\n                        }\r\n                        if (isField(selection)) {\r\n                            return [2, this.resolveField(selection, rootValue, execContext).then(function (fieldResult) {\r\n                                    var _a;\r\n                                    if (typeof fieldResult !== 'undefined') {\r\n                                        resultsToMerge.push((_a = {},\r\n                                            _a[resultKeyNameFromField(selection)] = fieldResult,\r\n                                            _a));\r\n                                    }\r\n                                })];\r\n                        }\r\n                        if (isInlineFragment(selection)) {\r\n                            fragment = selection;\r\n                        }\r\n                        else {\r\n                            fragment = fragmentMap[selection.name.value];\r\n                            __DEV__ ? invariant(fragment, \"No fragment named \" + selection.name.value) : invariant(fragment, 11);\r\n                        }\r\n                        if (fragment && fragment.typeCondition) {\r\n                            typeCondition = fragment.typeCondition.name.value;\r\n                            if (execContext.fragmentMatcher(rootValue, typeCondition, context)) {\r\n                                return [2, this.resolveSelectionSet(fragment.selectionSet, rootValue, execContext).then(function (fragmentResult) {\r\n                                        resultsToMerge.push(fragmentResult);\r\n                                    })];\r\n                            }\r\n                        }\r\n                        return [2];\r\n                    });\r\n                }); };\r\n                return [2, Promise.all(selectionSet.selections.map(execute)).then(function () {\r\n                        return mergeDeepArray(resultsToMerge);\r\n                    })];\r\n            });\r\n        });\r\n    };\r\n    LocalState.prototype.resolveField = function (field, rootValue, execContext) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var variables, fieldName, aliasedFieldName, aliasUsed, defaultResult, resultPromise, resolverType, resolverMap, resolve;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                variables = execContext.variables;\r\n                fieldName = field.name.value;\r\n                aliasedFieldName = resultKeyNameFromField(field);\r\n                aliasUsed = fieldName !== aliasedFieldName;\r\n                defaultResult = rootValue[aliasedFieldName] || rootValue[fieldName];\r\n                resultPromise = Promise.resolve(defaultResult);\r\n                if (!execContext.onlyRunForcedResolvers ||\r\n                    this.shouldForceResolvers(field)) {\r\n                    resolverType = rootValue.__typename || execContext.defaultOperationType;\r\n                    resolverMap = this.resolvers && this.resolvers[resolverType];\r\n                    if (resolverMap) {\r\n                        resolve = resolverMap[aliasUsed ? fieldName : aliasedFieldName];\r\n                        if (resolve) {\r\n                            resultPromise = Promise.resolve(cacheSlot.withValue(this.cache, resolve, [\r\n                                rootValue,\r\n                                argumentsObjectFromField(field, variables),\r\n                                execContext.context,\r\n                                { field: field, fragmentMap: execContext.fragmentMap },\r\n                            ]));\r\n                        }\r\n                    }\r\n                }\r\n                return [2, resultPromise.then(function (result) {\r\n                        if (result === void 0) { result = defaultResult; }\r\n                        if (field.directives) {\r\n                            field.directives.forEach(function (directive) {\r\n                                if (directive.name.value === 'export' && directive.arguments) {\r\n                                    directive.arguments.forEach(function (arg) {\r\n                                        if (arg.name.value === 'as' && arg.value.kind === 'StringValue') {\r\n                                            execContext.exportedVariables[arg.value.value] = result;\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                        if (!field.selectionSet) {\r\n                            return result;\r\n                        }\r\n                        if (result == null) {\r\n                            return result;\r\n                        }\r\n                        if (Array.isArray(result)) {\r\n                            return _this.resolveSubSelectedArray(field, result, execContext);\r\n                        }\r\n                        if (field.selectionSet) {\r\n                            return _this.resolveSelectionSet(field.selectionSet, result, execContext);\r\n                        }\r\n                    })];\r\n            });\r\n        });\r\n    };\r\n    LocalState.prototype.resolveSubSelectedArray = function (field, result, execContext) {\r\n        var _this = this;\r\n        return Promise.all(result.map(function (item) {\r\n            if (item === null) {\r\n                return null;\r\n            }\r\n            if (Array.isArray(item)) {\r\n                return _this.resolveSubSelectedArray(field, item, execContext);\r\n            }\r\n            if (field.selectionSet) {\r\n                return _this.resolveSelectionSet(field.selectionSet, item, execContext);\r\n            }\r\n        }));\r\n    };\r\n    return LocalState;\r\n}());\r\nexport { LocalState };\r\n","import { __assign, __extends } from \"tslib\";\r\nimport { invariant } from \"../utilities/globals/index.js\";\r\nimport { equal } from '@wry/equality';\r\nimport { NetworkStatus, isNetworkRequestInFlight } from \"./networkStatus.js\";\r\nimport { compact, cloneDeep, getOperationDefinition, Observable, iterateObserversSafely, isNonEmptyArray, fixObservableSubclass, getQueryDefinition, } from \"../utilities/index.js\";\r\nvar assign = Object.assign, hasOwnProperty = Object.hasOwnProperty;\r\nvar warnedAboutUpdateQuery = false;\r\nvar ObservableQuery = (function (_super) {\r\n    __extends(ObservableQuery, _super);\r\n    function ObservableQuery(_a) {\r\n        var queryManager = _a.queryManager, queryInfo = _a.queryInfo, options = _a.options;\r\n        var _this = _super.call(this, function (observer) {\r\n            try {\r\n                var subObserver = observer._subscription._observer;\r\n                if (subObserver && !subObserver.error) {\r\n                    subObserver.error = defaultSubscriptionObserverErrorCallback;\r\n                }\r\n            }\r\n            catch (_a) { }\r\n            var first = !_this.observers.size;\r\n            _this.observers.add(observer);\r\n            var last = _this.last;\r\n            if (last && last.error) {\r\n                observer.error && observer.error(last.error);\r\n            }\r\n            else if (last && last.result) {\r\n                observer.next && observer.next(last.result);\r\n            }\r\n            if (first) {\r\n                _this.reobserve().catch(function () { });\r\n            }\r\n            return function () {\r\n                if (_this.observers.delete(observer) && !_this.observers.size) {\r\n                    _this.tearDownQuery();\r\n                }\r\n            };\r\n        }) || this;\r\n        _this.observers = new Set();\r\n        _this.subscriptions = new Set();\r\n        _this.isTornDown = false;\r\n        _this.options = options;\r\n        _this.queryId = queryInfo.queryId || queryManager.generateQueryId();\r\n        var opDef = getOperationDefinition(options.query);\r\n        _this.queryName = opDef && opDef.name && opDef.name.value;\r\n        _this.initialFetchPolicy = options.fetchPolicy || \"cache-first\";\r\n        _this.queryManager = queryManager;\r\n        _this.queryInfo = queryInfo;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ObservableQuery.prototype, \"variables\", {\r\n        get: function () {\r\n            return this.options.variables;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ObservableQuery.prototype.result = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var observer = {\r\n                next: function (result) {\r\n                    resolve(result);\r\n                    _this.observers.delete(observer);\r\n                    if (!_this.observers.size) {\r\n                        _this.queryManager.removeQuery(_this.queryId);\r\n                    }\r\n                    setTimeout(function () {\r\n                        subscription.unsubscribe();\r\n                    }, 0);\r\n                },\r\n                error: reject,\r\n            };\r\n            var subscription = _this.subscribe(observer);\r\n        });\r\n    };\r\n    ObservableQuery.prototype.getCurrentResult = function (saveAsLastResult) {\r\n        if (saveAsLastResult === void 0) { saveAsLastResult = true; }\r\n        var lastResult = this.getLastResult(true);\r\n        var networkStatus = this.queryInfo.networkStatus ||\r\n            (lastResult && lastResult.networkStatus) ||\r\n            NetworkStatus.ready;\r\n        var result = __assign(__assign({}, lastResult), { loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus });\r\n        var _a = this.options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a;\r\n        var shouldReturnCachedData = lastResult || (fetchPolicy !== 'network-only' &&\r\n            fetchPolicy !== 'no-cache' &&\r\n            fetchPolicy !== 'standby');\r\n        if (shouldReturnCachedData &&\r\n            !this.queryManager.transform(this.options.query).hasForcedResolvers) {\r\n            var diff = this.queryInfo.getDiff();\r\n            if (diff.complete || this.options.returnPartialData) {\r\n                result.data = diff.result;\r\n            }\r\n            if (equal(result.data, {})) {\r\n                result.data = void 0;\r\n            }\r\n            if (diff.complete) {\r\n                if (result.networkStatus === NetworkStatus.loading &&\r\n                    (fetchPolicy === 'cache-first' ||\r\n                        fetchPolicy === 'cache-only')) {\r\n                    result.networkStatus = NetworkStatus.ready;\r\n                    result.loading = false;\r\n                }\r\n                delete result.partial;\r\n            }\r\n            else if (fetchPolicy !== \"no-cache\") {\r\n                result.partial = true;\r\n            }\r\n            if (__DEV__ &&\r\n                !diff.complete &&\r\n                !this.options.partialRefetch &&\r\n                !result.loading &&\r\n                !result.data &&\r\n                !result.error) {\r\n                logMissingFieldErrors(diff.missing);\r\n            }\r\n        }\r\n        if (saveAsLastResult) {\r\n            this.updateLastResult(result);\r\n        }\r\n        return result;\r\n    };\r\n    ObservableQuery.prototype.isDifferentFromLastResult = function (newResult) {\r\n        return !this.last || !equal(this.last.result, newResult);\r\n    };\r\n    ObservableQuery.prototype.getLast = function (key, variablesMustMatch) {\r\n        var last = this.last;\r\n        if (last &&\r\n            last[key] &&\r\n            (!variablesMustMatch || equal(last.variables, this.variables))) {\r\n            return last[key];\r\n        }\r\n    };\r\n    ObservableQuery.prototype.getLastResult = function (variablesMustMatch) {\r\n        return this.getLast(\"result\", variablesMustMatch);\r\n    };\r\n    ObservableQuery.prototype.getLastError = function (variablesMustMatch) {\r\n        return this.getLast(\"error\", variablesMustMatch);\r\n    };\r\n    ObservableQuery.prototype.resetLastResults = function () {\r\n        delete this.last;\r\n        this.isTornDown = false;\r\n    };\r\n    ObservableQuery.prototype.resetQueryStoreErrors = function () {\r\n        this.queryManager.resetErrors(this.queryId);\r\n    };\r\n    ObservableQuery.prototype.refetch = function (variables) {\r\n        var _a;\r\n        var reobserveOptions = {\r\n            pollInterval: 0,\r\n        };\r\n        var fetchPolicy = this.options.fetchPolicy;\r\n        if (fetchPolicy === 'no-cache') {\r\n            reobserveOptions.fetchPolicy = 'no-cache';\r\n        }\r\n        else if (fetchPolicy !== 'cache-and-network') {\r\n            reobserveOptions.fetchPolicy = 'network-only';\r\n        }\r\n        if (__DEV__ && variables && hasOwnProperty.call(variables, \"variables\")) {\r\n            var queryDef = getQueryDefinition(this.options.query);\r\n            var vars = queryDef.variableDefinitions;\r\n            if (!vars || !vars.some(function (v) { return v.variable.name.value === \"variables\"; })) {\r\n                __DEV__ && invariant.warn(\"Called refetch(\" + JSON.stringify(variables) + \") for query \" + (((_a = queryDef.name) === null || _a === void 0 ? void 0 : _a.value) || JSON.stringify(queryDef)) + \", which does not declare a $variables variable.\\nDid you mean to call refetch(variables) instead of refetch({ variables })?\");\r\n            }\r\n        }\r\n        if (variables && !equal(this.options.variables, variables)) {\r\n            reobserveOptions.variables = this.options.variables = __assign(__assign({}, this.options.variables), variables);\r\n        }\r\n        this.queryInfo.resetLastWrite();\r\n        return this.reobserve(reobserveOptions, NetworkStatus.refetch);\r\n    };\r\n    ObservableQuery.prototype.fetchMore = function (fetchMoreOptions) {\r\n        var _this = this;\r\n        var combinedOptions = __assign(__assign({}, (fetchMoreOptions.query ? fetchMoreOptions : __assign(__assign(__assign({}, this.options), fetchMoreOptions), { variables: __assign(__assign({}, this.options.variables), fetchMoreOptions.variables) }))), { fetchPolicy: \"no-cache\" });\r\n        var qid = this.queryManager.generateQueryId();\r\n        if (combinedOptions.notifyOnNetworkStatusChange) {\r\n            this.queryInfo.networkStatus = NetworkStatus.fetchMore;\r\n            this.observe();\r\n        }\r\n        return this.queryManager.fetchQuery(qid, combinedOptions, NetworkStatus.fetchMore).then(function (fetchMoreResult) {\r\n            var data = fetchMoreResult.data;\r\n            var updateQuery = fetchMoreOptions.updateQuery;\r\n            if (updateQuery) {\r\n                if (__DEV__ &&\r\n                    !warnedAboutUpdateQuery) {\r\n                    __DEV__ && invariant.warn(\"The updateQuery callback for fetchMore is deprecated, and will be removed\\nin the next major version of Apollo Client.\\n\\nPlease convert updateQuery functions to field policies with appropriate\\nread and merge functions, or use/adapt a helper function (such as\\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\\n@apollo/client/utilities.\\n\\nThe field policy system handles pagination more effectively than a\\nhand-written updateQuery function, and you only need to define the policy\\nonce, rather than every time you call fetchMore.\");\r\n                    warnedAboutUpdateQuery = true;\r\n                }\r\n                _this.updateQuery(function (previous) { return updateQuery(previous, {\r\n                    fetchMoreResult: data,\r\n                    variables: combinedOptions.variables,\r\n                }); });\r\n            }\r\n            else {\r\n                _this.queryManager.cache.writeQuery({\r\n                    query: combinedOptions.query,\r\n                    variables: combinedOptions.variables,\r\n                    data: data,\r\n                });\r\n            }\r\n            return fetchMoreResult;\r\n        }).finally(function () {\r\n            _this.queryManager.stopQuery(qid);\r\n            _this.reobserve();\r\n        });\r\n    };\r\n    ObservableQuery.prototype.subscribeToMore = function (options) {\r\n        var _this = this;\r\n        var subscription = this.queryManager\r\n            .startGraphQLSubscription({\r\n            query: options.document,\r\n            variables: options.variables,\r\n            context: options.context,\r\n        })\r\n            .subscribe({\r\n            next: function (subscriptionData) {\r\n                var updateQuery = options.updateQuery;\r\n                if (updateQuery) {\r\n                    _this.updateQuery(function (previous, _a) {\r\n                        var variables = _a.variables;\r\n                        return updateQuery(previous, {\r\n                            subscriptionData: subscriptionData,\r\n                            variables: variables,\r\n                        });\r\n                    });\r\n                }\r\n            },\r\n            error: function (err) {\r\n                if (options.onError) {\r\n                    options.onError(err);\r\n                    return;\r\n                }\r\n                __DEV__ && invariant.error('Unhandled GraphQL subscription error', err);\r\n            },\r\n        });\r\n        this.subscriptions.add(subscription);\r\n        return function () {\r\n            if (_this.subscriptions.delete(subscription)) {\r\n                subscription.unsubscribe();\r\n            }\r\n        };\r\n    };\r\n    ObservableQuery.prototype.setOptions = function (newOptions) {\r\n        return this.reobserve(newOptions);\r\n    };\r\n    ObservableQuery.prototype.setVariables = function (variables) {\r\n        if (equal(this.variables, variables)) {\r\n            return this.observers.size\r\n                ? this.result()\r\n                : Promise.resolve();\r\n        }\r\n        this.options.variables = variables;\r\n        if (!this.observers.size) {\r\n            return Promise.resolve();\r\n        }\r\n        return this.reobserve({\r\n            fetchPolicy: this.initialFetchPolicy,\r\n            variables: variables,\r\n        }, NetworkStatus.setVariables);\r\n    };\r\n    ObservableQuery.prototype.updateQuery = function (mapFn) {\r\n        var queryManager = this.queryManager;\r\n        var result = queryManager.cache.diff({\r\n            query: this.options.query,\r\n            variables: this.variables,\r\n            returnPartialData: true,\r\n            optimistic: false,\r\n        }).result;\r\n        var newResult = mapFn(result, {\r\n            variables: this.variables,\r\n        });\r\n        if (newResult) {\r\n            queryManager.cache.writeQuery({\r\n                query: this.options.query,\r\n                data: newResult,\r\n                variables: this.variables,\r\n            });\r\n            queryManager.broadcastQueries();\r\n        }\r\n    };\r\n    ObservableQuery.prototype.startPolling = function (pollInterval) {\r\n        this.options.pollInterval = pollInterval;\r\n        this.updatePolling();\r\n    };\r\n    ObservableQuery.prototype.stopPolling = function () {\r\n        this.options.pollInterval = 0;\r\n        this.updatePolling();\r\n    };\r\n    ObservableQuery.prototype.fetch = function (options, newNetworkStatus) {\r\n        this.queryManager.setObservableQuery(this);\r\n        return this.queryManager.fetchQueryObservable(this.queryId, options, newNetworkStatus);\r\n    };\r\n    ObservableQuery.prototype.updatePolling = function () {\r\n        var _this = this;\r\n        if (this.queryManager.ssrMode) {\r\n            return;\r\n        }\r\n        var _a = this, pollingInfo = _a.pollingInfo, pollInterval = _a.options.pollInterval;\r\n        if (!pollInterval) {\r\n            if (pollingInfo) {\r\n                clearTimeout(pollingInfo.timeout);\r\n                delete this.pollingInfo;\r\n            }\r\n            return;\r\n        }\r\n        if (pollingInfo &&\r\n            pollingInfo.interval === pollInterval) {\r\n            return;\r\n        }\r\n        __DEV__ ? invariant(pollInterval, 'Attempted to start a polling query without a polling interval.') : invariant(pollInterval, 12);\r\n        var info = pollingInfo || (this.pollingInfo = {});\r\n        info.interval = pollInterval;\r\n        var maybeFetch = function () {\r\n            if (_this.pollingInfo) {\r\n                if (!isNetworkRequestInFlight(_this.queryInfo.networkStatus)) {\r\n                    _this.reobserve({\r\n                        fetchPolicy: \"network-only\",\r\n                    }, NetworkStatus.poll).then(poll, poll);\r\n                }\r\n                else {\r\n                    poll();\r\n                }\r\n            }\r\n            ;\r\n        };\r\n        var poll = function () {\r\n            var info = _this.pollingInfo;\r\n            if (info) {\r\n                clearTimeout(info.timeout);\r\n                info.timeout = setTimeout(maybeFetch, info.interval);\r\n            }\r\n        };\r\n        poll();\r\n    };\r\n    ObservableQuery.prototype.updateLastResult = function (newResult, variables) {\r\n        if (variables === void 0) { variables = this.variables; }\r\n        this.last = __assign(__assign({}, this.last), { result: this.queryManager.assumeImmutableResults\r\n                ? newResult\r\n                : cloneDeep(newResult), variables: variables });\r\n        if (!isNonEmptyArray(newResult.errors)) {\r\n            delete this.last.error;\r\n        }\r\n        return this.last;\r\n    };\r\n    ObservableQuery.prototype.reobserve = function (newOptions, newNetworkStatus) {\r\n        var _this = this;\r\n        this.isTornDown = false;\r\n        var useDisposableConcast = newNetworkStatus === NetworkStatus.refetch ||\r\n            newNetworkStatus === NetworkStatus.fetchMore ||\r\n            newNetworkStatus === NetworkStatus.poll;\r\n        var oldVariables = this.options.variables;\r\n        var options = useDisposableConcast\r\n            ? compact(this.options, newOptions)\r\n            : assign(this.options, compact(newOptions));\r\n        if (!useDisposableConcast) {\r\n            this.updatePolling();\r\n            if (newOptions &&\r\n                newOptions.variables &&\r\n                !newOptions.fetchPolicy &&\r\n                !equal(newOptions.variables, oldVariables)) {\r\n                options.fetchPolicy = this.initialFetchPolicy;\r\n                if (newNetworkStatus === void 0) {\r\n                    newNetworkStatus = NetworkStatus.setVariables;\r\n                }\r\n            }\r\n        }\r\n        var variables = options.variables && __assign({}, options.variables);\r\n        var concast = this.fetch(options, newNetworkStatus);\r\n        var observer = {\r\n            next: function (result) {\r\n                _this.reportResult(result, variables);\r\n            },\r\n            error: function (error) {\r\n                _this.reportError(error, variables);\r\n            },\r\n        };\r\n        if (!useDisposableConcast) {\r\n            if (this.concast && this.observer) {\r\n                this.concast.removeObserver(this.observer, true);\r\n            }\r\n            this.concast = concast;\r\n            this.observer = observer;\r\n        }\r\n        concast.addObserver(observer);\r\n        return concast.promise;\r\n    };\r\n    ObservableQuery.prototype.observe = function () {\r\n        this.reportResult(this.getCurrentResult(false), this.variables);\r\n    };\r\n    ObservableQuery.prototype.reportResult = function (result, variables) {\r\n        if (this.getLastError() || this.isDifferentFromLastResult(result)) {\r\n            this.updateLastResult(result, variables);\r\n            iterateObserversSafely(this.observers, 'next', result);\r\n        }\r\n    };\r\n    ObservableQuery.prototype.reportError = function (error, variables) {\r\n        var errorResult = __assign(__assign({}, this.getLastResult()), { error: error, errors: error.graphQLErrors, networkStatus: NetworkStatus.error, loading: false });\r\n        this.updateLastResult(errorResult, variables);\r\n        iterateObserversSafely(this.observers, 'error', this.last.error = error);\r\n    };\r\n    ObservableQuery.prototype.hasObservers = function () {\r\n        return this.observers.size > 0;\r\n    };\r\n    ObservableQuery.prototype.tearDownQuery = function () {\r\n        if (this.isTornDown)\r\n            return;\r\n        if (this.concast && this.observer) {\r\n            this.concast.removeObserver(this.observer);\r\n            delete this.concast;\r\n            delete this.observer;\r\n        }\r\n        this.stopPolling();\r\n        this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\r\n        this.subscriptions.clear();\r\n        this.queryManager.stopQuery(this.queryId);\r\n        this.observers.clear();\r\n        this.isTornDown = true;\r\n    };\r\n    return ObservableQuery;\r\n}(Observable));\r\nexport { ObservableQuery };\r\nfixObservableSubclass(ObservableQuery);\r\nfunction defaultSubscriptionObserverErrorCallback(error) {\r\n    __DEV__ && invariant.error('Unhandled error', error.message, error.stack);\r\n}\r\nexport function logMissingFieldErrors(missing) {\r\n    if (__DEV__ && isNonEmptyArray(missing)) {\r\n        __DEV__ && invariant.debug(\"Missing cache result fields: \" + missing.map(function (m) { return m.path.join('.'); }).join(', '), missing);\r\n    }\r\n}\r\nexport function applyNextFetchPolicy(options) {\r\n    var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a, nextFetchPolicy = options.nextFetchPolicy;\r\n    if (nextFetchPolicy) {\r\n        options.fetchPolicy = typeof nextFetchPolicy === \"function\"\r\n            ? nextFetchPolicy.call(options, fetchPolicy)\r\n            : nextFetchPolicy;\r\n    }\r\n}\r\n","import { __assign } from \"tslib\";\r\nimport { equal } from \"@wry/equality\";\r\nimport { isNonEmptyArray, graphQLResultHasError, canUseWeakMap, } from \"../utilities/index.js\";\r\nimport { NetworkStatus, isNetworkRequestInFlight, } from \"./networkStatus.js\";\r\n;\r\nvar destructiveMethodCounts = new (canUseWeakMap ? WeakMap : Map)();\r\nfunction wrapDestructiveCacheMethod(cache, methodName) {\r\n    var original = cache[methodName];\r\n    if (typeof original === \"function\") {\r\n        cache[methodName] = function () {\r\n            destructiveMethodCounts.set(cache, (destructiveMethodCounts.get(cache) + 1) % 1e15);\r\n            return original.apply(this, arguments);\r\n        };\r\n    }\r\n}\r\nfunction cancelNotifyTimeout(info) {\r\n    if (info[\"notifyTimeout\"]) {\r\n        clearTimeout(info[\"notifyTimeout\"]);\r\n        info[\"notifyTimeout\"] = void 0;\r\n    }\r\n}\r\nvar QueryInfo = (function () {\r\n    function QueryInfo(queryManager, queryId) {\r\n        if (queryId === void 0) { queryId = queryManager.generateQueryId(); }\r\n        this.queryId = queryId;\r\n        this.listeners = new Set();\r\n        this.document = null;\r\n        this.lastRequestId = 1;\r\n        this.subscriptions = new Set();\r\n        this.stopped = false;\r\n        this.dirty = false;\r\n        this.observableQuery = null;\r\n        var cache = this.cache = queryManager.cache;\r\n        if (!destructiveMethodCounts.has(cache)) {\r\n            destructiveMethodCounts.set(cache, 0);\r\n            wrapDestructiveCacheMethod(cache, \"evict\");\r\n            wrapDestructiveCacheMethod(cache, \"modify\");\r\n            wrapDestructiveCacheMethod(cache, \"reset\");\r\n        }\r\n    }\r\n    QueryInfo.prototype.init = function (query) {\r\n        var networkStatus = query.networkStatus || NetworkStatus.loading;\r\n        if (this.variables &&\r\n            this.networkStatus !== NetworkStatus.loading &&\r\n            !equal(this.variables, query.variables)) {\r\n            networkStatus = NetworkStatus.setVariables;\r\n        }\r\n        if (!equal(query.variables, this.variables)) {\r\n            this.lastDiff = void 0;\r\n        }\r\n        Object.assign(this, {\r\n            document: query.document,\r\n            variables: query.variables,\r\n            networkError: null,\r\n            graphQLErrors: this.graphQLErrors || [],\r\n            networkStatus: networkStatus,\r\n        });\r\n        if (query.observableQuery) {\r\n            this.setObservableQuery(query.observableQuery);\r\n        }\r\n        if (query.lastRequestId) {\r\n            this.lastRequestId = query.lastRequestId;\r\n        }\r\n        return this;\r\n    };\r\n    QueryInfo.prototype.reset = function () {\r\n        cancelNotifyTimeout(this);\r\n        this.lastDiff = void 0;\r\n        this.dirty = false;\r\n    };\r\n    QueryInfo.prototype.getDiff = function (variables) {\r\n        if (variables === void 0) { variables = this.variables; }\r\n        var options = this.getDiffOptions(variables);\r\n        if (this.lastDiff && equal(options, this.lastDiff.options)) {\r\n            return this.lastDiff.diff;\r\n        }\r\n        this.updateWatch(this.variables = variables);\r\n        var oq = this.observableQuery;\r\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\r\n            return { complete: false };\r\n        }\r\n        var diff = this.cache.diff(options);\r\n        this.updateLastDiff(diff, options);\r\n        return diff;\r\n    };\r\n    QueryInfo.prototype.updateLastDiff = function (diff, options) {\r\n        this.lastDiff = diff ? {\r\n            diff: diff,\r\n            options: options || this.getDiffOptions(),\r\n        } : void 0;\r\n    };\r\n    QueryInfo.prototype.getDiffOptions = function (variables) {\r\n        if (variables === void 0) { variables = this.variables; }\r\n        var oq = this.observableQuery;\r\n        return {\r\n            query: this.document,\r\n            variables: variables,\r\n            returnPartialData: true,\r\n            optimistic: true,\r\n            canonizeResults: !oq || oq.options.canonizeResults !== false,\r\n        };\r\n    };\r\n    QueryInfo.prototype.setDiff = function (diff) {\r\n        var _this = this;\r\n        var oldDiff = this.lastDiff && this.lastDiff.diff;\r\n        this.updateLastDiff(diff);\r\n        if (!this.dirty &&\r\n            !equal(oldDiff && oldDiff.result, diff && diff.result)) {\r\n            this.dirty = true;\r\n            if (!this.notifyTimeout) {\r\n                this.notifyTimeout = setTimeout(function () { return _this.notify(); }, 0);\r\n            }\r\n        }\r\n    };\r\n    QueryInfo.prototype.setObservableQuery = function (oq) {\r\n        var _this = this;\r\n        if (oq === this.observableQuery)\r\n            return;\r\n        if (this.oqListener) {\r\n            this.listeners.delete(this.oqListener);\r\n        }\r\n        this.observableQuery = oq;\r\n        if (oq) {\r\n            oq[\"queryInfo\"] = this;\r\n            this.listeners.add(this.oqListener = function () {\r\n                if (_this.getDiff().fromOptimisticTransaction) {\r\n                    oq[\"observe\"]();\r\n                }\r\n                else {\r\n                    oq.reobserve();\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            delete this.oqListener;\r\n        }\r\n    };\r\n    QueryInfo.prototype.notify = function () {\r\n        var _this = this;\r\n        cancelNotifyTimeout(this);\r\n        if (this.shouldNotify()) {\r\n            this.listeners.forEach(function (listener) { return listener(_this); });\r\n        }\r\n        this.dirty = false;\r\n    };\r\n    QueryInfo.prototype.shouldNotify = function () {\r\n        if (!this.dirty || !this.listeners.size) {\r\n            return false;\r\n        }\r\n        if (isNetworkRequestInFlight(this.networkStatus) &&\r\n            this.observableQuery) {\r\n            var fetchPolicy = this.observableQuery.options.fetchPolicy;\r\n            if (fetchPolicy !== \"cache-only\" &&\r\n                fetchPolicy !== \"cache-and-network\") {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    QueryInfo.prototype.stop = function () {\r\n        if (!this.stopped) {\r\n            this.stopped = true;\r\n            this.reset();\r\n            this.cancel();\r\n            this.cancel = QueryInfo.prototype.cancel;\r\n            this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\r\n            var oq = this.observableQuery;\r\n            if (oq)\r\n                oq.stopPolling();\r\n        }\r\n    };\r\n    QueryInfo.prototype.cancel = function () { };\r\n    QueryInfo.prototype.updateWatch = function (variables) {\r\n        var _this = this;\r\n        if (variables === void 0) { variables = this.variables; }\r\n        var oq = this.observableQuery;\r\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\r\n            return;\r\n        }\r\n        var watchOptions = __assign(__assign({}, this.getDiffOptions(variables)), { watcher: this, callback: function (diff) { return _this.setDiff(diff); } });\r\n        if (!this.lastWatch ||\r\n            !equal(watchOptions, this.lastWatch)) {\r\n            this.cancel();\r\n            this.cancel = this.cache.watch(this.lastWatch = watchOptions);\r\n        }\r\n    };\r\n    QueryInfo.prototype.resetLastWrite = function () {\r\n        this.lastWrite = void 0;\r\n    };\r\n    QueryInfo.prototype.shouldWrite = function (result, variables) {\r\n        var lastWrite = this.lastWrite;\r\n        return !(lastWrite &&\r\n            lastWrite.dmCount === destructiveMethodCounts.get(this.cache) &&\r\n            equal(variables, lastWrite.variables) &&\r\n            equal(result.data, lastWrite.result.data));\r\n    };\r\n    QueryInfo.prototype.markResult = function (result, options, cacheWriteBehavior) {\r\n        var _this = this;\r\n        this.graphQLErrors = isNonEmptyArray(result.errors) ? result.errors : [];\r\n        this.reset();\r\n        if (options.fetchPolicy === 'no-cache') {\r\n            this.updateLastDiff({ result: result.data, complete: true }, this.getDiffOptions(options.variables));\r\n        }\r\n        else if (cacheWriteBehavior !== 0) {\r\n            if (shouldWriteResult(result, options.errorPolicy)) {\r\n                this.cache.performTransaction(function (cache) {\r\n                    if (_this.shouldWrite(result, options.variables)) {\r\n                        cache.writeQuery({\r\n                            query: _this.document,\r\n                            data: result.data,\r\n                            variables: options.variables,\r\n                            overwrite: cacheWriteBehavior === 1,\r\n                        });\r\n                        _this.lastWrite = {\r\n                            result: result,\r\n                            variables: options.variables,\r\n                            dmCount: destructiveMethodCounts.get(_this.cache),\r\n                        };\r\n                    }\r\n                    else {\r\n                        if (_this.lastDiff &&\r\n                            _this.lastDiff.diff.complete) {\r\n                            result.data = _this.lastDiff.diff.result;\r\n                            return;\r\n                        }\r\n                    }\r\n                    var diffOptions = _this.getDiffOptions(options.variables);\r\n                    var diff = cache.diff(diffOptions);\r\n                    if (!_this.stopped) {\r\n                        _this.updateWatch(options.variables);\r\n                    }\r\n                    _this.updateLastDiff(diff, diffOptions);\r\n                    if (diff.complete) {\r\n                        result.data = diff.result;\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                this.lastWrite = void 0;\r\n            }\r\n        }\r\n    };\r\n    QueryInfo.prototype.markReady = function () {\r\n        this.networkError = null;\r\n        return this.networkStatus = NetworkStatus.ready;\r\n    };\r\n    QueryInfo.prototype.markError = function (error) {\r\n        this.networkStatus = NetworkStatus.error;\r\n        this.lastWrite = void 0;\r\n        this.reset();\r\n        if (error.graphQLErrors) {\r\n            this.graphQLErrors = error.graphQLErrors;\r\n        }\r\n        if (error.networkError) {\r\n            this.networkError = error.networkError;\r\n        }\r\n        return error;\r\n    };\r\n    return QueryInfo;\r\n}());\r\nexport { QueryInfo };\r\nexport function shouldWriteResult(result, errorPolicy) {\r\n    if (errorPolicy === void 0) { errorPolicy = \"none\"; }\r\n    var ignoreErrors = errorPolicy === \"ignore\" ||\r\n        errorPolicy === \"all\";\r\n    var writeWithErrors = !graphQLResultHasError(result);\r\n    if (!writeWithErrors && ignoreErrors && result.data) {\r\n        writeWithErrors = true;\r\n    }\r\n    return writeWithErrors;\r\n}\r\n","import { __assign, __awaiter, __generator } from \"tslib\";\r\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\r\nimport { equal } from '@wry/equality';\r\nimport { execute } from \"../link/core/index.js\";\r\nimport { canonicalStringify } from \"../cache/index.js\";\r\nimport { getDefaultValues, getOperationDefinition, getOperationName, hasClientExports, graphQLResultHasError, removeConnectionDirectiveFromDocument, canUseWeakMap, Observable, asyncMap, isNonEmptyArray, Concast, makeUniqueId, isDocumentNode, isNonNullObject, } from \"../utilities/index.js\";\r\nimport { ApolloError, isApolloError } from \"../errors/index.js\";\r\nimport { ObservableQuery, applyNextFetchPolicy, logMissingFieldErrors } from \"./ObservableQuery.js\";\r\nimport { NetworkStatus, isNetworkRequestInFlight } from \"./networkStatus.js\";\r\nimport { LocalState } from \"./LocalState.js\";\r\nimport { QueryInfo, shouldWriteResult, } from \"./QueryInfo.js\";\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar QueryManager = (function () {\r\n    function QueryManager(_a) {\r\n        var cache = _a.cache, link = _a.link, _b = _a.queryDeduplication, queryDeduplication = _b === void 0 ? false : _b, onBroadcast = _a.onBroadcast, _c = _a.ssrMode, ssrMode = _c === void 0 ? false : _c, _d = _a.clientAwareness, clientAwareness = _d === void 0 ? {} : _d, localState = _a.localState, assumeImmutableResults = _a.assumeImmutableResults;\r\n        this.clientAwareness = {};\r\n        this.queries = new Map();\r\n        this.fetchCancelFns = new Map();\r\n        this.transformCache = new (canUseWeakMap ? WeakMap : Map)();\r\n        this.queryIdCounter = 1;\r\n        this.requestIdCounter = 1;\r\n        this.mutationIdCounter = 1;\r\n        this.inFlightLinkObservables = new Map();\r\n        this.cache = cache;\r\n        this.link = link;\r\n        this.queryDeduplication = queryDeduplication;\r\n        this.clientAwareness = clientAwareness;\r\n        this.localState = localState || new LocalState({ cache: cache });\r\n        this.ssrMode = ssrMode;\r\n        this.assumeImmutableResults = !!assumeImmutableResults;\r\n        if ((this.onBroadcast = onBroadcast)) {\r\n            this.mutationStore = Object.create(null);\r\n        }\r\n    }\r\n    QueryManager.prototype.stop = function () {\r\n        var _this = this;\r\n        this.queries.forEach(function (_info, queryId) {\r\n            _this.stopQueryNoBroadcast(queryId);\r\n        });\r\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('QueryManager stopped while query was in flight') : new InvariantError(13));\r\n    };\r\n    QueryManager.prototype.cancelPendingFetches = function (error) {\r\n        this.fetchCancelFns.forEach(function (cancel) { return cancel(error); });\r\n        this.fetchCancelFns.clear();\r\n    };\r\n    QueryManager.prototype.mutate = function (_a) {\r\n        var mutation = _a.mutation, variables = _a.variables, optimisticResponse = _a.optimisticResponse, updateQueries = _a.updateQueries, _b = _a.refetchQueries, refetchQueries = _b === void 0 ? [] : _b, _c = _a.awaitRefetchQueries, awaitRefetchQueries = _c === void 0 ? false : _c, updateWithProxyFn = _a.update, onQueryUpdated = _a.onQueryUpdated, _d = _a.errorPolicy, errorPolicy = _d === void 0 ? 'none' : _d, _e = _a.fetchPolicy, fetchPolicy = _e === void 0 ? 'network-only' : _e, keepRootFields = _a.keepRootFields, context = _a.context;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var mutationId, mutationStoreValue, self;\r\n            return __generator(this, function (_f) {\r\n                switch (_f.label) {\r\n                    case 0:\r\n                        __DEV__ ? invariant(mutation, 'mutation option is required. You must specify your GraphQL document in the mutation option.') : invariant(mutation, 14);\r\n                        __DEV__ ? invariant(fetchPolicy === 'network-only' ||\r\n                            fetchPolicy === 'no-cache', \"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write.\") : invariant(fetchPolicy === 'network-only' ||\r\n                            fetchPolicy === 'no-cache', 15);\r\n                        mutationId = this.generateMutationId();\r\n                        mutation = this.transform(mutation).document;\r\n                        variables = this.getVariables(mutation, variables);\r\n                        if (!this.transform(mutation).hasClientExports) return [3, 2];\r\n                        return [4, this.localState.addExportedVariables(mutation, variables, context)];\r\n                    case 1:\r\n                        variables = (_f.sent());\r\n                        _f.label = 2;\r\n                    case 2:\r\n                        mutationStoreValue = this.mutationStore &&\r\n                            (this.mutationStore[mutationId] = {\r\n                                mutation: mutation,\r\n                                variables: variables,\r\n                                loading: true,\r\n                                error: null,\r\n                            });\r\n                        if (optimisticResponse) {\r\n                            this.markMutationOptimistic(optimisticResponse, {\r\n                                mutationId: mutationId,\r\n                                document: mutation,\r\n                                variables: variables,\r\n                                fetchPolicy: fetchPolicy,\r\n                                errorPolicy: errorPolicy,\r\n                                context: context,\r\n                                updateQueries: updateQueries,\r\n                                update: updateWithProxyFn,\r\n                                keepRootFields: keepRootFields,\r\n                            });\r\n                        }\r\n                        this.broadcastQueries();\r\n                        self = this;\r\n                        return [2, new Promise(function (resolve, reject) {\r\n                                return asyncMap(self.getObservableFromLink(mutation, __assign(__assign({}, context), { optimisticResponse: optimisticResponse }), variables, false), function (result) {\r\n                                    if (graphQLResultHasError(result) && errorPolicy === 'none') {\r\n                                        throw new ApolloError({\r\n                                            graphQLErrors: result.errors,\r\n                                        });\r\n                                    }\r\n                                    if (mutationStoreValue) {\r\n                                        mutationStoreValue.loading = false;\r\n                                        mutationStoreValue.error = null;\r\n                                    }\r\n                                    var storeResult = __assign({}, result);\r\n                                    if (typeof refetchQueries === \"function\") {\r\n                                        refetchQueries = refetchQueries(storeResult);\r\n                                    }\r\n                                    if (errorPolicy === 'ignore' &&\r\n                                        graphQLResultHasError(storeResult)) {\r\n                                        delete storeResult.errors;\r\n                                    }\r\n                                    return self.markMutationResult({\r\n                                        mutationId: mutationId,\r\n                                        result: storeResult,\r\n                                        document: mutation,\r\n                                        variables: variables,\r\n                                        fetchPolicy: fetchPolicy,\r\n                                        errorPolicy: errorPolicy,\r\n                                        context: context,\r\n                                        update: updateWithProxyFn,\r\n                                        updateQueries: updateQueries,\r\n                                        awaitRefetchQueries: awaitRefetchQueries,\r\n                                        refetchQueries: refetchQueries,\r\n                                        removeOptimistic: optimisticResponse ? mutationId : void 0,\r\n                                        onQueryUpdated: onQueryUpdated,\r\n                                        keepRootFields: keepRootFields,\r\n                                    });\r\n                                }).subscribe({\r\n                                    next: function (storeResult) {\r\n                                        self.broadcastQueries();\r\n                                        resolve(storeResult);\r\n                                    },\r\n                                    error: function (err) {\r\n                                        if (mutationStoreValue) {\r\n                                            mutationStoreValue.loading = false;\r\n                                            mutationStoreValue.error = err;\r\n                                        }\r\n                                        if (optimisticResponse) {\r\n                                            self.cache.removeOptimistic(mutationId);\r\n                                        }\r\n                                        self.broadcastQueries();\r\n                                        reject(err instanceof ApolloError ? err : new ApolloError({\r\n                                            networkError: err,\r\n                                        }));\r\n                                    },\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    QueryManager.prototype.markMutationResult = function (mutation, cache) {\r\n        var _this = this;\r\n        if (cache === void 0) { cache = this.cache; }\r\n        var result = mutation.result;\r\n        var cacheWrites = [];\r\n        var skipCache = mutation.fetchPolicy === \"no-cache\";\r\n        if (!skipCache && shouldWriteResult(result, mutation.errorPolicy)) {\r\n            cacheWrites.push({\r\n                result: result.data,\r\n                dataId: 'ROOT_MUTATION',\r\n                query: mutation.document,\r\n                variables: mutation.variables,\r\n            });\r\n            var updateQueries_1 = mutation.updateQueries;\r\n            if (updateQueries_1) {\r\n                this.queries.forEach(function (_a, queryId) {\r\n                    var observableQuery = _a.observableQuery;\r\n                    var queryName = observableQuery && observableQuery.queryName;\r\n                    if (!queryName || !hasOwnProperty.call(updateQueries_1, queryName)) {\r\n                        return;\r\n                    }\r\n                    var updater = updateQueries_1[queryName];\r\n                    var _b = _this.queries.get(queryId), document = _b.document, variables = _b.variables;\r\n                    var _c = cache.diff({\r\n                        query: document,\r\n                        variables: variables,\r\n                        returnPartialData: true,\r\n                        optimistic: false,\r\n                    }), currentQueryResult = _c.result, complete = _c.complete;\r\n                    if (complete && currentQueryResult) {\r\n                        var nextQueryResult = updater(currentQueryResult, {\r\n                            mutationResult: result,\r\n                            queryName: document && getOperationName(document) || void 0,\r\n                            queryVariables: variables,\r\n                        });\r\n                        if (nextQueryResult) {\r\n                            cacheWrites.push({\r\n                                result: nextQueryResult,\r\n                                dataId: 'ROOT_QUERY',\r\n                                query: document,\r\n                                variables: variables,\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        if (cacheWrites.length > 0 ||\r\n            mutation.refetchQueries ||\r\n            mutation.update ||\r\n            mutation.onQueryUpdated ||\r\n            mutation.removeOptimistic) {\r\n            var results_1 = [];\r\n            this.refetchQueries({\r\n                updateCache: function (cache) {\r\n                    if (!skipCache) {\r\n                        cacheWrites.forEach(function (write) { return cache.write(write); });\r\n                    }\r\n                    var update = mutation.update;\r\n                    if (update) {\r\n                        if (!skipCache) {\r\n                            var diff = cache.diff({\r\n                                id: \"ROOT_MUTATION\",\r\n                                query: _this.transform(mutation.document).asQuery,\r\n                                variables: mutation.variables,\r\n                                optimistic: false,\r\n                                returnPartialData: true,\r\n                            });\r\n                            if (diff.complete) {\r\n                                result = __assign(__assign({}, result), { data: diff.result });\r\n                            }\r\n                        }\r\n                        update(cache, result, {\r\n                            context: mutation.context,\r\n                            variables: mutation.variables,\r\n                        });\r\n                    }\r\n                    if (!skipCache && !mutation.keepRootFields) {\r\n                        cache.modify({\r\n                            id: 'ROOT_MUTATION',\r\n                            fields: function (value, _a) {\r\n                                var fieldName = _a.fieldName, DELETE = _a.DELETE;\r\n                                return fieldName === \"__typename\" ? value : DELETE;\r\n                            },\r\n                        });\r\n                    }\r\n                },\r\n                include: mutation.refetchQueries,\r\n                optimistic: false,\r\n                removeOptimistic: mutation.removeOptimistic,\r\n                onQueryUpdated: mutation.onQueryUpdated || null,\r\n            }).forEach(function (result) { return results_1.push(result); });\r\n            if (mutation.awaitRefetchQueries || mutation.onQueryUpdated) {\r\n                return Promise.all(results_1).then(function () { return result; });\r\n            }\r\n        }\r\n        return Promise.resolve(result);\r\n    };\r\n    QueryManager.prototype.markMutationOptimistic = function (optimisticResponse, mutation) {\r\n        var _this = this;\r\n        var data = typeof optimisticResponse === \"function\"\r\n            ? optimisticResponse(mutation.variables)\r\n            : optimisticResponse;\r\n        return this.cache.recordOptimisticTransaction(function (cache) {\r\n            try {\r\n                _this.markMutationResult(__assign(__assign({}, mutation), { result: { data: data } }), cache);\r\n            }\r\n            catch (error) {\r\n                __DEV__ && invariant.error(error);\r\n            }\r\n        }, mutation.mutationId);\r\n    };\r\n    QueryManager.prototype.fetchQuery = function (queryId, options, networkStatus) {\r\n        return this.fetchQueryObservable(queryId, options, networkStatus).promise;\r\n    };\r\n    QueryManager.prototype.getQueryStore = function () {\r\n        var store = Object.create(null);\r\n        this.queries.forEach(function (info, queryId) {\r\n            store[queryId] = {\r\n                variables: info.variables,\r\n                networkStatus: info.networkStatus,\r\n                networkError: info.networkError,\r\n                graphQLErrors: info.graphQLErrors,\r\n            };\r\n        });\r\n        return store;\r\n    };\r\n    QueryManager.prototype.resetErrors = function (queryId) {\r\n        var queryInfo = this.queries.get(queryId);\r\n        if (queryInfo) {\r\n            queryInfo.networkError = undefined;\r\n            queryInfo.graphQLErrors = [];\r\n        }\r\n    };\r\n    QueryManager.prototype.transform = function (document) {\r\n        var transformCache = this.transformCache;\r\n        if (!transformCache.has(document)) {\r\n            var transformed = this.cache.transformDocument(document);\r\n            var forLink = removeConnectionDirectiveFromDocument(this.cache.transformForLink(transformed));\r\n            var clientQuery = this.localState.clientQuery(transformed);\r\n            var serverQuery = forLink && this.localState.serverQuery(forLink);\r\n            var cacheEntry_1 = {\r\n                document: transformed,\r\n                hasClientExports: hasClientExports(transformed),\r\n                hasForcedResolvers: this.localState.shouldForceResolvers(transformed),\r\n                clientQuery: clientQuery,\r\n                serverQuery: serverQuery,\r\n                defaultVars: getDefaultValues(getOperationDefinition(transformed)),\r\n                asQuery: __assign(__assign({}, transformed), { definitions: transformed.definitions.map(function (def) {\r\n                        if (def.kind === \"OperationDefinition\" &&\r\n                            def.operation !== \"query\") {\r\n                            return __assign(__assign({}, def), { operation: \"query\" });\r\n                        }\r\n                        return def;\r\n                    }) })\r\n            };\r\n            var add = function (doc) {\r\n                if (doc && !transformCache.has(doc)) {\r\n                    transformCache.set(doc, cacheEntry_1);\r\n                }\r\n            };\r\n            add(document);\r\n            add(transformed);\r\n            add(clientQuery);\r\n            add(serverQuery);\r\n        }\r\n        return transformCache.get(document);\r\n    };\r\n    QueryManager.prototype.getVariables = function (document, variables) {\r\n        return __assign(__assign({}, this.transform(document).defaultVars), variables);\r\n    };\r\n    QueryManager.prototype.watchQuery = function (options) {\r\n        options = __assign(__assign({}, options), { variables: this.getVariables(options.query, options.variables) });\r\n        if (typeof options.notifyOnNetworkStatusChange === 'undefined') {\r\n            options.notifyOnNetworkStatusChange = false;\r\n        }\r\n        var queryInfo = new QueryInfo(this);\r\n        var observable = new ObservableQuery({\r\n            queryManager: this,\r\n            queryInfo: queryInfo,\r\n            options: options,\r\n        });\r\n        this.queries.set(observable.queryId, queryInfo);\r\n        queryInfo.init({\r\n            document: options.query,\r\n            observableQuery: observable,\r\n            variables: options.variables,\r\n        });\r\n        return observable;\r\n    };\r\n    QueryManager.prototype.query = function (options, queryId) {\r\n        var _this = this;\r\n        if (queryId === void 0) { queryId = this.generateQueryId(); }\r\n        __DEV__ ? invariant(options.query, 'query option is required. You must specify your GraphQL document ' +\r\n            'in the query option.') : invariant(options.query, 16);\r\n        __DEV__ ? invariant(options.query.kind === 'Document', 'You must wrap the query string in a \"gql\" tag.') : invariant(options.query.kind === 'Document', 17);\r\n        __DEV__ ? invariant(!options.returnPartialData, 'returnPartialData option only supported on watchQuery.') : invariant(!options.returnPartialData, 18);\r\n        __DEV__ ? invariant(!options.pollInterval, 'pollInterval option only supported on watchQuery.') : invariant(!options.pollInterval, 19);\r\n        return this.fetchQuery(queryId, options).finally(function () { return _this.stopQuery(queryId); });\r\n    };\r\n    QueryManager.prototype.generateQueryId = function () {\r\n        return String(this.queryIdCounter++);\r\n    };\r\n    QueryManager.prototype.generateRequestId = function () {\r\n        return this.requestIdCounter++;\r\n    };\r\n    QueryManager.prototype.generateMutationId = function () {\r\n        return String(this.mutationIdCounter++);\r\n    };\r\n    QueryManager.prototype.stopQueryInStore = function (queryId) {\r\n        this.stopQueryInStoreNoBroadcast(queryId);\r\n        this.broadcastQueries();\r\n    };\r\n    QueryManager.prototype.stopQueryInStoreNoBroadcast = function (queryId) {\r\n        var queryInfo = this.queries.get(queryId);\r\n        if (queryInfo)\r\n            queryInfo.stop();\r\n    };\r\n    QueryManager.prototype.clearStore = function () {\r\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('Store reset while query was in flight (not completed in link chain)') : new InvariantError(20));\r\n        this.queries.forEach(function (queryInfo) {\r\n            if (queryInfo.observableQuery) {\r\n                queryInfo.networkStatus = NetworkStatus.loading;\r\n            }\r\n            else {\r\n                queryInfo.stop();\r\n            }\r\n        });\r\n        if (this.mutationStore) {\r\n            this.mutationStore = Object.create(null);\r\n        }\r\n        return this.cache.reset();\r\n    };\r\n    QueryManager.prototype.resetStore = function () {\r\n        var _this = this;\r\n        return this.clearStore().then(function () {\r\n            return _this.reFetchObservableQueries();\r\n        });\r\n    };\r\n    QueryManager.prototype.getObservableQueries = function (include) {\r\n        var _this = this;\r\n        if (include === void 0) { include = \"active\"; }\r\n        var queries = new Map();\r\n        var queryNamesAndDocs = new Map();\r\n        var legacyQueryOptions = new Set();\r\n        if (Array.isArray(include)) {\r\n            include.forEach(function (desc) {\r\n                if (typeof desc === \"string\") {\r\n                    queryNamesAndDocs.set(desc, false);\r\n                }\r\n                else if (isDocumentNode(desc)) {\r\n                    queryNamesAndDocs.set(_this.transform(desc).document, false);\r\n                }\r\n                else if (isNonNullObject(desc) && desc.query) {\r\n                    legacyQueryOptions.add(desc);\r\n                }\r\n            });\r\n        }\r\n        this.queries.forEach(function (_a, queryId) {\r\n            var oq = _a.observableQuery, document = _a.document;\r\n            if (oq) {\r\n                if (include === \"all\") {\r\n                    queries.set(queryId, oq);\r\n                    return;\r\n                }\r\n                var queryName = oq.queryName, fetchPolicy = oq.options.fetchPolicy;\r\n                if (fetchPolicy === \"standby\" || !oq.hasObservers()) {\r\n                    return;\r\n                }\r\n                if (include === \"active\" ||\r\n                    (queryName && queryNamesAndDocs.has(queryName)) ||\r\n                    (document && queryNamesAndDocs.has(document))) {\r\n                    queries.set(queryId, oq);\r\n                    if (queryName)\r\n                        queryNamesAndDocs.set(queryName, true);\r\n                    if (document)\r\n                        queryNamesAndDocs.set(document, true);\r\n                }\r\n            }\r\n        });\r\n        if (legacyQueryOptions.size) {\r\n            legacyQueryOptions.forEach(function (options) {\r\n                var queryId = makeUniqueId(\"legacyOneTimeQuery\");\r\n                var queryInfo = _this.getQuery(queryId).init({\r\n                    document: options.query,\r\n                    variables: options.variables,\r\n                });\r\n                var oq = new ObservableQuery({\r\n                    queryManager: _this,\r\n                    queryInfo: queryInfo,\r\n                    options: __assign(__assign({}, options), { fetchPolicy: \"network-only\" }),\r\n                });\r\n                invariant(oq.queryId === queryId);\r\n                queryInfo.setObservableQuery(oq);\r\n                queries.set(queryId, oq);\r\n            });\r\n        }\r\n        if (__DEV__ && queryNamesAndDocs.size) {\r\n            queryNamesAndDocs.forEach(function (included, nameOrDoc) {\r\n                if (!included) {\r\n                    __DEV__ && invariant.warn(\"Unknown query \" + (typeof nameOrDoc === \"string\" ? \"named \" : \"\") + JSON.stringify(nameOrDoc, null, 2) + \" requested in refetchQueries options.include array\");\r\n                }\r\n            });\r\n        }\r\n        return queries;\r\n    };\r\n    QueryManager.prototype.reFetchObservableQueries = function (includeStandby) {\r\n        var _this = this;\r\n        if (includeStandby === void 0) { includeStandby = false; }\r\n        var observableQueryPromises = [];\r\n        this.getObservableQueries(includeStandby ? \"all\" : \"active\").forEach(function (observableQuery, queryId) {\r\n            var fetchPolicy = observableQuery.options.fetchPolicy;\r\n            observableQuery.resetLastResults();\r\n            if (includeStandby ||\r\n                (fetchPolicy !== \"standby\" &&\r\n                    fetchPolicy !== \"cache-only\")) {\r\n                observableQueryPromises.push(observableQuery.refetch());\r\n            }\r\n            _this.getQuery(queryId).setDiff(null);\r\n        });\r\n        this.broadcastQueries();\r\n        return Promise.all(observableQueryPromises);\r\n    };\r\n    QueryManager.prototype.setObservableQuery = function (observableQuery) {\r\n        this.getQuery(observableQuery.queryId).setObservableQuery(observableQuery);\r\n    };\r\n    QueryManager.prototype.startGraphQLSubscription = function (_a) {\r\n        var _this = this;\r\n        var query = _a.query, fetchPolicy = _a.fetchPolicy, errorPolicy = _a.errorPolicy, variables = _a.variables, _b = _a.context, context = _b === void 0 ? {} : _b;\r\n        query = this.transform(query).document;\r\n        variables = this.getVariables(query, variables);\r\n        var makeObservable = function (variables) {\r\n            return _this.getObservableFromLink(query, context, variables).map(function (result) {\r\n                if (fetchPolicy !== 'no-cache') {\r\n                    if (shouldWriteResult(result, errorPolicy)) {\r\n                        _this.cache.write({\r\n                            query: query,\r\n                            result: result.data,\r\n                            dataId: 'ROOT_SUBSCRIPTION',\r\n                            variables: variables,\r\n                        });\r\n                    }\r\n                    _this.broadcastQueries();\r\n                }\r\n                if (graphQLResultHasError(result)) {\r\n                    throw new ApolloError({\r\n                        graphQLErrors: result.errors,\r\n                    });\r\n                }\r\n                return result;\r\n            });\r\n        };\r\n        if (this.transform(query).hasClientExports) {\r\n            var observablePromise_1 = this.localState.addExportedVariables(query, variables, context).then(makeObservable);\r\n            return new Observable(function (observer) {\r\n                var sub = null;\r\n                observablePromise_1.then(function (observable) { return sub = observable.subscribe(observer); }, observer.error);\r\n                return function () { return sub && sub.unsubscribe(); };\r\n            });\r\n        }\r\n        return makeObservable(variables);\r\n    };\r\n    QueryManager.prototype.stopQuery = function (queryId) {\r\n        this.stopQueryNoBroadcast(queryId);\r\n        this.broadcastQueries();\r\n    };\r\n    QueryManager.prototype.stopQueryNoBroadcast = function (queryId) {\r\n        this.stopQueryInStoreNoBroadcast(queryId);\r\n        this.removeQuery(queryId);\r\n    };\r\n    QueryManager.prototype.removeQuery = function (queryId) {\r\n        this.fetchCancelFns.delete(queryId);\r\n        this.getQuery(queryId).stop();\r\n        this.queries.delete(queryId);\r\n    };\r\n    QueryManager.prototype.broadcastQueries = function () {\r\n        if (this.onBroadcast)\r\n            this.onBroadcast();\r\n        this.queries.forEach(function (info) { return info.notify(); });\r\n    };\r\n    QueryManager.prototype.getLocalState = function () {\r\n        return this.localState;\r\n    };\r\n    QueryManager.prototype.getObservableFromLink = function (query, context, variables, deduplication) {\r\n        var _this = this;\r\n        var _a;\r\n        if (deduplication === void 0) { deduplication = (_a = context === null || context === void 0 ? void 0 : context.queryDeduplication) !== null && _a !== void 0 ? _a : this.queryDeduplication; }\r\n        var observable;\r\n        var serverQuery = this.transform(query).serverQuery;\r\n        if (serverQuery) {\r\n            var _b = this, inFlightLinkObservables_1 = _b.inFlightLinkObservables, link = _b.link;\r\n            var operation = {\r\n                query: serverQuery,\r\n                variables: variables,\r\n                operationName: getOperationName(serverQuery) || void 0,\r\n                context: this.prepareContext(__assign(__assign({}, context), { forceFetch: !deduplication })),\r\n            };\r\n            context = operation.context;\r\n            if (deduplication) {\r\n                var byVariables_1 = inFlightLinkObservables_1.get(serverQuery) || new Map();\r\n                inFlightLinkObservables_1.set(serverQuery, byVariables_1);\r\n                var varJson_1 = canonicalStringify(variables);\r\n                observable = byVariables_1.get(varJson_1);\r\n                if (!observable) {\r\n                    var concast = new Concast([\r\n                        execute(link, operation)\r\n                    ]);\r\n                    byVariables_1.set(varJson_1, observable = concast);\r\n                    concast.cleanup(function () {\r\n                        if (byVariables_1.delete(varJson_1) &&\r\n                            byVariables_1.size < 1) {\r\n                            inFlightLinkObservables_1.delete(serverQuery);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                observable = new Concast([\r\n                    execute(link, operation)\r\n                ]);\r\n            }\r\n        }\r\n        else {\r\n            observable = new Concast([\r\n                Observable.of({ data: {} })\r\n            ]);\r\n            context = this.prepareContext(context);\r\n        }\r\n        var clientQuery = this.transform(query).clientQuery;\r\n        if (clientQuery) {\r\n            observable = asyncMap(observable, function (result) {\r\n                return _this.localState.runResolvers({\r\n                    document: clientQuery,\r\n                    remoteResult: result,\r\n                    context: context,\r\n                    variables: variables,\r\n                });\r\n            });\r\n        }\r\n        return observable;\r\n    };\r\n    QueryManager.prototype.getResultsFromLink = function (queryInfo, cacheWriteBehavior, options) {\r\n        var requestId = queryInfo.lastRequestId = this.generateRequestId();\r\n        return asyncMap(this.getObservableFromLink(queryInfo.document, options.context, options.variables), function (result) {\r\n            var hasErrors = isNonEmptyArray(result.errors);\r\n            if (requestId >= queryInfo.lastRequestId) {\r\n                if (hasErrors && options.errorPolicy === \"none\") {\r\n                    throw queryInfo.markError(new ApolloError({\r\n                        graphQLErrors: result.errors,\r\n                    }));\r\n                }\r\n                queryInfo.markResult(result, options, cacheWriteBehavior);\r\n                queryInfo.markReady();\r\n            }\r\n            var aqr = {\r\n                data: result.data,\r\n                loading: false,\r\n                networkStatus: queryInfo.networkStatus || NetworkStatus.ready,\r\n            };\r\n            if (hasErrors && options.errorPolicy !== \"ignore\") {\r\n                aqr.errors = result.errors;\r\n            }\r\n            return aqr;\r\n        }, function (networkError) {\r\n            var error = isApolloError(networkError)\r\n                ? networkError\r\n                : new ApolloError({ networkError: networkError });\r\n            if (requestId >= queryInfo.lastRequestId) {\r\n                queryInfo.markError(error);\r\n            }\r\n            throw error;\r\n        });\r\n    };\r\n    QueryManager.prototype.fetchQueryObservable = function (queryId, options, networkStatus) {\r\n        var _this = this;\r\n        if (networkStatus === void 0) { networkStatus = NetworkStatus.loading; }\r\n        var query = this.transform(options.query).document;\r\n        var variables = this.getVariables(query, options.variables);\r\n        var queryInfo = this.getQuery(queryId);\r\n        var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a, _b = options.errorPolicy, errorPolicy = _b === void 0 ? \"none\" : _b, _c = options.returnPartialData, returnPartialData = _c === void 0 ? false : _c, _d = options.notifyOnNetworkStatusChange, notifyOnNetworkStatusChange = _d === void 0 ? false : _d, _e = options.context, context = _e === void 0 ? {} : _e;\r\n        var normalized = Object.assign({}, options, {\r\n            query: query,\r\n            variables: variables,\r\n            fetchPolicy: fetchPolicy,\r\n            errorPolicy: errorPolicy,\r\n            returnPartialData: returnPartialData,\r\n            notifyOnNetworkStatusChange: notifyOnNetworkStatusChange,\r\n            context: context,\r\n        });\r\n        var fromVariables = function (variables) {\r\n            normalized.variables = variables;\r\n            return _this.fetchQueryByPolicy(queryInfo, normalized, networkStatus);\r\n        };\r\n        this.fetchCancelFns.set(queryId, function (reason) {\r\n            setTimeout(function () { return concast.cancel(reason); });\r\n        });\r\n        var concast = new Concast(this.transform(normalized.query).hasClientExports\r\n            ? this.localState.addExportedVariables(normalized.query, normalized.variables, normalized.context).then(fromVariables)\r\n            : fromVariables(normalized.variables));\r\n        concast.cleanup(function () {\r\n            _this.fetchCancelFns.delete(queryId);\r\n            applyNextFetchPolicy(options);\r\n        });\r\n        return concast;\r\n    };\r\n    QueryManager.prototype.refetchQueries = function (_a) {\r\n        var _this = this;\r\n        var updateCache = _a.updateCache, include = _a.include, _b = _a.optimistic, optimistic = _b === void 0 ? false : _b, _c = _a.removeOptimistic, removeOptimistic = _c === void 0 ? optimistic ? makeUniqueId(\"refetchQueries\") : void 0 : _c, onQueryUpdated = _a.onQueryUpdated;\r\n        var includedQueriesById = new Map();\r\n        if (include) {\r\n            this.getObservableQueries(include).forEach(function (oq, queryId) {\r\n                includedQueriesById.set(queryId, {\r\n                    oq: oq,\r\n                    lastDiff: _this.getQuery(queryId).getDiff(),\r\n                });\r\n            });\r\n        }\r\n        var results = new Map;\r\n        if (updateCache) {\r\n            this.cache.batch({\r\n                update: updateCache,\r\n                optimistic: optimistic && removeOptimistic || false,\r\n                removeOptimistic: removeOptimistic,\r\n                onWatchUpdated: function (watch, diff, lastDiff) {\r\n                    var oq = watch.watcher instanceof QueryInfo &&\r\n                        watch.watcher.observableQuery;\r\n                    if (oq) {\r\n                        if (onQueryUpdated) {\r\n                            includedQueriesById.delete(oq.queryId);\r\n                            var result = onQueryUpdated(oq, diff, lastDiff);\r\n                            if (result === true) {\r\n                                result = oq.refetch();\r\n                            }\r\n                            if (result !== false) {\r\n                                results.set(oq, result);\r\n                            }\r\n                            return false;\r\n                        }\r\n                        if (onQueryUpdated !== null) {\r\n                            includedQueriesById.set(oq.queryId, { oq: oq, lastDiff: lastDiff, diff: diff });\r\n                        }\r\n                    }\r\n                },\r\n            });\r\n        }\r\n        if (includedQueriesById.size) {\r\n            includedQueriesById.forEach(function (_a, queryId) {\r\n                var oq = _a.oq, lastDiff = _a.lastDiff, diff = _a.diff;\r\n                var result;\r\n                if (onQueryUpdated) {\r\n                    if (!diff) {\r\n                        var info = oq[\"queryInfo\"];\r\n                        info.reset();\r\n                        diff = info.getDiff();\r\n                    }\r\n                    result = onQueryUpdated(oq, diff, lastDiff);\r\n                }\r\n                if (!onQueryUpdated || result === true) {\r\n                    result = oq.refetch();\r\n                }\r\n                if (result !== false) {\r\n                    results.set(oq, result);\r\n                }\r\n                if (queryId.indexOf(\"legacyOneTimeQuery\") >= 0) {\r\n                    _this.stopQueryNoBroadcast(queryId);\r\n                }\r\n            });\r\n        }\r\n        if (removeOptimistic) {\r\n            this.cache.removeOptimistic(removeOptimistic);\r\n        }\r\n        return results;\r\n    };\r\n    QueryManager.prototype.fetchQueryByPolicy = function (queryInfo, _a, networkStatus) {\r\n        var _this = this;\r\n        var query = _a.query, variables = _a.variables, fetchPolicy = _a.fetchPolicy, refetchWritePolicy = _a.refetchWritePolicy, errorPolicy = _a.errorPolicy, returnPartialData = _a.returnPartialData, context = _a.context, notifyOnNetworkStatusChange = _a.notifyOnNetworkStatusChange;\r\n        var oldNetworkStatus = queryInfo.networkStatus;\r\n        queryInfo.init({\r\n            document: query,\r\n            variables: variables,\r\n            networkStatus: networkStatus,\r\n        });\r\n        var readCache = function () { return queryInfo.getDiff(variables); };\r\n        var resultsFromCache = function (diff, networkStatus) {\r\n            if (networkStatus === void 0) { networkStatus = queryInfo.networkStatus || NetworkStatus.loading; }\r\n            var data = diff.result;\r\n            if (__DEV__ &&\r\n                !returnPartialData &&\r\n                !equal(data, {})) {\r\n                logMissingFieldErrors(diff.missing);\r\n            }\r\n            var fromData = function (data) { return Observable.of(__assign({ data: data, loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus }, (diff.complete ? null : { partial: true }))); };\r\n            if (data && _this.transform(query).hasForcedResolvers) {\r\n                return _this.localState.runResolvers({\r\n                    document: query,\r\n                    remoteResult: { data: data },\r\n                    context: context,\r\n                    variables: variables,\r\n                    onlyRunForcedResolvers: true,\r\n                }).then(function (resolved) { return fromData(resolved.data || void 0); });\r\n            }\r\n            return fromData(data);\r\n        };\r\n        var cacheWriteBehavior = fetchPolicy === \"no-cache\" ? 0 :\r\n            (networkStatus === NetworkStatus.refetch &&\r\n                refetchWritePolicy !== \"merge\") ? 1\r\n                : 2;\r\n        var resultsFromLink = function () {\r\n            return _this.getResultsFromLink(queryInfo, cacheWriteBehavior, {\r\n                variables: variables,\r\n                context: context,\r\n                fetchPolicy: fetchPolicy,\r\n                errorPolicy: errorPolicy,\r\n            });\r\n        };\r\n        var shouldNotify = notifyOnNetworkStatusChange &&\r\n            typeof oldNetworkStatus === \"number\" &&\r\n            oldNetworkStatus !== networkStatus &&\r\n            isNetworkRequestInFlight(networkStatus);\r\n        switch (fetchPolicy) {\r\n            default:\r\n            case \"cache-first\": {\r\n                var diff = readCache();\r\n                if (diff.complete) {\r\n                    return [\r\n                        resultsFromCache(diff, queryInfo.markReady()),\r\n                    ];\r\n                }\r\n                if (returnPartialData || shouldNotify) {\r\n                    return [\r\n                        resultsFromCache(diff),\r\n                        resultsFromLink(),\r\n                    ];\r\n                }\r\n                return [\r\n                    resultsFromLink(),\r\n                ];\r\n            }\r\n            case \"cache-and-network\": {\r\n                var diff = readCache();\r\n                if (diff.complete || returnPartialData || shouldNotify) {\r\n                    return [\r\n                        resultsFromCache(diff),\r\n                        resultsFromLink(),\r\n                    ];\r\n                }\r\n                return [\r\n                    resultsFromLink(),\r\n                ];\r\n            }\r\n            case \"cache-only\":\r\n                return [\r\n                    resultsFromCache(readCache(), queryInfo.markReady()),\r\n                ];\r\n            case \"network-only\":\r\n                if (shouldNotify) {\r\n                    return [\r\n                        resultsFromCache(readCache()),\r\n                        resultsFromLink(),\r\n                    ];\r\n                }\r\n                return [resultsFromLink()];\r\n            case \"no-cache\":\r\n                if (shouldNotify) {\r\n                    return [\r\n                        resultsFromCache(queryInfo.getDiff()),\r\n                        resultsFromLink(),\r\n                    ];\r\n                }\r\n                return [resultsFromLink()];\r\n            case \"standby\":\r\n                return [];\r\n        }\r\n    };\r\n    QueryManager.prototype.getQuery = function (queryId) {\r\n        if (queryId && !this.queries.has(queryId)) {\r\n            this.queries.set(queryId, new QueryInfo(this, queryId));\r\n        }\r\n        return this.queries.get(queryId);\r\n    };\r\n    QueryManager.prototype.prepareContext = function (context) {\r\n        if (context === void 0) { context = {}; }\r\n        var newContext = this.localState.prepareContext(context);\r\n        return __assign(__assign({}, newContext), { clientAwareness: this.clientAwareness });\r\n    };\r\n    return QueryManager;\r\n}());\r\nexport { QueryManager };\r\n","export var NetworkStatus;\r\n(function (NetworkStatus) {\r\n    NetworkStatus[NetworkStatus[\"loading\"] = 1] = \"loading\";\r\n    NetworkStatus[NetworkStatus[\"setVariables\"] = 2] = \"setVariables\";\r\n    NetworkStatus[NetworkStatus[\"fetchMore\"] = 3] = \"fetchMore\";\r\n    NetworkStatus[NetworkStatus[\"refetch\"] = 4] = \"refetch\";\r\n    NetworkStatus[NetworkStatus[\"poll\"] = 6] = \"poll\";\r\n    NetworkStatus[NetworkStatus[\"ready\"] = 7] = \"ready\";\r\n    NetworkStatus[NetworkStatus[\"error\"] = 8] = \"error\";\r\n})(NetworkStatus || (NetworkStatus = {}));\r\nexport function isNetworkRequestInFlight(networkStatus) {\r\n    return networkStatus ? networkStatus < 7 : false;\r\n}\r\n","import { __extends } from \"tslib\";\r\nimport \"../utilities/globals/index.js\";\r\nimport { isNonEmptyArray } from \"../utilities/index.js\";\r\nexport function isApolloError(err) {\r\n    return err.hasOwnProperty('graphQLErrors');\r\n}\r\nvar generateErrorMessage = function (err) {\r\n    var message = '';\r\n    if (isNonEmptyArray(err.graphQLErrors) || isNonEmptyArray(err.clientErrors)) {\r\n        var errors = (err.graphQLErrors || [])\r\n            .concat(err.clientErrors || []);\r\n        errors.forEach(function (error) {\r\n            var errorMessage = error\r\n                ? error.message\r\n                : 'Error message not found.';\r\n            message += errorMessage + \"\\n\";\r\n        });\r\n    }\r\n    if (err.networkError) {\r\n        message += err.networkError.message + \"\\n\";\r\n    }\r\n    message = message.replace(/\\n$/, '');\r\n    return message;\r\n};\r\nvar ApolloError = (function (_super) {\r\n    __extends(ApolloError, _super);\r\n    function ApolloError(_a) {\r\n        var graphQLErrors = _a.graphQLErrors, clientErrors = _a.clientErrors, networkError = _a.networkError, errorMessage = _a.errorMessage, extraInfo = _a.extraInfo;\r\n        var _this = _super.call(this, errorMessage) || this;\r\n        _this.graphQLErrors = graphQLErrors || [];\r\n        _this.clientErrors = clientErrors || [];\r\n        _this.networkError = networkError || null;\r\n        _this.message = errorMessage || generateErrorMessage(_this);\r\n        _this.extraInfo = extraInfo;\r\n        _this.__proto__ = ApolloError.prototype;\r\n        return _this;\r\n    }\r\n    return ApolloError;\r\n}(Error));\r\nexport { ApolloError };\r\n","import { __extends } from \"tslib\";\r\nimport { InvariantError, invariant } from \"../../utilities/globals/index.js\";\r\nimport { Observable } from \"../../utilities/index.js\";\r\nimport { validateOperation, createOperation, transformOperation, } from \"../utils/index.js\";\r\nfunction passthrough(op, forward) {\r\n    return (forward ? forward(op) : Observable.of());\r\n}\r\nfunction toLink(handler) {\r\n    return typeof handler === 'function' ? new ApolloLink(handler) : handler;\r\n}\r\nfunction isTerminating(link) {\r\n    return link.request.length <= 1;\r\n}\r\nvar LinkError = (function (_super) {\r\n    __extends(LinkError, _super);\r\n    function LinkError(message, link) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.link = link;\r\n        return _this;\r\n    }\r\n    return LinkError;\r\n}(Error));\r\nvar ApolloLink = (function () {\r\n    function ApolloLink(request) {\r\n        if (request)\r\n            this.request = request;\r\n    }\r\n    ApolloLink.empty = function () {\r\n        return new ApolloLink(function () { return Observable.of(); });\r\n    };\r\n    ApolloLink.from = function (links) {\r\n        if (links.length === 0)\r\n            return ApolloLink.empty();\r\n        return links.map(toLink).reduce(function (x, y) { return x.concat(y); });\r\n    };\r\n    ApolloLink.split = function (test, left, right) {\r\n        var leftLink = toLink(left);\r\n        var rightLink = toLink(right || new ApolloLink(passthrough));\r\n        if (isTerminating(leftLink) && isTerminating(rightLink)) {\r\n            return new ApolloLink(function (operation) {\r\n                return test(operation)\r\n                    ? leftLink.request(operation) || Observable.of()\r\n                    : rightLink.request(operation) || Observable.of();\r\n            });\r\n        }\r\n        else {\r\n            return new ApolloLink(function (operation, forward) {\r\n                return test(operation)\r\n                    ? leftLink.request(operation, forward) || Observable.of()\r\n                    : rightLink.request(operation, forward) || Observable.of();\r\n            });\r\n        }\r\n    };\r\n    ApolloLink.execute = function (link, operation) {\r\n        return (link.request(createOperation(operation.context, transformOperation(validateOperation(operation)))) || Observable.of());\r\n    };\r\n    ApolloLink.concat = function (first, second) {\r\n        var firstLink = toLink(first);\r\n        if (isTerminating(firstLink)) {\r\n            __DEV__ && invariant.warn(new LinkError(\"You are calling concat on a terminating link, which will have no effect\", firstLink));\r\n            return firstLink;\r\n        }\r\n        var nextLink = toLink(second);\r\n        if (isTerminating(nextLink)) {\r\n            return new ApolloLink(function (operation) {\r\n                return firstLink.request(operation, function (op) { return nextLink.request(op) || Observable.of(); }) || Observable.of();\r\n            });\r\n        }\r\n        else {\r\n            return new ApolloLink(function (operation, forward) {\r\n                return (firstLink.request(operation, function (op) {\r\n                    return nextLink.request(op, forward) || Observable.of();\r\n                }) || Observable.of());\r\n            });\r\n        }\r\n    };\r\n    ApolloLink.prototype.split = function (test, left, right) {\r\n        return this.concat(ApolloLink.split(test, left, right || new ApolloLink(passthrough)));\r\n    };\r\n    ApolloLink.prototype.concat = function (next) {\r\n        return ApolloLink.concat(this, next);\r\n    };\r\n    ApolloLink.prototype.request = function (operation, forward) {\r\n        throw __DEV__ ? new InvariantError('request is not implemented') : new InvariantError(21);\r\n    };\r\n    ApolloLink.prototype.onError = function (error, observer) {\r\n        if (observer && observer.error) {\r\n            observer.error(error);\r\n            return false;\r\n        }\r\n        throw error;\r\n    };\r\n    ApolloLink.prototype.setOnError = function (fn) {\r\n        this.onError = fn;\r\n        return this;\r\n    };\r\n    return ApolloLink;\r\n}());\r\nexport { ApolloLink };\r\n","import { ApolloLink } from \"./ApolloLink.js\";\r\nexport var execute = ApolloLink.execute;\r\n","import { __extends } from \"tslib\";\r\nimport { ApolloLink } from \"../core/index.js\";\r\nimport { createHttpLink } from \"./createHttpLink.js\";\r\nvar HttpLink = (function (_super) {\r\n    __extends(HttpLink, _super);\r\n    function HttpLink(options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, createHttpLink(options).request) || this;\r\n        _this.options = options;\r\n        return _this;\r\n    }\r\n    return HttpLink;\r\n}(ApolloLink));\r\nexport { HttpLink };\r\n","import { InvariantError } from \"../../utilities/globals/index.js\";\r\nexport var checkFetcher = function (fetcher) {\r\n    if (!fetcher && typeof fetch === 'undefined') {\r\n        throw __DEV__ ? new InvariantError(\"\\n\\\"fetch\\\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\\n\\nimport fetch from 'cross-fetch';\\nimport { ApolloClient, HttpLink } from '@apollo/client';\\nconst client = new ApolloClient({\\n  link: new HttpLink({ uri: '/graphql', fetch })\\n});\\n    \") : new InvariantError(22);\r\n    }\r\n};\r\n","import { __assign, __rest } from \"tslib\";\r\nimport \"../../utilities/globals/index.js\";\r\nimport { visit } from 'graphql';\r\nimport { ApolloLink } from \"../core/index.js\";\r\nimport { Observable } from \"../../utilities/index.js\";\r\nimport { serializeFetchParameter } from \"./serializeFetchParameter.js\";\r\nimport { selectURI } from \"./selectURI.js\";\r\nimport { parseAndCheckHttpResponse } from \"./parseAndCheckHttpResponse.js\";\r\nimport { checkFetcher } from \"./checkFetcher.js\";\r\nimport { selectHttpOptionsAndBody, fallbackHttpConfig } from \"./selectHttpOptionsAndBody.js\";\r\nimport { createSignalIfSupported } from \"./createSignalIfSupported.js\";\r\nimport { rewriteURIForGET } from \"./rewriteURIForGET.js\";\r\nimport { fromError } from \"../utils/index.js\";\r\nimport { maybe } from \"../../utilities/index.js\";\r\nvar backupFetch = maybe(function () { return fetch; });\r\nexport var createHttpLink = function (linkOptions) {\r\n    if (linkOptions === void 0) { linkOptions = {}; }\r\n    var _a = linkOptions.uri, uri = _a === void 0 ? '/graphql' : _a, preferredFetch = linkOptions.fetch, includeExtensions = linkOptions.includeExtensions, useGETForQueries = linkOptions.useGETForQueries, _b = linkOptions.includeUnusedVariables, includeUnusedVariables = _b === void 0 ? false : _b, requestOptions = __rest(linkOptions, [\"uri\", \"fetch\", \"includeExtensions\", \"useGETForQueries\", \"includeUnusedVariables\"]);\r\n    if (__DEV__) {\r\n        checkFetcher(preferredFetch || backupFetch);\r\n    }\r\n    var linkConfig = {\r\n        http: { includeExtensions: includeExtensions },\r\n        options: requestOptions.fetchOptions,\r\n        credentials: requestOptions.credentials,\r\n        headers: requestOptions.headers,\r\n    };\r\n    return new ApolloLink(function (operation) {\r\n        var chosenURI = selectURI(operation, uri);\r\n        var context = operation.getContext();\r\n        var clientAwarenessHeaders = {};\r\n        if (context.clientAwareness) {\r\n            var _a = context.clientAwareness, name_1 = _a.name, version = _a.version;\r\n            if (name_1) {\r\n                clientAwarenessHeaders['apollographql-client-name'] = name_1;\r\n            }\r\n            if (version) {\r\n                clientAwarenessHeaders['apollographql-client-version'] = version;\r\n            }\r\n        }\r\n        var contextHeaders = __assign(__assign({}, clientAwarenessHeaders), context.headers);\r\n        var contextConfig = {\r\n            http: context.http,\r\n            options: context.fetchOptions,\r\n            credentials: context.credentials,\r\n            headers: contextHeaders,\r\n        };\r\n        var _b = selectHttpOptionsAndBody(operation, fallbackHttpConfig, linkConfig, contextConfig), options = _b.options, body = _b.body;\r\n        if (body.variables && !includeUnusedVariables) {\r\n            var unusedNames_1 = new Set(Object.keys(body.variables));\r\n            visit(operation.query, {\r\n                Variable: function (node, _key, parent) {\r\n                    if (parent && parent.kind !== 'VariableDefinition') {\r\n                        unusedNames_1.delete(node.name.value);\r\n                    }\r\n                },\r\n            });\r\n            if (unusedNames_1.size) {\r\n                body.variables = __assign({}, body.variables);\r\n                unusedNames_1.forEach(function (name) {\r\n                    delete body.variables[name];\r\n                });\r\n            }\r\n        }\r\n        var controller;\r\n        if (!options.signal) {\r\n            var _c = createSignalIfSupported(), _controller = _c.controller, signal = _c.signal;\r\n            controller = _controller;\r\n            if (controller)\r\n                options.signal = signal;\r\n        }\r\n        var definitionIsMutation = function (d) {\r\n            return d.kind === 'OperationDefinition' && d.operation === 'mutation';\r\n        };\r\n        if (useGETForQueries &&\r\n            !operation.query.definitions.some(definitionIsMutation)) {\r\n            options.method = 'GET';\r\n        }\r\n        if (options.method === 'GET') {\r\n            var _d = rewriteURIForGET(chosenURI, body), newURI = _d.newURI, parseError = _d.parseError;\r\n            if (parseError) {\r\n                return fromError(parseError);\r\n            }\r\n            chosenURI = newURI;\r\n        }\r\n        else {\r\n            try {\r\n                options.body = serializeFetchParameter(body, 'Payload');\r\n            }\r\n            catch (parseError) {\r\n                return fromError(parseError);\r\n            }\r\n        }\r\n        return new Observable(function (observer) {\r\n            var currentFetch = preferredFetch || maybe(function () { return fetch; }) || backupFetch;\r\n            currentFetch(chosenURI, options)\r\n                .then(function (response) {\r\n                operation.setContext({ response: response });\r\n                return response;\r\n            })\r\n                .then(parseAndCheckHttpResponse(operation))\r\n                .then(function (result) {\r\n                observer.next(result);\r\n                observer.complete();\r\n                return result;\r\n            })\r\n                .catch(function (err) {\r\n                if (err.name === 'AbortError')\r\n                    return;\r\n                if (err.result && err.result.errors && err.result.data) {\r\n                    observer.next(err.result);\r\n                }\r\n                observer.error(err);\r\n            });\r\n            return function () {\r\n                if (controller)\r\n                    controller.abort();\r\n            };\r\n        });\r\n    });\r\n};\r\n","export var createSignalIfSupported = function () {\r\n    if (typeof AbortController === 'undefined')\r\n        return { controller: false, signal: false };\r\n    var controller = new AbortController();\r\n    var signal = controller.signal;\r\n    return { controller: controller, signal: signal };\r\n};\r\n","import { throwServerError } from \"../utils/index.js\";\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nexport function parseAndCheckHttpResponse(operations) {\r\n    return function (response) { return response\r\n        .text()\r\n        .then(function (bodyText) {\r\n        try {\r\n            return JSON.parse(bodyText);\r\n        }\r\n        catch (err) {\r\n            var parseError = err;\r\n            parseError.name = 'ServerParseError';\r\n            parseError.response = response;\r\n            parseError.statusCode = response.status;\r\n            parseError.bodyText = bodyText;\r\n            throw parseError;\r\n        }\r\n    })\r\n        .then(function (result) {\r\n        if (response.status >= 300) {\r\n            throwServerError(response, result, \"Response not successful: Received status code \" + response.status);\r\n        }\r\n        if (!Array.isArray(result) &&\r\n            !hasOwnProperty.call(result, 'data') &&\r\n            !hasOwnProperty.call(result, 'errors')) {\r\n            throwServerError(response, result, \"Server response was missing for query '\" + (Array.isArray(operations)\r\n                ? operations.map(function (op) { return op.operationName; })\r\n                : operations.operationName) + \"'.\");\r\n        }\r\n        return result;\r\n    }); };\r\n}\r\n","import { serializeFetchParameter } from \"./serializeFetchParameter.js\";\r\nexport function rewriteURIForGET(chosenURI, body) {\r\n    var queryParams = [];\r\n    var addQueryParam = function (key, value) {\r\n        queryParams.push(key + \"=\" + encodeURIComponent(value));\r\n    };\r\n    if ('query' in body) {\r\n        addQueryParam('query', body.query);\r\n    }\r\n    if (body.operationName) {\r\n        addQueryParam('operationName', body.operationName);\r\n    }\r\n    if (body.variables) {\r\n        var serializedVariables = void 0;\r\n        try {\r\n            serializedVariables = serializeFetchParameter(body.variables, 'Variables map');\r\n        }\r\n        catch (parseError) {\r\n            return { parseError: parseError };\r\n        }\r\n        addQueryParam('variables', serializedVariables);\r\n    }\r\n    if (body.extensions) {\r\n        var serializedExtensions = void 0;\r\n        try {\r\n            serializedExtensions = serializeFetchParameter(body.extensions, 'Extensions map');\r\n        }\r\n        catch (parseError) {\r\n            return { parseError: parseError };\r\n        }\r\n        addQueryParam('extensions', serializedExtensions);\r\n    }\r\n    var fragment = '', preFragment = chosenURI;\r\n    var fragmentStart = chosenURI.indexOf('#');\r\n    if (fragmentStart !== -1) {\r\n        fragment = chosenURI.substr(fragmentStart);\r\n        preFragment = chosenURI.substr(0, fragmentStart);\r\n    }\r\n    var queryParamsPrefix = preFragment.indexOf('?') === -1 ? '?' : '&';\r\n    var newURI = preFragment + queryParamsPrefix + queryParams.join('&') + fragment;\r\n    return { newURI: newURI };\r\n}\r\n","import { __assign } from \"tslib\";\r\nimport { print } from 'graphql';\r\nvar defaultHttpOptions = {\r\n    includeQuery: true,\r\n    includeExtensions: false,\r\n};\r\nvar defaultHeaders = {\r\n    accept: '*/*',\r\n    'content-type': 'application/json',\r\n};\r\nvar defaultOptions = {\r\n    method: 'POST',\r\n};\r\nexport var fallbackHttpConfig = {\r\n    http: defaultHttpOptions,\r\n    headers: defaultHeaders,\r\n    options: defaultOptions,\r\n};\r\nexport var selectHttpOptionsAndBody = function (operation, fallbackConfig) {\r\n    var configs = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        configs[_i - 2] = arguments[_i];\r\n    }\r\n    var options = __assign(__assign({}, fallbackConfig.options), { headers: fallbackConfig.headers, credentials: fallbackConfig.credentials });\r\n    var http = fallbackConfig.http || {};\r\n    configs.forEach(function (config) {\r\n        options = __assign(__assign(__assign({}, options), config.options), { headers: __assign(__assign({}, options.headers), headersToLowerCase(config.headers)) });\r\n        if (config.credentials)\r\n            options.credentials = config.credentials;\r\n        http = __assign(__assign({}, http), config.http);\r\n    });\r\n    var operationName = operation.operationName, extensions = operation.extensions, variables = operation.variables, query = operation.query;\r\n    var body = { operationName: operationName, variables: variables };\r\n    if (http.includeExtensions)\r\n        body.extensions = extensions;\r\n    if (http.includeQuery)\r\n        body.query = print(query);\r\n    return {\r\n        options: options,\r\n        body: body,\r\n    };\r\n};\r\nfunction headersToLowerCase(headers) {\r\n    if (headers) {\r\n        var normalized_1 = Object.create(null);\r\n        Object.keys(Object(headers)).forEach(function (name) {\r\n            normalized_1[name.toLowerCase()] = headers[name];\r\n        });\r\n        return normalized_1;\r\n    }\r\n    return headers;\r\n}\r\n","export var selectURI = function (operation, fallbackURI) {\r\n    var context = operation.getContext();\r\n    var contextURI = context.uri;\r\n    if (contextURI) {\r\n        return contextURI;\r\n    }\r\n    else if (typeof fallbackURI === 'function') {\r\n        return fallbackURI(operation);\r\n    }\r\n    else {\r\n        return fallbackURI || '/graphql';\r\n    }\r\n};\r\n","import { InvariantError } from \"../../utilities/globals/index.js\";\r\nexport var serializeFetchParameter = function (p, label) {\r\n    var serialized;\r\n    try {\r\n        serialized = JSON.stringify(p);\r\n    }\r\n    catch (e) {\r\n        var parseError = __DEV__ ? new InvariantError(\"Network request failed. \" + label + \" is not serializable: \" + e.message) : new InvariantError(23);\r\n        parseError.parseError = e;\r\n        throw parseError;\r\n    }\r\n    return serialized;\r\n};\r\n","import { __assign } from \"tslib\";\r\nexport function createOperation(starting, operation) {\r\n    var context = __assign({}, starting);\r\n    var setContext = function (next) {\r\n        if (typeof next === 'function') {\r\n            context = __assign(__assign({}, context), next(context));\r\n        }\r\n        else {\r\n            context = __assign(__assign({}, context), next);\r\n        }\r\n    };\r\n    var getContext = function () { return (__assign({}, context)); };\r\n    Object.defineProperty(operation, 'setContext', {\r\n        enumerable: false,\r\n        value: setContext,\r\n    });\r\n    Object.defineProperty(operation, 'getContext', {\r\n        enumerable: false,\r\n        value: getContext,\r\n    });\r\n    return operation;\r\n}\r\n","import { Observable } from \"../../utilities/index.js\";\r\nexport function fromError(errorValue) {\r\n    return new Observable(function (observer) {\r\n        observer.error(errorValue);\r\n    });\r\n}\r\n","export var throwServerError = function (response, result, message) {\r\n    var error = new Error(message);\r\n    error.name = 'ServerError';\r\n    error.response = response;\r\n    error.statusCode = response.status;\r\n    error.result = result;\r\n    throw error;\r\n};\r\n","import { getOperationName } from \"../../utilities/index.js\";\r\nexport function transformOperation(operation) {\r\n    var transformedOperation = {\r\n        variables: operation.variables || {},\r\n        extensions: operation.extensions || {},\r\n        operationName: operation.operationName,\r\n        query: operation.query,\r\n    };\r\n    if (!transformedOperation.operationName) {\r\n        transformedOperation.operationName =\r\n            typeof transformedOperation.query !== 'string'\r\n                ? getOperationName(transformedOperation.query) || undefined\r\n                : '';\r\n    }\r\n    return transformedOperation;\r\n}\r\n","import { InvariantError } from \"../../utilities/globals/index.js\";\r\nexport function validateOperation(operation) {\r\n    var OPERATION_FIELDS = [\r\n        'query',\r\n        'operationName',\r\n        'variables',\r\n        'extensions',\r\n        'context',\r\n    ];\r\n    for (var _i = 0, _a = Object.keys(operation); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        if (OPERATION_FIELDS.indexOf(key) < 0) {\r\n            throw __DEV__ ? new InvariantError(\"illegal argument: \" + key) : new InvariantError(26);\r\n        }\r\n    }\r\n    return operation;\r\n}\r\n","export function isNonEmptyArray(value) {\r\n    return Array.isArray(value) && value.length > 0;\r\n}\r\n","export var canUseWeakMap = typeof WeakMap === 'function' && !(typeof navigator === 'object' &&\r\n    navigator.product === 'ReactNative');\r\nexport var canUseWeakSet = typeof WeakSet === 'function';\r\n","var toString = Object.prototype.toString;\r\nexport function cloneDeep(value) {\r\n    return cloneDeepHelper(value);\r\n}\r\nfunction cloneDeepHelper(val, seen) {\r\n    switch (toString.call(val)) {\r\n        case \"[object Array]\": {\r\n            seen = seen || new Map;\r\n            if (seen.has(val))\r\n                return seen.get(val);\r\n            var copy_1 = val.slice(0);\r\n            seen.set(val, copy_1);\r\n            copy_1.forEach(function (child, i) {\r\n                copy_1[i] = cloneDeepHelper(child, seen);\r\n            });\r\n            return copy_1;\r\n        }\r\n        case \"[object Object]\": {\r\n            seen = seen || new Map;\r\n            if (seen.has(val))\r\n                return seen.get(val);\r\n            var copy_2 = Object.create(Object.getPrototypeOf(val));\r\n            seen.set(val, copy_2);\r\n            Object.keys(val).forEach(function (key) {\r\n                copy_2[key] = cloneDeepHelper(val[key], seen);\r\n            });\r\n            return copy_2;\r\n        }\r\n        default:\r\n            return val;\r\n    }\r\n}\r\n","export function compact() {\r\n    var objects = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        objects[_i] = arguments[_i];\r\n    }\r\n    var result = Object.create(null);\r\n    objects.forEach(function (obj) {\r\n        if (!obj)\r\n            return;\r\n        Object.keys(obj).forEach(function (key) {\r\n            var value = obj[key];\r\n            if (value !== void 0) {\r\n                result[key] = value;\r\n            }\r\n        });\r\n    });\r\n    return result;\r\n}\r\n","export function graphQLResultHasError(result) {\r\n    return (result.errors && result.errors.length > 0) || false;\r\n}\r\n","export function filterInPlace(array, test, context) {\r\n    var target = 0;\r\n    array.forEach(function (elem, i) {\r\n        if (test.call(this, elem, i, array)) {\r\n            array[target++] = elem;\r\n        }\r\n    }, context);\r\n    array.length = target;\r\n    return array;\r\n}\r\n","var prefixCounts = new Map();\r\nexport function makeUniqueId(prefix) {\r\n    var count = prefixCounts.get(prefix) || 1;\r\n    prefixCounts.set(prefix, count + 1);\r\n    return prefix + \":\" + count + \":\" + Math.random().toString(36).slice(2);\r\n}\r\n","import { __assign, __spreadArray } from \"tslib\";\r\nimport { isNonNullObject } from \"./objects.js\";\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nexport function mergeDeep() {\r\n    var sources = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        sources[_i] = arguments[_i];\r\n    }\r\n    return mergeDeepArray(sources);\r\n}\r\nexport function mergeDeepArray(sources) {\r\n    var target = sources[0] || {};\r\n    var count = sources.length;\r\n    if (count > 1) {\r\n        var merger = new DeepMerger();\r\n        for (var i = 1; i < count; ++i) {\r\n            target = merger.merge(target, sources[i]);\r\n        }\r\n    }\r\n    return target;\r\n}\r\nvar defaultReconciler = function (target, source, property) {\r\n    return this.merge(target[property], source[property]);\r\n};\r\nvar DeepMerger = (function () {\r\n    function DeepMerger(reconciler) {\r\n        if (reconciler === void 0) { reconciler = defaultReconciler; }\r\n        this.reconciler = reconciler;\r\n        this.isObject = isNonNullObject;\r\n        this.pastCopies = new Set();\r\n    }\r\n    DeepMerger.prototype.merge = function (target, source) {\r\n        var _this = this;\r\n        var context = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            context[_i - 2] = arguments[_i];\r\n        }\r\n        if (isNonNullObject(source) && isNonNullObject(target)) {\r\n            Object.keys(source).forEach(function (sourceKey) {\r\n                if (hasOwnProperty.call(target, sourceKey)) {\r\n                    var targetValue = target[sourceKey];\r\n                    if (source[sourceKey] !== targetValue) {\r\n                        var result = _this.reconciler.apply(_this, __spreadArray([target, source, sourceKey], context, false));\r\n                        if (result !== targetValue) {\r\n                            target = _this.shallowCopyForMerge(target);\r\n                            target[sourceKey] = result;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    target = _this.shallowCopyForMerge(target);\r\n                    target[sourceKey] = source[sourceKey];\r\n                }\r\n            });\r\n            return target;\r\n        }\r\n        return source;\r\n    };\r\n    DeepMerger.prototype.shallowCopyForMerge = function (value) {\r\n        if (isNonNullObject(value) && !this.pastCopies.has(value)) {\r\n            if (Array.isArray(value)) {\r\n                value = value.slice(0);\r\n            }\r\n            else {\r\n                value = __assign({ __proto__: Object.getPrototypeOf(value) }, value);\r\n            }\r\n            this.pastCopies.add(value);\r\n        }\r\n        return value;\r\n    };\r\n    return DeepMerger;\r\n}());\r\nexport { DeepMerger };\r\n","export function isNonNullObject(obj) {\r\n    return obj !== null && typeof obj === 'object';\r\n}\r\n","import global from \"./global.js\";\r\nimport { maybe } from \"./maybe.js\";\r\nvar __ = \"__\";\r\nvar GLOBAL_KEY = [__, __].join(\"DEV\");\r\nfunction getDEV() {\r\n    try {\r\n        return Boolean(__DEV__);\r\n    }\r\n    catch (_a) {\r\n        Object.defineProperty(global, GLOBAL_KEY, {\r\n            value: maybe(function () { return process.env.NODE_ENV; }) !== \"production\",\r\n            enumerable: false,\r\n            configurable: true,\r\n            writable: true,\r\n        });\r\n        return global[GLOBAL_KEY];\r\n    }\r\n}\r\nexport default getDEV();\r\n","import { maybe } from \"./maybe.js\";\r\nexport default (maybe(function () { return globalThis; }) ||\r\n    maybe(function () { return window; }) ||\r\n    maybe(function () { return self; }) ||\r\n    maybe(function () { return global; }) ||\r\n    maybe(function () { return Function(\"return this\")(); }));\r\n","import { remove } from 'ts-invariant/process';\r\nimport { isType } from 'graphql';\r\nexport function removeTemporaryGlobals() {\r\n    isType(null);\r\n    return remove();\r\n}\r\n","import { invariant, InvariantError } from \"ts-invariant\";\r\nimport DEV from \"./DEV.js\";\r\nexport { DEV };\r\nexport function checkDEV() {\r\n    __DEV__ ? invariant(\"boolean\" === typeof DEV, DEV) : invariant(\"boolean\" === typeof DEV, 38);\r\n}\r\nimport { removeTemporaryGlobals } from \"./graphql.js\";\r\nremoveTemporaryGlobals();\r\nexport { maybe } from \"./maybe.js\";\r\nexport { default as global } from \"./global.js\";\r\nexport { invariant, InvariantError };\r\ncheckDEV();\r\n","export function maybe(thunk) {\r\n    try {\r\n        return thunk();\r\n    }\r\n    catch (_a) { }\r\n}\r\n","import { invariant } from \"../globals/index.js\";\r\nimport { visit, } from 'graphql';\r\nexport function shouldInclude(_a, variables) {\r\n    var directives = _a.directives;\r\n    if (!directives || !directives.length) {\r\n        return true;\r\n    }\r\n    return getInclusionDirectives(directives).every(function (_a) {\r\n        var directive = _a.directive, ifArgument = _a.ifArgument;\r\n        var evaledValue = false;\r\n        if (ifArgument.value.kind === 'Variable') {\r\n            evaledValue = variables && variables[ifArgument.value.name.value];\r\n            __DEV__ ? invariant(evaledValue !== void 0, \"Invalid variable referenced in @\" + directive.name.value + \" directive.\") : invariant(evaledValue !== void 0, 39);\r\n        }\r\n        else {\r\n            evaledValue = ifArgument.value.value;\r\n        }\r\n        return directive.name.value === 'skip' ? !evaledValue : evaledValue;\r\n    });\r\n}\r\nexport function getDirectiveNames(root) {\r\n    var names = [];\r\n    visit(root, {\r\n        Directive: function (node) {\r\n            names.push(node.name.value);\r\n        },\r\n    });\r\n    return names;\r\n}\r\nexport function hasDirectives(names, root) {\r\n    return getDirectiveNames(root).some(function (name) { return names.indexOf(name) > -1; });\r\n}\r\nexport function hasClientExports(document) {\r\n    return (document &&\r\n        hasDirectives(['client'], document) &&\r\n        hasDirectives(['export'], document));\r\n}\r\nfunction isInclusionDirective(_a) {\r\n    var value = _a.name.value;\r\n    return value === 'skip' || value === 'include';\r\n}\r\nexport function getInclusionDirectives(directives) {\r\n    var result = [];\r\n    if (directives && directives.length) {\r\n        directives.forEach(function (directive) {\r\n            if (!isInclusionDirective(directive))\r\n                return;\r\n            var directiveArguments = directive.arguments;\r\n            var directiveName = directive.name.value;\r\n            __DEV__ ? invariant(directiveArguments && directiveArguments.length === 1, \"Incorrect number of arguments for the @\" + directiveName + \" directive.\") : invariant(directiveArguments && directiveArguments.length === 1, 40);\r\n            var ifArgument = directiveArguments[0];\r\n            __DEV__ ? invariant(ifArgument.name && ifArgument.name.value === 'if', \"Invalid argument for the @\" + directiveName + \" directive.\") : invariant(ifArgument.name && ifArgument.name.value === 'if', 41);\r\n            var ifValue = ifArgument.value;\r\n            __DEV__ ? invariant(ifValue &&\r\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), \"Argument for the @\" + directiveName + \" directive must be a variable or a boolean value.\") : invariant(ifValue &&\r\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), 42);\r\n            result.push({ directive: directive, ifArgument: ifArgument });\r\n        });\r\n    }\r\n    return result;\r\n}\r\n","import { __assign, __spreadArray } from \"tslib\";\r\nimport { invariant, InvariantError } from \"../globals/index.js\";\r\nexport function getFragmentQueryDocument(document, fragmentName) {\r\n    var actualFragmentName = fragmentName;\r\n    var fragments = [];\r\n    document.definitions.forEach(function (definition) {\r\n        if (definition.kind === 'OperationDefinition') {\r\n            throw __DEV__ ? new InvariantError(\"Found a \" + definition.operation + \" operation\" + (definition.name ? \" named '\" + definition.name.value + \"'\" : '') + \". \" +\r\n                'No operations are allowed when using a fragment as a query. Only fragments are allowed.') : new InvariantError(43);\r\n        }\r\n        if (definition.kind === 'FragmentDefinition') {\r\n            fragments.push(definition);\r\n        }\r\n    });\r\n    if (typeof actualFragmentName === 'undefined') {\r\n        __DEV__ ? invariant(fragments.length === 1, \"Found \" + fragments.length + \" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.\") : invariant(fragments.length === 1, 44);\r\n        actualFragmentName = fragments[0].name.value;\r\n    }\r\n    var query = __assign(__assign({}, document), { definitions: __spreadArray([\r\n            {\r\n                kind: 'OperationDefinition',\r\n                operation: 'query',\r\n                selectionSet: {\r\n                    kind: 'SelectionSet',\r\n                    selections: [\r\n                        {\r\n                            kind: 'FragmentSpread',\r\n                            name: {\r\n                                kind: 'Name',\r\n                                value: actualFragmentName,\r\n                            },\r\n                        },\r\n                    ],\r\n                },\r\n            }\r\n        ], document.definitions, true) });\r\n    return query;\r\n}\r\nexport function createFragmentMap(fragments) {\r\n    if (fragments === void 0) { fragments = []; }\r\n    var symTable = {};\r\n    fragments.forEach(function (fragment) {\r\n        symTable[fragment.name.value] = fragment;\r\n    });\r\n    return symTable;\r\n}\r\nexport function getFragmentFromSelection(selection, fragmentMap) {\r\n    switch (selection.kind) {\r\n        case 'InlineFragment':\r\n            return selection;\r\n        case 'FragmentSpread': {\r\n            var fragment = fragmentMap && fragmentMap[selection.name.value];\r\n            __DEV__ ? invariant(fragment, \"No fragment named \" + selection.name.value + \".\") : invariant(fragment, 45);\r\n            return fragment;\r\n        }\r\n        default:\r\n            return null;\r\n    }\r\n}\r\n","import { invariant, InvariantError } from \"../globals/index.js\";\r\nimport { valueToObjectRepresentation } from \"./storeUtils.js\";\r\nexport function checkDocument(doc) {\r\n    __DEV__ ? invariant(doc && doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc && doc.kind === 'Document', 46);\r\n    var operations = doc.definitions\r\n        .filter(function (d) { return d.kind !== 'FragmentDefinition'; })\r\n        .map(function (definition) {\r\n        if (definition.kind !== 'OperationDefinition') {\r\n            throw __DEV__ ? new InvariantError(\"Schema type definitions not allowed in queries. Found: \\\"\" + definition.kind + \"\\\"\") : new InvariantError(47);\r\n        }\r\n        return definition;\r\n    });\r\n    __DEV__ ? invariant(operations.length <= 1, \"Ambiguous GraphQL document: contains \" + operations.length + \" operations\") : invariant(operations.length <= 1, 48);\r\n    return doc;\r\n}\r\nexport function getOperationDefinition(doc) {\r\n    checkDocument(doc);\r\n    return doc.definitions.filter(function (definition) { return definition.kind === 'OperationDefinition'; })[0];\r\n}\r\nexport function getOperationName(doc) {\r\n    return (doc.definitions\r\n        .filter(function (definition) {\r\n        return definition.kind === 'OperationDefinition' && definition.name;\r\n    })\r\n        .map(function (x) { return x.name.value; })[0] || null);\r\n}\r\nexport function getFragmentDefinitions(doc) {\r\n    return doc.definitions.filter(function (definition) { return definition.kind === 'FragmentDefinition'; });\r\n}\r\nexport function getQueryDefinition(doc) {\r\n    var queryDef = getOperationDefinition(doc);\r\n    __DEV__ ? invariant(queryDef && queryDef.operation === 'query', 'Must contain a query definition.') : invariant(queryDef && queryDef.operation === 'query', 49);\r\n    return queryDef;\r\n}\r\nexport function getFragmentDefinition(doc) {\r\n    __DEV__ ? invariant(doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc.kind === 'Document', 50);\r\n    __DEV__ ? invariant(doc.definitions.length <= 1, 'Fragment must have exactly one definition.') : invariant(doc.definitions.length <= 1, 51);\r\n    var fragmentDef = doc.definitions[0];\r\n    __DEV__ ? invariant(fragmentDef.kind === 'FragmentDefinition', 'Must be a fragment definition.') : invariant(fragmentDef.kind === 'FragmentDefinition', 52);\r\n    return fragmentDef;\r\n}\r\nexport function getMainDefinition(queryDoc) {\r\n    checkDocument(queryDoc);\r\n    var fragmentDefinition;\r\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\r\n        var definition = _a[_i];\r\n        if (definition.kind === 'OperationDefinition') {\r\n            var operation = definition.operation;\r\n            if (operation === 'query' ||\r\n                operation === 'mutation' ||\r\n                operation === 'subscription') {\r\n                return definition;\r\n            }\r\n        }\r\n        if (definition.kind === 'FragmentDefinition' && !fragmentDefinition) {\r\n            fragmentDefinition = definition;\r\n        }\r\n    }\r\n    if (fragmentDefinition) {\r\n        return fragmentDefinition;\r\n    }\r\n    throw __DEV__ ? new InvariantError('Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.') : new InvariantError(53);\r\n}\r\nexport function getDefaultValues(definition) {\r\n    var defaultValues = Object.create(null);\r\n    var defs = definition && definition.variableDefinitions;\r\n    if (defs && defs.length) {\r\n        defs.forEach(function (def) {\r\n            if (def.defaultValue) {\r\n                valueToObjectRepresentation(defaultValues, def.variable.name, def.defaultValue);\r\n            }\r\n        });\r\n    }\r\n    return defaultValues;\r\n}\r\n","import { InvariantError } from \"../globals/index.js\";\r\nimport { isNonNullObject } from \"../common/objects.js\";\r\nimport { getFragmentFromSelection } from \"./fragments.js\";\r\nexport function makeReference(id) {\r\n    return { __ref: String(id) };\r\n}\r\nexport function isReference(obj) {\r\n    return Boolean(obj && typeof obj === 'object' && typeof obj.__ref === 'string');\r\n}\r\nexport function isDocumentNode(value) {\r\n    return (isNonNullObject(value) &&\r\n        value.kind === \"Document\" &&\r\n        Array.isArray(value.definitions));\r\n}\r\nfunction isStringValue(value) {\r\n    return value.kind === 'StringValue';\r\n}\r\nfunction isBooleanValue(value) {\r\n    return value.kind === 'BooleanValue';\r\n}\r\nfunction isIntValue(value) {\r\n    return value.kind === 'IntValue';\r\n}\r\nfunction isFloatValue(value) {\r\n    return value.kind === 'FloatValue';\r\n}\r\nfunction isVariable(value) {\r\n    return value.kind === 'Variable';\r\n}\r\nfunction isObjectValue(value) {\r\n    return value.kind === 'ObjectValue';\r\n}\r\nfunction isListValue(value) {\r\n    return value.kind === 'ListValue';\r\n}\r\nfunction isEnumValue(value) {\r\n    return value.kind === 'EnumValue';\r\n}\r\nfunction isNullValue(value) {\r\n    return value.kind === 'NullValue';\r\n}\r\nexport function valueToObjectRepresentation(argObj, name, value, variables) {\r\n    if (isIntValue(value) || isFloatValue(value)) {\r\n        argObj[name.value] = Number(value.value);\r\n    }\r\n    else if (isBooleanValue(value) || isStringValue(value)) {\r\n        argObj[name.value] = value.value;\r\n    }\r\n    else if (isObjectValue(value)) {\r\n        var nestedArgObj_1 = {};\r\n        value.fields.map(function (obj) {\r\n            return valueToObjectRepresentation(nestedArgObj_1, obj.name, obj.value, variables);\r\n        });\r\n        argObj[name.value] = nestedArgObj_1;\r\n    }\r\n    else if (isVariable(value)) {\r\n        var variableValue = (variables || {})[value.name.value];\r\n        argObj[name.value] = variableValue;\r\n    }\r\n    else if (isListValue(value)) {\r\n        argObj[name.value] = value.values.map(function (listValue) {\r\n            var nestedArgArrayObj = {};\r\n            valueToObjectRepresentation(nestedArgArrayObj, name, listValue, variables);\r\n            return nestedArgArrayObj[name.value];\r\n        });\r\n    }\r\n    else if (isEnumValue(value)) {\r\n        argObj[name.value] = value.value;\r\n    }\r\n    else if (isNullValue(value)) {\r\n        argObj[name.value] = null;\r\n    }\r\n    else {\r\n        throw __DEV__ ? new InvariantError(\"The inline argument \\\"\" + name.value + \"\\\" of kind \\\"\" + value.kind + \"\\\"\" +\r\n            'is not supported. Use variables instead of inline arguments to ' +\r\n            'overcome this limitation.') : new InvariantError(54);\r\n    }\r\n}\r\nexport function storeKeyNameFromField(field, variables) {\r\n    var directivesObj = null;\r\n    if (field.directives) {\r\n        directivesObj = {};\r\n        field.directives.forEach(function (directive) {\r\n            directivesObj[directive.name.value] = {};\r\n            if (directive.arguments) {\r\n                directive.arguments.forEach(function (_a) {\r\n                    var name = _a.name, value = _a.value;\r\n                    return valueToObjectRepresentation(directivesObj[directive.name.value], name, value, variables);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    var argObj = null;\r\n    if (field.arguments && field.arguments.length) {\r\n        argObj = {};\r\n        field.arguments.forEach(function (_a) {\r\n            var name = _a.name, value = _a.value;\r\n            return valueToObjectRepresentation(argObj, name, value, variables);\r\n        });\r\n    }\r\n    return getStoreKeyName(field.name.value, argObj, directivesObj);\r\n}\r\nvar KNOWN_DIRECTIVES = [\r\n    'connection',\r\n    'include',\r\n    'skip',\r\n    'client',\r\n    'rest',\r\n    'export',\r\n];\r\nexport var getStoreKeyName = Object.assign(function (fieldName, args, directives) {\r\n    if (args &&\r\n        directives &&\r\n        directives['connection'] &&\r\n        directives['connection']['key']) {\r\n        if (directives['connection']['filter'] &&\r\n            directives['connection']['filter'].length > 0) {\r\n            var filterKeys = directives['connection']['filter']\r\n                ? directives['connection']['filter']\r\n                : [];\r\n            filterKeys.sort();\r\n            var filteredArgs_1 = {};\r\n            filterKeys.forEach(function (key) {\r\n                filteredArgs_1[key] = args[key];\r\n            });\r\n            return directives['connection']['key'] + \"(\" + stringify(filteredArgs_1) + \")\";\r\n        }\r\n        else {\r\n            return directives['connection']['key'];\r\n        }\r\n    }\r\n    var completeFieldName = fieldName;\r\n    if (args) {\r\n        var stringifiedArgs = stringify(args);\r\n        completeFieldName += \"(\" + stringifiedArgs + \")\";\r\n    }\r\n    if (directives) {\r\n        Object.keys(directives).forEach(function (key) {\r\n            if (KNOWN_DIRECTIVES.indexOf(key) !== -1)\r\n                return;\r\n            if (directives[key] && Object.keys(directives[key]).length) {\r\n                completeFieldName += \"@\" + key + \"(\" + stringify(directives[key]) + \")\";\r\n            }\r\n            else {\r\n                completeFieldName += \"@\" + key;\r\n            }\r\n        });\r\n    }\r\n    return completeFieldName;\r\n}, {\r\n    setStringify: function (s) {\r\n        var previous = stringify;\r\n        stringify = s;\r\n        return previous;\r\n    },\r\n});\r\nvar stringify = function defaultStringify(value) {\r\n    return JSON.stringify(value, stringifyReplacer);\r\n};\r\nfunction stringifyReplacer(_key, value) {\r\n    if (isNonNullObject(value) && !Array.isArray(value)) {\r\n        value = Object.keys(value).sort().reduce(function (copy, key) {\r\n            copy[key] = value[key];\r\n            return copy;\r\n        }, {});\r\n    }\r\n    return value;\r\n}\r\nexport function argumentsObjectFromField(field, variables) {\r\n    if (field.arguments && field.arguments.length) {\r\n        var argObj_1 = {};\r\n        field.arguments.forEach(function (_a) {\r\n            var name = _a.name, value = _a.value;\r\n            return valueToObjectRepresentation(argObj_1, name, value, variables);\r\n        });\r\n        return argObj_1;\r\n    }\r\n    return null;\r\n}\r\nexport function resultKeyNameFromField(field) {\r\n    return field.alias ? field.alias.value : field.name.value;\r\n}\r\nexport function getTypenameFromResult(result, selectionSet, fragmentMap) {\r\n    if (typeof result.__typename === 'string') {\r\n        return result.__typename;\r\n    }\r\n    for (var _i = 0, _a = selectionSet.selections; _i < _a.length; _i++) {\r\n        var selection = _a[_i];\r\n        if (isField(selection)) {\r\n            if (selection.name.value === '__typename') {\r\n                return result[resultKeyNameFromField(selection)];\r\n            }\r\n        }\r\n        else {\r\n            var typename = getTypenameFromResult(result, getFragmentFromSelection(selection, fragmentMap).selectionSet, fragmentMap);\r\n            if (typeof typename === 'string') {\r\n                return typename;\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function isField(selection) {\r\n    return selection.kind === 'Field';\r\n}\r\nexport function isInlineFragment(selection) {\r\n    return selection.kind === 'InlineFragment';\r\n}\r\n","import { __assign, __spreadArray } from \"tslib\";\r\nimport { invariant } from \"../globals/index.js\";\r\nimport { visit, } from 'graphql';\r\nimport { checkDocument, getOperationDefinition, getFragmentDefinition, getFragmentDefinitions, getMainDefinition, } from \"./getFromAST.js\";\r\nimport { filterInPlace } from \"../common/filterInPlace.js\";\r\nimport { isField, isInlineFragment } from \"./storeUtils.js\";\r\nimport { createFragmentMap, } from \"./fragments.js\";\r\nvar TYPENAME_FIELD = {\r\n    kind: 'Field',\r\n    name: {\r\n        kind: 'Name',\r\n        value: '__typename',\r\n    },\r\n};\r\nfunction isEmpty(op, fragments) {\r\n    return op.selectionSet.selections.every(function (selection) {\r\n        return selection.kind === 'FragmentSpread' &&\r\n            isEmpty(fragments[selection.name.value], fragments);\r\n    });\r\n}\r\nfunction nullIfDocIsEmpty(doc) {\r\n    return isEmpty(getOperationDefinition(doc) || getFragmentDefinition(doc), createFragmentMap(getFragmentDefinitions(doc)))\r\n        ? null\r\n        : doc;\r\n}\r\nfunction getDirectiveMatcher(directives) {\r\n    return function directiveMatcher(directive) {\r\n        return directives.some(function (dir) {\r\n            return (dir.name && dir.name === directive.name.value) ||\r\n                (dir.test && dir.test(directive));\r\n        });\r\n    };\r\n}\r\nexport function removeDirectivesFromDocument(directives, doc) {\r\n    var variablesInUse = Object.create(null);\r\n    var variablesToRemove = [];\r\n    var fragmentSpreadsInUse = Object.create(null);\r\n    var fragmentSpreadsToRemove = [];\r\n    var modifiedDoc = nullIfDocIsEmpty(visit(doc, {\r\n        Variable: {\r\n            enter: function (node, _key, parent) {\r\n                if (parent.kind !== 'VariableDefinition') {\r\n                    variablesInUse[node.name.value] = true;\r\n                }\r\n            },\r\n        },\r\n        Field: {\r\n            enter: function (node) {\r\n                if (directives && node.directives) {\r\n                    var shouldRemoveField = directives.some(function (directive) { return directive.remove; });\r\n                    if (shouldRemoveField &&\r\n                        node.directives &&\r\n                        node.directives.some(getDirectiveMatcher(directives))) {\r\n                        if (node.arguments) {\r\n                            node.arguments.forEach(function (arg) {\r\n                                if (arg.value.kind === 'Variable') {\r\n                                    variablesToRemove.push({\r\n                                        name: arg.value.name.value,\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                        if (node.selectionSet) {\r\n                            getAllFragmentSpreadsFromSelectionSet(node.selectionSet).forEach(function (frag) {\r\n                                fragmentSpreadsToRemove.push({\r\n                                    name: frag.name.value,\r\n                                });\r\n                            });\r\n                        }\r\n                        return null;\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        FragmentSpread: {\r\n            enter: function (node) {\r\n                fragmentSpreadsInUse[node.name.value] = true;\r\n            },\r\n        },\r\n        Directive: {\r\n            enter: function (node) {\r\n                if (getDirectiveMatcher(directives)(node)) {\r\n                    return null;\r\n                }\r\n            },\r\n        },\r\n    }));\r\n    if (modifiedDoc &&\r\n        filterInPlace(variablesToRemove, function (v) { return !!v.name && !variablesInUse[v.name]; }).length) {\r\n        modifiedDoc = removeArgumentsFromDocument(variablesToRemove, modifiedDoc);\r\n    }\r\n    if (modifiedDoc &&\r\n        filterInPlace(fragmentSpreadsToRemove, function (fs) { return !!fs.name && !fragmentSpreadsInUse[fs.name]; })\r\n            .length) {\r\n        modifiedDoc = removeFragmentSpreadFromDocument(fragmentSpreadsToRemove, modifiedDoc);\r\n    }\r\n    return modifiedDoc;\r\n}\r\nexport var addTypenameToDocument = Object.assign(function (doc) {\r\n    return visit(checkDocument(doc), {\r\n        SelectionSet: {\r\n            enter: function (node, _key, parent) {\r\n                if (parent &&\r\n                    parent.kind === 'OperationDefinition') {\r\n                    return;\r\n                }\r\n                var selections = node.selections;\r\n                if (!selections) {\r\n                    return;\r\n                }\r\n                var skip = selections.some(function (selection) {\r\n                    return (isField(selection) &&\r\n                        (selection.name.value === '__typename' ||\r\n                            selection.name.value.lastIndexOf('__', 0) === 0));\r\n                });\r\n                if (skip) {\r\n                    return;\r\n                }\r\n                var field = parent;\r\n                if (isField(field) &&\r\n                    field.directives &&\r\n                    field.directives.some(function (d) { return d.name.value === 'export'; })) {\r\n                    return;\r\n                }\r\n                return __assign(__assign({}, node), { selections: __spreadArray(__spreadArray([], selections, true), [TYPENAME_FIELD], false) });\r\n            },\r\n        },\r\n    });\r\n}, {\r\n    added: function (field) {\r\n        return field === TYPENAME_FIELD;\r\n    },\r\n});\r\nvar connectionRemoveConfig = {\r\n    test: function (directive) {\r\n        var willRemove = directive.name.value === 'connection';\r\n        if (willRemove) {\r\n            if (!directive.arguments ||\r\n                !directive.arguments.some(function (arg) { return arg.name.value === 'key'; })) {\r\n                __DEV__ && invariant.warn('Removing an @connection directive even though it does not have a key. ' +\r\n                    'You may want to use the key parameter to specify a store key.');\r\n            }\r\n        }\r\n        return willRemove;\r\n    },\r\n};\r\nexport function removeConnectionDirectiveFromDocument(doc) {\r\n    return removeDirectivesFromDocument([connectionRemoveConfig], checkDocument(doc));\r\n}\r\nfunction hasDirectivesInSelectionSet(directives, selectionSet, nestedCheck) {\r\n    if (nestedCheck === void 0) { nestedCheck = true; }\r\n    return (!!selectionSet &&\r\n        selectionSet.selections &&\r\n        selectionSet.selections.some(function (selection) {\r\n            return hasDirectivesInSelection(directives, selection, nestedCheck);\r\n        }));\r\n}\r\nfunction hasDirectivesInSelection(directives, selection, nestedCheck) {\r\n    if (nestedCheck === void 0) { nestedCheck = true; }\r\n    if (!isField(selection)) {\r\n        return true;\r\n    }\r\n    if (!selection.directives) {\r\n        return false;\r\n    }\r\n    return (selection.directives.some(getDirectiveMatcher(directives)) ||\r\n        (nestedCheck &&\r\n            hasDirectivesInSelectionSet(directives, selection.selectionSet, nestedCheck)));\r\n}\r\nfunction getArgumentMatcher(config) {\r\n    return function argumentMatcher(argument) {\r\n        return config.some(function (aConfig) {\r\n            return argument.value &&\r\n                argument.value.kind === 'Variable' &&\r\n                argument.value.name &&\r\n                (aConfig.name === argument.value.name.value ||\r\n                    (aConfig.test && aConfig.test(argument)));\r\n        });\r\n    };\r\n}\r\nexport function removeArgumentsFromDocument(config, doc) {\r\n    var argMatcher = getArgumentMatcher(config);\r\n    return nullIfDocIsEmpty(visit(doc, {\r\n        OperationDefinition: {\r\n            enter: function (node) {\r\n                return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions ? node.variableDefinitions.filter(function (varDef) {\r\n                        return !config.some(function (arg) { return arg.name === varDef.variable.name.value; });\r\n                    }) : [] });\r\n            },\r\n        },\r\n        Field: {\r\n            enter: function (node) {\r\n                var shouldRemoveField = config.some(function (argConfig) { return argConfig.remove; });\r\n                if (shouldRemoveField) {\r\n                    var argMatchCount_1 = 0;\r\n                    if (node.arguments) {\r\n                        node.arguments.forEach(function (arg) {\r\n                            if (argMatcher(arg)) {\r\n                                argMatchCount_1 += 1;\r\n                            }\r\n                        });\r\n                    }\r\n                    if (argMatchCount_1 === 1) {\r\n                        return null;\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        Argument: {\r\n            enter: function (node) {\r\n                if (argMatcher(node)) {\r\n                    return null;\r\n                }\r\n            },\r\n        },\r\n    }));\r\n}\r\nexport function removeFragmentSpreadFromDocument(config, doc) {\r\n    function enter(node) {\r\n        if (config.some(function (def) { return def.name === node.name.value; })) {\r\n            return null;\r\n        }\r\n    }\r\n    return nullIfDocIsEmpty(visit(doc, {\r\n        FragmentSpread: { enter: enter },\r\n        FragmentDefinition: { enter: enter },\r\n    }));\r\n}\r\nfunction getAllFragmentSpreadsFromSelectionSet(selectionSet) {\r\n    var allFragments = [];\r\n    selectionSet.selections.forEach(function (selection) {\r\n        if ((isField(selection) || isInlineFragment(selection)) &&\r\n            selection.selectionSet) {\r\n            getAllFragmentSpreadsFromSelectionSet(selection.selectionSet).forEach(function (frag) { return allFragments.push(frag); });\r\n        }\r\n        else if (selection.kind === 'FragmentSpread') {\r\n            allFragments.push(selection);\r\n        }\r\n    });\r\n    return allFragments;\r\n}\r\nexport function buildQueryFromSelectionSet(document) {\r\n    var definition = getMainDefinition(document);\r\n    var definitionOperation = definition.operation;\r\n    if (definitionOperation === 'query') {\r\n        return document;\r\n    }\r\n    var modifiedDoc = visit(document, {\r\n        OperationDefinition: {\r\n            enter: function (node) {\r\n                return __assign(__assign({}, node), { operation: 'query' });\r\n            },\r\n        },\r\n    });\r\n    return modifiedDoc;\r\n}\r\nexport function removeClientSetsFromDocument(document) {\r\n    checkDocument(document);\r\n    var modifiedDoc = removeDirectivesFromDocument([\r\n        {\r\n            test: function (directive) { return directive.name.value === 'client'; },\r\n            remove: true,\r\n        },\r\n    ], document);\r\n    if (modifiedDoc) {\r\n        modifiedDoc = visit(modifiedDoc, {\r\n            FragmentDefinition: {\r\n                enter: function (node) {\r\n                    if (node.selectionSet) {\r\n                        var isTypenameOnly = node.selectionSet.selections.every(function (selection) {\r\n                            return isField(selection) && selection.name.value === '__typename';\r\n                        });\r\n                        if (isTypenameOnly) {\r\n                            return null;\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n        });\r\n    }\r\n    return modifiedDoc;\r\n}\r\n","import { __extends } from \"tslib\";\r\nimport { Observable } from \"./Observable.js\";\r\nimport { iterateObserversSafely } from \"./iteration.js\";\r\nimport { fixObservableSubclass } from \"./subclassing.js\";\r\nfunction isPromiseLike(value) {\r\n    return value && typeof value.then === \"function\";\r\n}\r\nvar Concast = (function (_super) {\r\n    __extends(Concast, _super);\r\n    function Concast(sources) {\r\n        var _this = _super.call(this, function (observer) {\r\n            _this.addObserver(observer);\r\n            return function () { return _this.removeObserver(observer); };\r\n        }) || this;\r\n        _this.observers = new Set();\r\n        _this.addCount = 0;\r\n        _this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = resolve;\r\n            _this.reject = reject;\r\n        });\r\n        _this.handlers = {\r\n            next: function (result) {\r\n                if (_this.sub !== null) {\r\n                    _this.latest = [\"next\", result];\r\n                    iterateObserversSafely(_this.observers, \"next\", result);\r\n                }\r\n            },\r\n            error: function (error) {\r\n                var sub = _this.sub;\r\n                if (sub !== null) {\r\n                    if (sub)\r\n                        setTimeout(function () { return sub.unsubscribe(); });\r\n                    _this.sub = null;\r\n                    _this.latest = [\"error\", error];\r\n                    _this.reject(error);\r\n                    iterateObserversSafely(_this.observers, \"error\", error);\r\n                }\r\n            },\r\n            complete: function () {\r\n                if (_this.sub !== null) {\r\n                    var value = _this.sources.shift();\r\n                    if (!value) {\r\n                        _this.sub = null;\r\n                        if (_this.latest &&\r\n                            _this.latest[0] === \"next\") {\r\n                            _this.resolve(_this.latest[1]);\r\n                        }\r\n                        else {\r\n                            _this.resolve();\r\n                        }\r\n                        iterateObserversSafely(_this.observers, \"complete\");\r\n                    }\r\n                    else if (isPromiseLike(value)) {\r\n                        value.then(function (obs) { return _this.sub = obs.subscribe(_this.handlers); });\r\n                    }\r\n                    else {\r\n                        _this.sub = value.subscribe(_this.handlers);\r\n                    }\r\n                }\r\n            },\r\n        };\r\n        _this.cancel = function (reason) {\r\n            _this.reject(reason);\r\n            _this.sources = [];\r\n            _this.handlers.complete();\r\n        };\r\n        _this.promise.catch(function (_) { });\r\n        if (typeof sources === \"function\") {\r\n            sources = [new Observable(sources)];\r\n        }\r\n        if (isPromiseLike(sources)) {\r\n            sources.then(function (iterable) { return _this.start(iterable); }, _this.handlers.error);\r\n        }\r\n        else {\r\n            _this.start(sources);\r\n        }\r\n        return _this;\r\n    }\r\n    Concast.prototype.start = function (sources) {\r\n        if (this.sub !== void 0)\r\n            return;\r\n        this.sources = Array.from(sources);\r\n        this.handlers.complete();\r\n    };\r\n    Concast.prototype.deliverLastMessage = function (observer) {\r\n        if (this.latest) {\r\n            var nextOrError = this.latest[0];\r\n            var method = observer[nextOrError];\r\n            if (method) {\r\n                method.call(observer, this.latest[1]);\r\n            }\r\n            if (this.sub === null &&\r\n                nextOrError === \"next\" &&\r\n                observer.complete) {\r\n                observer.complete();\r\n            }\r\n        }\r\n    };\r\n    Concast.prototype.addObserver = function (observer) {\r\n        if (!this.observers.has(observer)) {\r\n            this.deliverLastMessage(observer);\r\n            this.observers.add(observer);\r\n            ++this.addCount;\r\n        }\r\n    };\r\n    Concast.prototype.removeObserver = function (observer, quietly) {\r\n        if (this.observers.delete(observer) &&\r\n            --this.addCount < 1 &&\r\n            !quietly) {\r\n            this.handlers.error(new Error(\"Observable cancelled prematurely\"));\r\n        }\r\n    };\r\n    Concast.prototype.cleanup = function (callback) {\r\n        var _this = this;\r\n        var called = false;\r\n        var once = function () {\r\n            if (!called) {\r\n                called = true;\r\n                _this.observers.delete(observer);\r\n                callback();\r\n            }\r\n        };\r\n        var observer = {\r\n            next: once,\r\n            error: once,\r\n            complete: once,\r\n        };\r\n        var count = this.addCount;\r\n        this.addObserver(observer);\r\n        this.addCount = count;\r\n    };\r\n    return Concast;\r\n}(Observable));\r\nexport { Concast };\r\nfixObservableSubclass(Concast);\r\n","import { Observable } from \"./Observable.js\";\r\nexport function asyncMap(observable, mapFn, catchFn) {\r\n    return new Observable(function (observer) {\r\n        var next = observer.next, error = observer.error, complete = observer.complete;\r\n        var activeCallbackCount = 0;\r\n        var completed = false;\r\n        var promiseQueue = {\r\n            then: function (callback) {\r\n                return new Promise(function (resolve) { return resolve(callback()); });\r\n            },\r\n        };\r\n        function makeCallback(examiner, delegate) {\r\n            if (examiner) {\r\n                return function (arg) {\r\n                    ++activeCallbackCount;\r\n                    var both = function () { return examiner(arg); };\r\n                    promiseQueue = promiseQueue.then(both, both).then(function (result) {\r\n                        --activeCallbackCount;\r\n                        next && next.call(observer, result);\r\n                        if (completed) {\r\n                            handler.complete();\r\n                        }\r\n                    }, function (error) {\r\n                        --activeCallbackCount;\r\n                        throw error;\r\n                    }).catch(function (caught) {\r\n                        error && error.call(observer, caught);\r\n                    });\r\n                };\r\n            }\r\n            else {\r\n                return function (arg) { return delegate && delegate.call(observer, arg); };\r\n            }\r\n        }\r\n        var handler = {\r\n            next: makeCallback(mapFn, next),\r\n            error: makeCallback(catchFn, error),\r\n            complete: function () {\r\n                completed = true;\r\n                if (!activeCallbackCount) {\r\n                    complete && complete.call(observer);\r\n                }\r\n            },\r\n        };\r\n        var sub = observable.subscribe(handler);\r\n        return function () { return sub.unsubscribe(); };\r\n    });\r\n}\r\n","export function iterateObserversSafely(observers, method, argument) {\r\n    var observersWithMethod = [];\r\n    observers.forEach(function (obs) { return obs[method] && observersWithMethod.push(obs); });\r\n    observersWithMethod.forEach(function (obs) { return obs[method](argument); });\r\n}\r\n","import { Observable } from \"./Observable.js\";\r\nexport function fixObservableSubclass(subclass) {\r\n    function set(key) {\r\n        Object.defineProperty(subclass, key, { value: Observable });\r\n    }\r\n    if (typeof Symbol === \"function\" && Symbol.species) {\r\n        set(Symbol.species);\r\n    }\r\n    set(\"@@species\");\r\n    return subclass;\r\n}\r\n","export var version = '3.4.11';\r\n","// This currentContext variable will only be used if the makeSlotClass\r\n// function is called, which happens only if this is the first copy of the\r\n// @wry/context package to be imported.\r\nvar currentContext = null;\r\n// This unique internal object is used to denote the absence of a value\r\n// for a given Slot, and is never exposed to outside code.\r\nvar MISSING_VALUE = {};\r\nvar idCounter = 1;\r\n// Although we can't do anything about the cost of duplicated code from\r\n// accidentally bundling multiple copies of the @wry/context package, we can\r\n// avoid creating the Slot class more than once using makeSlotClass.\r\nvar makeSlotClass = function () { return /** @class */ (function () {\r\n    function Slot() {\r\n        // If you have a Slot object, you can find out its slot.id, but you cannot\r\n        // guess the slot.id of a Slot you don't have access to, thanks to the\r\n        // randomized suffix.\r\n        this.id = [\r\n            \"slot\",\r\n            idCounter++,\r\n            Date.now(),\r\n            Math.random().toString(36).slice(2),\r\n        ].join(\":\");\r\n    }\r\n    Slot.prototype.hasValue = function () {\r\n        for (var context_1 = currentContext; context_1; context_1 = context_1.parent) {\r\n            // We use the Slot object iself as a key to its value, which means the\r\n            // value cannot be obtained without a reference to the Slot object.\r\n            if (this.id in context_1.slots) {\r\n                var value = context_1.slots[this.id];\r\n                if (value === MISSING_VALUE)\r\n                    break;\r\n                if (context_1 !== currentContext) {\r\n                    // Cache the value in currentContext.slots so the next lookup will\r\n                    // be faster. This caching is safe because the tree of contexts and\r\n                    // the values of the slots are logically immutable.\r\n                    currentContext.slots[this.id] = value;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        if (currentContext) {\r\n            // If a value was not found for this Slot, it's never going to be found\r\n            // no matter how many times we look it up, so we might as well cache\r\n            // the absence of the value, too.\r\n            currentContext.slots[this.id] = MISSING_VALUE;\r\n        }\r\n        return false;\r\n    };\r\n    Slot.prototype.getValue = function () {\r\n        if (this.hasValue()) {\r\n            return currentContext.slots[this.id];\r\n        }\r\n    };\r\n    Slot.prototype.withValue = function (value, callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        var _a;\r\n        var slots = (_a = {\r\n                __proto__: null\r\n            },\r\n            _a[this.id] = value,\r\n            _a);\r\n        var parent = currentContext;\r\n        currentContext = { parent: parent, slots: slots };\r\n        try {\r\n            // Function.prototype.apply allows the arguments array argument to be\r\n            // omitted or undefined, so args! is fine here.\r\n            return callback.apply(thisArg, args);\r\n        }\r\n        finally {\r\n            currentContext = parent;\r\n        }\r\n    };\r\n    // Capture the current context and wrap a callback function so that it\r\n    // reestablishes the captured context when called.\r\n    Slot.bind = function (callback) {\r\n        var context = currentContext;\r\n        return function () {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = context;\r\n                return callback.apply(this, arguments);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        };\r\n    };\r\n    // Immediately run a callback function without any captured context.\r\n    Slot.noContext = function (callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        if (currentContext) {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = null;\r\n                // Function.prototype.apply allows the arguments array argument to be\r\n                // omitted or undefined, so args! is fine here.\r\n                return callback.apply(thisArg, args);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        }\r\n        else {\r\n            return callback.apply(thisArg, args);\r\n        }\r\n    };\r\n    return Slot;\r\n}()); };\r\n// We store a single global implementation of the Slot class as a permanent\r\n// non-enumerable symbol property of the Array constructor. This obfuscation\r\n// does nothing to prevent access to the Slot class, but at least it ensures\r\n// the implementation (i.e. currentContext) cannot be tampered with, and all\r\n// copies of the @wry/context package (hopefully just one) will share the\r\n// same Slot implementation. Since the first copy of the @wry/context package\r\n// to be imported wins, this technique imposes a very high cost for any\r\n// future breaking changes to the Slot class.\r\nvar globalKey = \"@wry/context:Slot\";\r\nvar host = Array;\r\nvar Slot = host[globalKey] || function () {\r\n    var Slot = makeSlotClass();\r\n    try {\r\n        Object.defineProperty(host, globalKey, {\r\n            value: host[globalKey] = Slot,\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: false,\r\n        });\r\n    }\r\n    finally {\r\n        return Slot;\r\n    }\r\n}();\r\n\r\nvar bind = Slot.bind, noContext = Slot.noContext;\r\nfunction setTimeoutWithContext(callback, delay) {\r\n    return setTimeout(bind(callback), delay);\r\n}\r\n// Turn any generator function into an async function (using yield instead\r\n// of await), with context automatically preserved across yields.\r\nfunction asyncFromGen(genFn) {\r\n    return function () {\r\n        var gen = genFn.apply(this, arguments);\r\n        var boundNext = bind(gen.next);\r\n        var boundThrow = bind(gen.throw);\r\n        return new Promise(function (resolve, reject) {\r\n            function invoke(method, argument) {\r\n                try {\r\n                    var result = method.call(gen, argument);\r\n                }\r\n                catch (error) {\r\n                    return reject(error);\r\n                }\r\n                var next = result.done ? resolve : invokeNext;\r\n                if (isPromiseLike(result.value)) {\r\n                    result.value.then(next, result.done ? reject : invokeThrow);\r\n                }\r\n                else {\r\n                    next(result.value);\r\n                }\r\n            }\r\n            var invokeNext = function (value) { return invoke(boundNext, value); };\r\n            var invokeThrow = function (error) { return invoke(boundThrow, error); };\r\n            invokeNext();\r\n        });\r\n    };\r\n}\r\nfunction isPromiseLike(value) {\r\n    return value && typeof value.then === \"function\";\r\n}\r\n// If you use the fibers npm package to implement coroutines in Node.js,\r\n// you should call this function at least once to ensure context management\r\n// remains coherent across any yields.\r\nvar wrappedFibers = [];\r\nfunction wrapYieldingFiberMethods(Fiber) {\r\n    // There can be only one implementation of Fiber per process, so this array\r\n    // should never grow longer than one element.\r\n    if (wrappedFibers.indexOf(Fiber) < 0) {\r\n        var wrap = function (obj, method) {\r\n            var fn = obj[method];\r\n            obj[method] = function () {\r\n                return noContext(fn, arguments, this);\r\n            };\r\n        };\r\n        // These methods can yield, according to\r\n        // https://github.com/laverdet/node-fibers/blob/ddebed9b8ae3883e57f822e2108e6943e5c8d2a8/fibers.js#L97-L100\r\n        wrap(Fiber, \"yield\");\r\n        wrap(Fiber.prototype, \"run\");\r\n        wrap(Fiber.prototype, \"throwInto\");\r\n        wrappedFibers.push(Fiber);\r\n    }\r\n    return Fiber;\r\n}\r\n\r\nexport { Slot, asyncFromGen, bind, noContext, setTimeoutWithContext as setTimeout, wrapYieldingFiberMethods };\r\n\n","var _a = Object.prototype, toString = _a.toString, hasOwnProperty = _a.hasOwnProperty;\r\nvar fnToStr = Function.prototype.toString;\r\nvar previousComparisons = new Map();\r\n/**\r\n * Performs a deep equality check on two JavaScript values, tolerating cycles.\r\n */\r\nfunction equal(a, b) {\r\n    try {\r\n        return check(a, b);\r\n    }\r\n    finally {\r\n        previousComparisons.clear();\r\n    }\r\n}\r\nfunction check(a, b) {\r\n    // If the two values are strictly equal, our job is easy.\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    // Object.prototype.toString returns a representation of the runtime type of\r\n    // the given value that is considerably more precise than typeof.\r\n    var aTag = toString.call(a);\r\n    var bTag = toString.call(b);\r\n    // If the runtime types of a and b are different, they could maybe be equal\r\n    // under some interpretation of equality, but for simplicity and performance\r\n    // we just return false instead.\r\n    if (aTag !== bTag) {\r\n        return false;\r\n    }\r\n    switch (aTag) {\r\n        case '[object Array]':\r\n            // Arrays are a lot like other objects, but we can cheaply compare their\r\n            // lengths as a short-cut before comparing their elements.\r\n            if (a.length !== b.length)\r\n                return false;\r\n        // Fall through to object case...\r\n        case '[object Object]': {\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aKeys = definedKeys(a);\r\n            var bKeys = definedKeys(b);\r\n            // If `a` and `b` have a different number of enumerable keys, they\r\n            // must be different.\r\n            var keyCount = aKeys.length;\r\n            if (keyCount !== bKeys.length)\r\n                return false;\r\n            // Now make sure they have the same keys.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                if (!hasOwnProperty.call(b, aKeys[k])) {\r\n                    return false;\r\n                }\r\n            }\r\n            // Finally, check deep equality of all child properties.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                var key = aKeys[k];\r\n                if (!check(a[key], b[key])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        case '[object Error]':\r\n            return a.name === b.name && a.message === b.message;\r\n        case '[object Number]':\r\n            // Handle NaN, which is !== itself.\r\n            if (a !== a)\r\n                return b !== b;\r\n        // Fall through to shared +a === +b case...\r\n        case '[object Boolean]':\r\n        case '[object Date]':\r\n            return +a === +b;\r\n        case '[object RegExp]':\r\n        case '[object String]':\r\n            return a == \"\" + b;\r\n        case '[object Map]':\r\n        case '[object Set]': {\r\n            if (a.size !== b.size)\r\n                return false;\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aIterator = a.entries();\r\n            var isMap = aTag === '[object Map]';\r\n            while (true) {\r\n                var info = aIterator.next();\r\n                if (info.done)\r\n                    break;\r\n                // If a instanceof Set, aValue === aKey.\r\n                var _a = info.value, aKey = _a[0], aValue = _a[1];\r\n                // So this works the same way for both Set and Map.\r\n                if (!b.has(aKey)) {\r\n                    return false;\r\n                }\r\n                // However, we care about deep equality of values only when dealing\r\n                // with Map structures.\r\n                if (isMap && !check(aValue, b.get(aKey))) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        case '[object Uint16Array]':\r\n        case '[object Uint8Array]': // Buffer, in Node.js.\r\n        case '[object Uint32Array]':\r\n        case '[object Int32Array]':\r\n        case '[object Int8Array]':\r\n        case '[object Int16Array]':\r\n        case '[object ArrayBuffer]':\r\n            // DataView doesn't need these conversions, but the equality check is\r\n            // otherwise the same.\r\n            a = new Uint8Array(a);\r\n            b = new Uint8Array(b);\r\n        // Fall through...\r\n        case '[object DataView]': {\r\n            var len = a.byteLength;\r\n            if (len === b.byteLength) {\r\n                while (len-- && a[len] === b[len]) {\r\n                    // Keep looping as long as the bytes are equal.\r\n                }\r\n            }\r\n            return len === -1;\r\n        }\r\n        case '[object AsyncFunction]':\r\n        case '[object GeneratorFunction]':\r\n        case '[object AsyncGeneratorFunction]':\r\n        case '[object Function]': {\r\n            var aCode = fnToStr.call(a);\r\n            if (aCode !== fnToStr.call(b)) {\r\n                return false;\r\n            }\r\n            // We consider non-native functions equal if they have the same code\r\n            // (native functions require === because their code is censored).\r\n            // Note that this behavior is not entirely sound, since !== function\r\n            // objects with the same code can behave differently depending on\r\n            // their closure scope. However, any function can behave differently\r\n            // depending on the values of its input arguments (including this)\r\n            // and its calling context (including its closure scope), even\r\n            // though the function object is === to itself; and it is entirely\r\n            // possible for functions that are not === to behave exactly the\r\n            // same under all conceivable circumstances. Because none of these\r\n            // factors are statically decidable in JavaScript, JS function\r\n            // equality is not well-defined. This ambiguity allows us to\r\n            // consider the best possible heuristic among various imperfect\r\n            // options, and equating non-native functions that have the same\r\n            // code has enormous practical benefits, such as when comparing\r\n            // functions that are repeatedly passed as fresh function\r\n            // expressions within objects that are otherwise deeply equal. Since\r\n            // any function created from the same syntactic expression (in the\r\n            // same code location) will always stringify to the same code\r\n            // according to fnToStr.call, we can reasonably expect these\r\n            // repeatedly passed function expressions to have the same code, and\r\n            // thus behave \"the same\" (with all the caveats mentioned above),\r\n            // even though the runtime function objects are !== to one another.\r\n            return !endsWith(aCode, nativeCodeSuffix);\r\n        }\r\n    }\r\n    // Otherwise the values are not equal.\r\n    return false;\r\n}\r\nfunction definedKeys(obj) {\r\n    // Remember that the second argument to Array.prototype.filter will be\r\n    // used as `this` within the callback function.\r\n    return Object.keys(obj).filter(isDefinedKey, obj);\r\n}\r\nfunction isDefinedKey(key) {\r\n    return this[key] !== void 0;\r\n}\r\nvar nativeCodeSuffix = \"{ [native code] }\";\r\nfunction endsWith(full, suffix) {\r\n    var fromIndex = full.length - suffix.length;\r\n    return fromIndex >= 0 &&\r\n        full.indexOf(suffix, fromIndex) === fromIndex;\r\n}\r\nfunction previouslyCompared(a, b) {\r\n    // Though cyclic references can make an object graph appear infinite from the\r\n    // perspective of a depth-first traversal, the graph still contains a finite\r\n    // number of distinct object references. We use the previousComparisons cache\r\n    // to avoid comparing the same pair of object references more than once, which\r\n    // guarantees termination (even if we end up comparing every object in one\r\n    // graph to every object in the other graph, which is extremely unlikely),\r\n    // while still allowing weird isomorphic structures (like rings with different\r\n    // lengths) a chance to pass the equality test.\r\n    var bSet = previousComparisons.get(a);\r\n    if (bSet) {\r\n        // Return true here because we can be sure false will be returned somewhere\r\n        // else if the objects are not equivalent.\r\n        if (bSet.has(b))\r\n            return true;\r\n    }\r\n    else {\r\n        previousComparisons.set(a, bSet = new Set);\r\n    }\r\n    bSet.add(b);\r\n    return false;\r\n}\r\n\r\nexport { equal as default, equal };\r\n\n","// A [trie](https://en.wikipedia.org/wiki/Trie) data structure that holds\r\n// object keys weakly, yet can also hold non-object keys, unlike the\r\n// native `WeakMap`.\r\n// If no makeData function is supplied, the looked-up data will be an empty,\r\n// null-prototype Object.\r\nvar defaultMakeData = function () { return Object.create(null); };\r\n// Useful for processing arguments objects as well as arrays.\r\nvar _a = Array.prototype, forEach = _a.forEach, slice = _a.slice;\r\nvar Trie = /** @class */ (function () {\r\n    function Trie(weakness, makeData) {\r\n        if (weakness === void 0) { weakness = true; }\r\n        if (makeData === void 0) { makeData = defaultMakeData; }\r\n        this.weakness = weakness;\r\n        this.makeData = makeData;\r\n    }\r\n    Trie.prototype.lookup = function () {\r\n        var array = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            array[_i] = arguments[_i];\r\n        }\r\n        return this.lookupArray(array);\r\n    };\r\n    Trie.prototype.lookupArray = function (array) {\r\n        var node = this;\r\n        forEach.call(array, function (key) { return node = node.getChildTrie(key); });\r\n        return node.data || (node.data = this.makeData(slice.call(array)));\r\n    };\r\n    Trie.prototype.getChildTrie = function (key) {\r\n        var map = this.weakness && isObjRef(key)\r\n            ? this.weak || (this.weak = new WeakMap())\r\n            : this.strong || (this.strong = new Map());\r\n        var child = map.get(key);\r\n        if (!child)\r\n            map.set(key, child = new Trie(this.weakness, this.makeData));\r\n        return child;\r\n    };\r\n    return Trie;\r\n}());\r\nfunction isObjRef(value) {\r\n    switch (typeof value) {\r\n        case \"object\":\r\n            if (value === null)\r\n                break;\r\n        // Fall through to return true...\r\n        case \"function\":\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport { Trie };\r\n\n","import * as i0 from '@angular/core';\r\nimport { InjectionToken, Injectable, NgZone, Optional, Inject } from '@angular/core';\r\nimport { ApolloClient } from '@apollo/client/core';\r\nimport * as ɵngcc0 from '@angular/core';\r\nexport { gql, gql as graphql } from '@apollo/client/core';\r\nimport { Observable, queueScheduler, observable, from } from 'rxjs';\r\nimport { observeOn, startWith } from 'rxjs/operators';\r\n\r\nfunction fromPromise(promiseFn) {\r\n    return new Observable((subscriber) => {\r\n        promiseFn().then((result) => {\r\n            if (!subscriber.closed) {\r\n                subscriber.next(result);\r\n                subscriber.complete();\r\n            }\r\n        }, (error) => {\r\n            if (!subscriber.closed) {\r\n                subscriber.error(error);\r\n            }\r\n        });\r\n        return () => subscriber.unsubscribe();\r\n    });\r\n}\r\nclass ZoneScheduler {\r\n    constructor(zone) {\r\n        this.zone = zone;\r\n        this.now = Date.now ? Date.now : () => +new Date();\r\n    }\r\n    schedule(work, delay = 0, state) {\r\n        return this.zone.run(() => queueScheduler.schedule(work, delay, state));\r\n    }\r\n}\r\nfunction fixObservable(obs) {\r\n    obs[observable] = () => obs;\r\n    return obs;\r\n}\r\nfunction wrapWithZone(obs, ngZone) {\r\n    return obs.pipe(observeOn(new ZoneScheduler(ngZone)));\r\n}\r\nfunction pickFlag(flags, flag, defaultValue) {\r\n    return flags && typeof flags[flag] !== 'undefined'\r\n        ? flags[flag]\r\n        : defaultValue;\r\n}\r\n\r\nclass QueryRef {\r\n    constructor(obsQuery, ngZone, options) {\r\n        this.obsQuery = obsQuery;\r\n        const wrapped = wrapWithZone(from(fixObservable(this.obsQuery)), ngZone);\r\n        this.valueChanges = options.useInitialLoading\r\n            ? wrapped.pipe(startWith(Object.assign(Object.assign({}, this.obsQuery.getCurrentResult(false)), { error: undefined, partial: undefined, stale: true })))\r\n            : wrapped;\r\n        this.queryId = this.obsQuery.queryId;\r\n    }\r\n    // ObservableQuery's methods\r\n    result() {\r\n        return this.obsQuery.result();\r\n    }\r\n    getCurrentResult() {\r\n        return this.obsQuery.getCurrentResult();\r\n    }\r\n    getLastResult() {\r\n        return this.obsQuery.getLastResult();\r\n    }\r\n    getLastError() {\r\n        return this.obsQuery.getLastError();\r\n    }\r\n    resetLastResults() {\r\n        return this.obsQuery.resetLastResults();\r\n    }\r\n    refetch(variables) {\r\n        return this.obsQuery.refetch(variables);\r\n    }\r\n    fetchMore(fetchMoreOptions) {\r\n        return this.obsQuery.fetchMore(fetchMoreOptions);\r\n    }\r\n    subscribeToMore(options) {\r\n        // XXX: there's a bug in apollo-client typings\r\n        // it should not inherit types from ObservableQuery\r\n        return this.obsQuery.subscribeToMore(options);\r\n    }\r\n    updateQuery(mapFn) {\r\n        return this.obsQuery.updateQuery(mapFn);\r\n    }\r\n    stopPolling() {\r\n        return this.obsQuery.stopPolling();\r\n    }\r\n    startPolling(pollInterval) {\r\n        return this.obsQuery.startPolling(pollInterval);\r\n    }\r\n    setOptions(opts) {\r\n        return this.obsQuery.setOptions(opts);\r\n    }\r\n    setVariables(variables) {\r\n        return this.obsQuery.setVariables(variables);\r\n    }\r\n}\r\n\r\nconst APOLLO_FLAGS = new InjectionToken('APOLLO_FLAGS');\r\nconst APOLLO_OPTIONS = new InjectionToken('APOLLO_OPTIONS');\r\nconst APOLLO_NAMED_OPTIONS = new InjectionToken('APOLLO_NAMED_OPTIONS');\r\n\r\nclass ApolloBase {\r\n    constructor(ngZone, flags, _client) {\r\n        this.ngZone = ngZone;\r\n        this.flags = flags;\r\n        this._client = _client;\r\n        this.useInitialLoading = pickFlag(flags, 'useInitialLoading', false);\r\n    }\r\n    watchQuery(options) {\r\n        return new QueryRef(this.ensureClient().watchQuery(Object.assign({}, options)), this.ngZone, Object.assign({ useInitialLoading: this.useInitialLoading }, options));\r\n    }\r\n    query(options) {\r\n        return fromPromise(() => this.ensureClient().query(Object.assign({}, options)));\r\n    }\r\n    mutate(options) {\r\n        return fromPromise(() => this.ensureClient().mutate(Object.assign({}, options)));\r\n    }\r\n    subscribe(options, extra) {\r\n        const obs = from(fixObservable(this.ensureClient().subscribe(Object.assign({}, options))));\r\n        return extra && extra.useZone !== true\r\n            ? obs\r\n            : wrapWithZone(obs, this.ngZone);\r\n    }\r\n    /**\r\n     * Get an access to an instance of ApolloClient\r\n     * @deprecated use `apollo.client` instead\r\n     */\r\n    getClient() {\r\n        return this.client;\r\n    }\r\n    /**\r\n     * Set a new instance of ApolloClient\r\n     * Remember to clean up the store before setting a new client.\r\n     * @deprecated use `apollo.client = client` instead\r\n     *\r\n     * @param client ApolloClient instance\r\n     */\r\n    setClient(client) {\r\n        this.client = client;\r\n    }\r\n    /**\r\n     * Get an access to an instance of ApolloClient\r\n     */\r\n    get client() {\r\n        return this._client;\r\n    }\r\n    /**\r\n     * Set a new instance of ApolloClient\r\n     * Remember to clean up the store before setting a new client.\r\n     *\r\n     * @param client ApolloClient instance\r\n     */\r\n    set client(client) {\r\n        if (this._client) {\r\n            throw new Error('Client has been already defined');\r\n        }\r\n        this._client = client;\r\n    }\r\n    ensureClient() {\r\n        this.checkInstance();\r\n        return this._client;\r\n    }\r\n    checkInstance() {\r\n        if (!this._client) {\r\n            throw new Error('Client has not been defined yet');\r\n        }\r\n    }\r\n}\r\nclass Apollo extends ApolloBase {\r\n    constructor(_ngZone, apolloOptions, apolloNamedOptions, flags) {\r\n        super(_ngZone, flags);\r\n        this._ngZone = _ngZone;\r\n        this.map = new Map();\r\n        if (apolloOptions) {\r\n            this.createDefault(apolloOptions);\r\n        }\r\n        if (apolloNamedOptions && typeof apolloNamedOptions === 'object') {\r\n            for (let name in apolloNamedOptions) {\r\n                if (apolloNamedOptions.hasOwnProperty(name)) {\r\n                    const options = apolloNamedOptions[name];\r\n                    this.createNamed(name, options);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Create an instance of ApolloClient\r\n     * @param options Options required to create ApolloClient\r\n     * @param name client's name\r\n     */\r\n    create(options, name) {\r\n        if (isDefault(name)) {\r\n            this.createDefault(options);\r\n        }\r\n        else {\r\n            this.createNamed(name, options);\r\n        }\r\n    }\r\n    /**\r\n     * Use a default ApolloClient\r\n     */\r\n    default() {\r\n        return this;\r\n    }\r\n    /**\r\n     * Use a named ApolloClient\r\n     * @param name client's name\r\n     */\r\n    use(name) {\r\n        if (isDefault(name)) {\r\n            return this.default();\r\n        }\r\n        return this.map.get(name);\r\n    }\r\n    /**\r\n     * Create a default ApolloClient, same as `apollo.create(options)`\r\n     * @param options ApolloClient's options\r\n     */\r\n    createDefault(options) {\r\n        if (this.getClient()) {\r\n            throw new Error('Apollo has been already created.');\r\n        }\r\n        return this.setClient(new ApolloClient(options));\r\n    }\r\n    /**\r\n     * Create a named ApolloClient, same as `apollo.create(options, name)`\r\n     * @param name client's name\r\n     * @param options ApolloClient's options\r\n     */\r\n    createNamed(name, options) {\r\n        if (this.map.has(name)) {\r\n            throw new Error(`Client ${name} has been already created`);\r\n        }\r\n        this.map.set(name, new ApolloBase(this._ngZone, this.flags, new ApolloClient(options)));\r\n    }\r\n    /**\r\n     * Remember to clean up the store before removing a client\r\n     * @param name client's name\r\n     */\r\n    removeClient(name) {\r\n        if (isDefault(name)) {\r\n            this._client = undefined;\r\n        }\r\n        else {\r\n            this.map.delete(name);\r\n        }\r\n    }\r\n}\r\nApollo.ɵfac = function Apollo_Factory(t) { return new (t || Apollo)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(APOLLO_OPTIONS, 8), ɵngcc0.ɵɵinject(APOLLO_NAMED_OPTIONS, 8), ɵngcc0.ɵɵinject(APOLLO_FLAGS, 8)); };\r\nApollo.ɵprov = i0.ɵɵdefineInjectable({ factory: function Apollo_Factory() { return new Apollo(i0.ɵɵinject(i0.NgZone), i0.ɵɵinject(APOLLO_OPTIONS, 8), i0.ɵɵinject(APOLLO_NAMED_OPTIONS, 8), i0.ɵɵinject(APOLLO_FLAGS, 8)); }, token: Apollo, providedIn: \"root\" });\r\nApollo.ctorParameters = () => [\r\n    { type: NgZone },\r\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [APOLLO_OPTIONS,] }] },\r\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [APOLLO_NAMED_OPTIONS,] }] },\r\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [APOLLO_FLAGS,] }] }\r\n];\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Apollo, [{\r\n        type: Injectable,\r\n        args: [{\r\n                providedIn: 'root'\r\n            }]\r\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: undefined, decorators: [{\r\n                type: Optional\r\n            }, {\r\n                type: Inject,\r\n                args: [APOLLO_OPTIONS]\r\n            }] }, { type: undefined, decorators: [{\r\n                type: Optional\r\n            }, {\r\n                type: Inject,\r\n                args: [APOLLO_NAMED_OPTIONS]\r\n            }] }, { type: undefined, decorators: [{\r\n                type: Optional\r\n            }, {\r\n                type: Inject,\r\n                args: [APOLLO_FLAGS]\r\n            }] }]; }, null); })();\r\nfunction isDefault(name) {\r\n    return !name || name === 'default';\r\n}\r\n\r\nclass Query {\r\n    constructor(apollo) {\r\n        this.apollo = apollo;\r\n        this.client = 'default';\r\n    }\r\n    watch(variables, options) {\r\n        return this.apollo.use(this.client).watchQuery(Object.assign(Object.assign({}, options), { variables, query: this.document }));\r\n    }\r\n    fetch(variables, options) {\r\n        return this.apollo.use(this.client).query(Object.assign(Object.assign({}, options), { variables, query: this.document }));\r\n    }\r\n}\r\nQuery.ɵfac = function Query_Factory(t) { return new (t || Query)(ɵngcc0.ɵɵinject(Apollo)); };\r\nQuery.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: Query, factory: Query.ɵfac });\r\nQuery.ctorParameters = () => [\r\n    { type: Apollo }\r\n];\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Query, [{\r\n        type: Injectable\r\n    }], function () { return [{ type: Apollo }]; }, null); })();\r\n\r\nclass Mutation {\r\n    constructor(apollo) {\r\n        this.apollo = apollo;\r\n        this.client = 'default';\r\n    }\r\n    mutate(variables, options) {\r\n        return this.apollo.use(this.client).mutate(Object.assign(Object.assign({}, options), { variables, mutation: this.document }));\r\n    }\r\n}\r\nMutation.ɵfac = function Mutation_Factory(t) { return new (t || Mutation)(ɵngcc0.ɵɵinject(Apollo)); };\r\nMutation.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: Mutation, factory: Mutation.ɵfac });\r\nMutation.ctorParameters = () => [\r\n    { type: Apollo }\r\n];\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Mutation, [{\r\n        type: Injectable\r\n    }], function () { return [{ type: Apollo }]; }, null); })();\r\n\r\nclass Subscription {\r\n    constructor(apollo) {\r\n        this.apollo = apollo;\r\n        this.client = 'default';\r\n    }\r\n    subscribe(variables, options, extra) {\r\n        return this.apollo.use(this.client).subscribe(Object.assign(Object.assign({}, options), { variables, query: this.document }), extra);\r\n    }\r\n}\r\nSubscription.ɵfac = function Subscription_Factory(t) { return new (t || Subscription)(ɵngcc0.ɵɵinject(Apollo)); };\r\nSubscription.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: Subscription, factory: Subscription.ɵfac });\r\nSubscription.ctorParameters = () => [\r\n    { type: Apollo }\r\n];\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Subscription, [{\r\n        type: Injectable\r\n    }], function () { return [{ type: Apollo }]; }, null); })();\r\n\r\n/**\r\n * Generated bundle index. Do not edit.\r\n */\r\n\r\nexport { APOLLO_FLAGS, APOLLO_NAMED_OPTIONS, APOLLO_OPTIONS, Apollo, ApolloBase, Mutation, Query, QueryRef, Subscription };\r\n\r\n","import { Trie } from '@wry/trie';\r\nexport { Trie as KeyTrie } from '@wry/trie';\r\nimport { Slot } from '@wry/context';\r\nexport { asyncFromGen, bind as bindContext, noContext, setTimeout } from '@wry/context';\r\n\r\nfunction defaultDispose() { }\r\nvar Cache = /** @class */ (function () {\r\n    function Cache(max, dispose) {\r\n        if (max === void 0) { max = Infinity; }\r\n        if (dispose === void 0) { dispose = defaultDispose; }\r\n        this.max = max;\r\n        this.dispose = dispose;\r\n        this.map = new Map();\r\n        this.newest = null;\r\n        this.oldest = null;\r\n    }\r\n    Cache.prototype.has = function (key) {\r\n        return this.map.has(key);\r\n    };\r\n    Cache.prototype.get = function (key) {\r\n        var node = this.getNode(key);\r\n        return node && node.value;\r\n    };\r\n    Cache.prototype.getNode = function (key) {\r\n        var node = this.map.get(key);\r\n        if (node && node !== this.newest) {\r\n            var older = node.older, newer = node.newer;\r\n            if (newer) {\r\n                newer.older = older;\r\n            }\r\n            if (older) {\r\n                older.newer = newer;\r\n            }\r\n            node.older = this.newest;\r\n            node.older.newer = node;\r\n            node.newer = null;\r\n            this.newest = node;\r\n            if (node === this.oldest) {\r\n                this.oldest = newer;\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    Cache.prototype.set = function (key, value) {\r\n        var node = this.getNode(key);\r\n        if (node) {\r\n            return node.value = value;\r\n        }\r\n        node = {\r\n            key: key,\r\n            value: value,\r\n            newer: null,\r\n            older: this.newest\r\n        };\r\n        if (this.newest) {\r\n            this.newest.newer = node;\r\n        }\r\n        this.newest = node;\r\n        this.oldest = this.oldest || node;\r\n        this.map.set(key, node);\r\n        return node.value;\r\n    };\r\n    Cache.prototype.clean = function () {\r\n        while (this.oldest && this.map.size > this.max) {\r\n            this.delete(this.oldest.key);\r\n        }\r\n    };\r\n    Cache.prototype.delete = function (key) {\r\n        var node = this.map.get(key);\r\n        if (node) {\r\n            if (node === this.newest) {\r\n                this.newest = node.older;\r\n            }\r\n            if (node === this.oldest) {\r\n                this.oldest = node.newer;\r\n            }\r\n            if (node.newer) {\r\n                node.newer.older = node.older;\r\n            }\r\n            if (node.older) {\r\n                node.older.newer = node.newer;\r\n            }\r\n            this.map.delete(key);\r\n            this.dispose(node.value, key);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return Cache;\r\n}());\r\n\r\nvar parentEntrySlot = new Slot();\r\n\r\nvar _a;\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar \r\n// This Array.from polyfill is restricted to working with Set<any> for now,\r\n// but we can improve the polyfill and add other input types, as needed. Note\r\n// that this fallback implementation will only be used if the host environment\r\n// does not support a native Array.from function. In most modern JS runtimes,\r\n// the toArray function exported here will be === Array.from.\r\ntoArray = (_a = Array.from, _a === void 0 ? function (collection) {\r\n    var array = [];\r\n    collection.forEach(function (item) { return array.push(item); });\r\n    return array;\r\n} : _a);\r\nfunction maybeUnsubscribe(entryOrDep) {\r\n    var unsubscribe = entryOrDep.unsubscribe;\r\n    if (typeof unsubscribe === \"function\") {\r\n        entryOrDep.unsubscribe = void 0;\r\n        unsubscribe();\r\n    }\r\n}\r\n\r\nvar emptySetPool = [];\r\nvar POOL_TARGET_SIZE = 100;\r\n// Since this package might be used browsers, we should avoid using the\r\n// Node built-in assert module.\r\nfunction assert(condition, optionalMessage) {\r\n    if (!condition) {\r\n        throw new Error(optionalMessage || \"assertion failure\");\r\n    }\r\n}\r\nfunction valueIs(a, b) {\r\n    var len = a.length;\r\n    return (\r\n    // Unknown values are not equal to each other.\r\n    len > 0 &&\r\n        // Both values must be ordinary (or both exceptional) to be equal.\r\n        len === b.length &&\r\n        // The underlying value or exception must be the same.\r\n        a[len - 1] === b[len - 1]);\r\n}\r\nfunction valueGet(value) {\r\n    switch (value.length) {\r\n        case 0: throw new Error(\"unknown value\");\r\n        case 1: return value[0];\r\n        case 2: throw value[1];\r\n    }\r\n}\r\nfunction valueCopy(value) {\r\n    return value.slice(0);\r\n}\r\nvar Entry = /** @class */ (function () {\r\n    function Entry(fn) {\r\n        this.fn = fn;\r\n        this.parents = new Set();\r\n        this.childValues = new Map();\r\n        // When this Entry has children that are dirty, this property becomes\r\n        // a Set containing other Entry objects, borrowed from emptySetPool.\r\n        // When the set becomes empty, it gets recycled back to emptySetPool.\r\n        this.dirtyChildren = null;\r\n        this.dirty = true;\r\n        this.recomputing = false;\r\n        this.value = [];\r\n        this.deps = null;\r\n        ++Entry.count;\r\n    }\r\n    Entry.prototype.peek = function () {\r\n        if (this.value.length === 1 && !mightBeDirty(this)) {\r\n            rememberParent(this);\r\n            return this.value[0];\r\n        }\r\n    };\r\n    // This is the most important method of the Entry API, because it\r\n    // determines whether the cached this.value can be returned immediately,\r\n    // or must be recomputed. The overall performance of the caching system\r\n    // depends on the truth of the following observations: (1) this.dirty is\r\n    // usually false, (2) this.dirtyChildren is usually null/empty, and thus\r\n    // (3) valueGet(this.value) is usually returned without recomputation.\r\n    Entry.prototype.recompute = function (args) {\r\n        assert(!this.recomputing, \"already recomputing\");\r\n        rememberParent(this);\r\n        return mightBeDirty(this)\r\n            ? reallyRecompute(this, args)\r\n            : valueGet(this.value);\r\n    };\r\n    Entry.prototype.setDirty = function () {\r\n        if (this.dirty)\r\n            return;\r\n        this.dirty = true;\r\n        this.value.length = 0;\r\n        reportDirty(this);\r\n        // We can go ahead and unsubscribe here, since any further dirty\r\n        // notifications we receive will be redundant, and unsubscribing may\r\n        // free up some resources, e.g. file watchers.\r\n        maybeUnsubscribe(this);\r\n    };\r\n    Entry.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.setDirty();\r\n        // Sever any dependency relationships with our own children, so those\r\n        // children don't retain this parent Entry in their child.parents sets,\r\n        // thereby preventing it from being fully garbage collected.\r\n        forgetChildren(this);\r\n        // Because this entry has been kicked out of the cache (in index.js),\r\n        // we've lost the ability to find out if/when this entry becomes dirty,\r\n        // whether that happens through a subscription, because of a direct call\r\n        // to entry.setDirty(), or because one of its children becomes dirty.\r\n        // Because of this loss of future information, we have to assume the\r\n        // worst (that this entry might have become dirty very soon), so we must\r\n        // immediately mark this entry's parents as dirty. Normally we could\r\n        // just call entry.setDirty() rather than calling parent.setDirty() for\r\n        // each parent, but that would leave this entry in parent.childValues\r\n        // and parent.dirtyChildren, which would prevent the child from being\r\n        // truly forgotten.\r\n        eachParent(this, function (parent, child) {\r\n            parent.setDirty();\r\n            forgetChild(parent, _this);\r\n        });\r\n    };\r\n    Entry.prototype.forget = function () {\r\n        // The code that creates Entry objects in index.ts will replace this method\r\n        // with one that actually removes the Entry from the cache, which will also\r\n        // trigger the entry.dispose method.\r\n        this.dispose();\r\n    };\r\n    Entry.prototype.dependOn = function (dep) {\r\n        dep.add(this);\r\n        if (!this.deps) {\r\n            this.deps = emptySetPool.pop() || new Set();\r\n        }\r\n        this.deps.add(dep);\r\n    };\r\n    Entry.prototype.forgetDeps = function () {\r\n        var _this = this;\r\n        if (this.deps) {\r\n            toArray(this.deps).forEach(function (dep) { return dep.delete(_this); });\r\n            this.deps.clear();\r\n            emptySetPool.push(this.deps);\r\n            this.deps = null;\r\n        }\r\n    };\r\n    Entry.count = 0;\r\n    return Entry;\r\n}());\r\nfunction rememberParent(child) {\r\n    var parent = parentEntrySlot.getValue();\r\n    if (parent) {\r\n        child.parents.add(parent);\r\n        if (!parent.childValues.has(child)) {\r\n            parent.childValues.set(child, []);\r\n        }\r\n        if (mightBeDirty(child)) {\r\n            reportDirtyChild(parent, child);\r\n        }\r\n        else {\r\n            reportCleanChild(parent, child);\r\n        }\r\n        return parent;\r\n    }\r\n}\r\nfunction reallyRecompute(entry, args) {\r\n    forgetChildren(entry);\r\n    // Set entry as the parent entry while calling recomputeNewValue(entry).\r\n    parentEntrySlot.withValue(entry, recomputeNewValue, [entry, args]);\r\n    if (maybeSubscribe(entry, args)) {\r\n        // If we successfully recomputed entry.value and did not fail to\r\n        // (re)subscribe, then this Entry is no longer explicitly dirty.\r\n        setClean(entry);\r\n    }\r\n    return valueGet(entry.value);\r\n}\r\nfunction recomputeNewValue(entry, args) {\r\n    entry.recomputing = true;\r\n    // Set entry.value as unknown.\r\n    entry.value.length = 0;\r\n    try {\r\n        // If entry.fn succeeds, entry.value will become a normal Value.\r\n        entry.value[0] = entry.fn.apply(null, args);\r\n    }\r\n    catch (e) {\r\n        // If entry.fn throws, entry.value will become exceptional.\r\n        entry.value[1] = e;\r\n    }\r\n    // Either way, this line is always reached.\r\n    entry.recomputing = false;\r\n}\r\nfunction mightBeDirty(entry) {\r\n    return entry.dirty || !!(entry.dirtyChildren && entry.dirtyChildren.size);\r\n}\r\nfunction setClean(entry) {\r\n    entry.dirty = false;\r\n    if (mightBeDirty(entry)) {\r\n        // This Entry may still have dirty children, in which case we can't\r\n        // let our parents know we're clean just yet.\r\n        return;\r\n    }\r\n    reportClean(entry);\r\n}\r\nfunction reportDirty(child) {\r\n    eachParent(child, reportDirtyChild);\r\n}\r\nfunction reportClean(child) {\r\n    eachParent(child, reportCleanChild);\r\n}\r\nfunction eachParent(child, callback) {\r\n    var parentCount = child.parents.size;\r\n    if (parentCount) {\r\n        var parents = toArray(child.parents);\r\n        for (var i = 0; i < parentCount; ++i) {\r\n            callback(parents[i], child);\r\n        }\r\n    }\r\n}\r\n// Let a parent Entry know that one of its children may be dirty.\r\nfunction reportDirtyChild(parent, child) {\r\n    // Must have called rememberParent(child) before calling\r\n    // reportDirtyChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(mightBeDirty(child));\r\n    var parentWasClean = !mightBeDirty(parent);\r\n    if (!parent.dirtyChildren) {\r\n        parent.dirtyChildren = emptySetPool.pop() || new Set;\r\n    }\r\n    else if (parent.dirtyChildren.has(child)) {\r\n        // If we already know this child is dirty, then we must have already\r\n        // informed our own parents that we are dirty, so we can terminate\r\n        // the recursion early.\r\n        return;\r\n    }\r\n    parent.dirtyChildren.add(child);\r\n    // If parent was clean before, it just became (possibly) dirty (according to\r\n    // mightBeDirty), since we just added child to parent.dirtyChildren.\r\n    if (parentWasClean) {\r\n        reportDirty(parent);\r\n    }\r\n}\r\n// Let a parent Entry know that one of its children is no longer dirty.\r\nfunction reportCleanChild(parent, child) {\r\n    // Must have called rememberChild(child) before calling\r\n    // reportCleanChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(!mightBeDirty(child));\r\n    var childValue = parent.childValues.get(child);\r\n    if (childValue.length === 0) {\r\n        parent.childValues.set(child, valueCopy(child.value));\r\n    }\r\n    else if (!valueIs(childValue, child.value)) {\r\n        parent.setDirty();\r\n    }\r\n    removeDirtyChild(parent, child);\r\n    if (mightBeDirty(parent)) {\r\n        return;\r\n    }\r\n    reportClean(parent);\r\n}\r\nfunction removeDirtyChild(parent, child) {\r\n    var dc = parent.dirtyChildren;\r\n    if (dc) {\r\n        dc.delete(child);\r\n        if (dc.size === 0) {\r\n            if (emptySetPool.length < POOL_TARGET_SIZE) {\r\n                emptySetPool.push(dc);\r\n            }\r\n            parent.dirtyChildren = null;\r\n        }\r\n    }\r\n}\r\n// Removes all children from this entry and returns an array of the\r\n// removed children.\r\nfunction forgetChildren(parent) {\r\n    if (parent.childValues.size > 0) {\r\n        parent.childValues.forEach(function (_value, child) {\r\n            forgetChild(parent, child);\r\n        });\r\n    }\r\n    // Remove this parent Entry from any sets to which it was added by the\r\n    // addToSet method.\r\n    parent.forgetDeps();\r\n    // After we forget all our children, this.dirtyChildren must be empty\r\n    // and therefore must have been reset to null.\r\n    assert(parent.dirtyChildren === null);\r\n}\r\nfunction forgetChild(parent, child) {\r\n    child.parents.delete(parent);\r\n    parent.childValues.delete(child);\r\n    removeDirtyChild(parent, child);\r\n}\r\nfunction maybeSubscribe(entry, args) {\r\n    if (typeof entry.subscribe === \"function\") {\r\n        try {\r\n            maybeUnsubscribe(entry); // Prevent double subscriptions.\r\n            entry.unsubscribe = entry.subscribe.apply(null, args);\r\n        }\r\n        catch (e) {\r\n            // If this Entry has a subscribe function and it threw an exception\r\n            // (or an unsubscribe function it previously returned now throws),\r\n            // return false to indicate that we were not able to subscribe (or\r\n            // unsubscribe), and this Entry should remain dirty.\r\n            entry.setDirty();\r\n            return false;\r\n        }\r\n    }\r\n    // Returning true indicates either that there was no entry.subscribe\r\n    // function or that it succeeded.\r\n    return true;\r\n}\r\n\r\nvar EntryMethods = {\r\n    setDirty: true,\r\n    dispose: true,\r\n    forget: true,\r\n};\r\nfunction dep(options) {\r\n    var depsByKey = new Map();\r\n    var subscribe = options && options.subscribe;\r\n    function depend(key) {\r\n        var parent = parentEntrySlot.getValue();\r\n        if (parent) {\r\n            var dep_1 = depsByKey.get(key);\r\n            if (!dep_1) {\r\n                depsByKey.set(key, dep_1 = new Set);\r\n            }\r\n            parent.dependOn(dep_1);\r\n            if (typeof subscribe === \"function\") {\r\n                maybeUnsubscribe(dep_1);\r\n                dep_1.unsubscribe = subscribe(key);\r\n            }\r\n        }\r\n    }\r\n    depend.dirty = function dirty(key, entryMethodName) {\r\n        var dep = depsByKey.get(key);\r\n        if (dep) {\r\n            var m_1 = (entryMethodName &&\r\n                hasOwnProperty.call(EntryMethods, entryMethodName)) ? entryMethodName : \"setDirty\";\r\n            // We have to use toArray(dep).forEach instead of dep.forEach, because\r\n            // modifying a Set while iterating over it can cause elements in the Set\r\n            // to be removed from the Set before they've been iterated over.\r\n            toArray(dep).forEach(function (entry) { return entry[m_1](); });\r\n            depsByKey.delete(key);\r\n            maybeUnsubscribe(dep);\r\n        }\r\n    };\r\n    return depend;\r\n}\r\n\r\nfunction makeDefaultMakeCacheKeyFunction() {\r\n    var keyTrie = new Trie(typeof WeakMap === \"function\");\r\n    return function () {\r\n        return keyTrie.lookupArray(arguments);\r\n    };\r\n}\r\n// The defaultMakeCacheKey function is remarkably powerful, because it gives\r\n// a unique object for any shallow-identical list of arguments. If you need\r\n// to implement a custom makeCacheKey function, you may find it helpful to\r\n// delegate the final work to defaultMakeCacheKey, which is why we export it\r\n// here. However, you may want to avoid defaultMakeCacheKey if your runtime\r\n// does not support WeakMap, or you have the ability to return a string key.\r\n// In those cases, just write your own custom makeCacheKey functions.\r\nvar defaultMakeCacheKey = makeDefaultMakeCacheKeyFunction();\r\nvar caches = new Set();\r\nfunction wrap(originalFunction, options) {\r\n    if (options === void 0) { options = Object.create(null); }\r\n    var cache = new Cache(options.max || Math.pow(2, 16), function (entry) { return entry.dispose(); });\r\n    var keyArgs = options.keyArgs;\r\n    var makeCacheKey = options.makeCacheKey ||\r\n        makeDefaultMakeCacheKeyFunction();\r\n    var optimistic = function () {\r\n        var key = makeCacheKey.apply(null, keyArgs ? keyArgs.apply(null, arguments) : arguments);\r\n        if (key === void 0) {\r\n            return originalFunction.apply(null, arguments);\r\n        }\r\n        var entry = cache.get(key);\r\n        if (!entry) {\r\n            cache.set(key, entry = new Entry(originalFunction));\r\n            entry.subscribe = options.subscribe;\r\n            // Give the Entry the ability to trigger cache.delete(key), even though\r\n            // the Entry itself does not know about key or cache.\r\n            entry.forget = function () { return cache.delete(key); };\r\n        }\r\n        var value = entry.recompute(Array.prototype.slice.call(arguments));\r\n        // Move this entry to the front of the least-recently used queue,\r\n        // since we just finished computing its value.\r\n        cache.set(key, entry);\r\n        caches.add(cache);\r\n        // Clean up any excess entries in the cache, but only if there is no\r\n        // active parent entry, meaning we're not in the middle of a larger\r\n        // computation that might be flummoxed by the cleaning.\r\n        if (!parentEntrySlot.hasValue()) {\r\n            caches.forEach(function (cache) { return cache.clean(); });\r\n            caches.clear();\r\n        }\r\n        return value;\r\n    };\r\n    Object.defineProperty(optimistic, \"size\", {\r\n        get: function () {\r\n            return cache[\"map\"].size;\r\n        },\r\n        configurable: false,\r\n        enumerable: false,\r\n    });\r\n    function dirtyKey(key) {\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            entry.setDirty();\r\n        }\r\n    }\r\n    optimistic.dirtyKey = dirtyKey;\r\n    optimistic.dirty = function dirty() {\r\n        dirtyKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    function peekKey(key) {\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            return entry.peek();\r\n        }\r\n    }\r\n    optimistic.peekKey = peekKey;\r\n    optimistic.peek = function peek() {\r\n        return peekKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    function forgetKey(key) {\r\n        return cache.delete(key);\r\n    }\r\n    optimistic.forgetKey = forgetKey;\r\n    optimistic.forget = function forget() {\r\n        return forgetKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    optimistic.makeCacheKey = makeCacheKey;\r\n    optimistic.getKey = keyArgs ? function getKey() {\r\n        return makeCacheKey.apply(null, keyArgs.apply(null, arguments));\r\n    } : makeCacheKey;\r\n    return Object.freeze(optimistic);\r\n}\r\n\r\nexport { defaultMakeCacheKey, dep, wrap };\r\n\n","import { __extends } from 'tslib';\r\n\r\nvar genericMessage = \"Invariant Violation\";\r\nvar _a = Object.setPrototypeOf, setPrototypeOf = _a === void 0 ? function (obj, proto) {\r\n    obj.__proto__ = proto;\r\n    return obj;\r\n} : _a;\r\nvar InvariantError = /** @class */ (function (_super) {\r\n    __extends(InvariantError, _super);\r\n    function InvariantError(message) {\r\n        if (message === void 0) { message = genericMessage; }\r\n        var _this = _super.call(this, typeof message === \"number\"\r\n            ? genericMessage + \": \" + message + \" (see https://github.com/apollographql/invariant-packages)\"\r\n            : message) || this;\r\n        _this.framesToPop = 1;\r\n        _this.name = genericMessage;\r\n        setPrototypeOf(_this, InvariantError.prototype);\r\n        return _this;\r\n    }\r\n    return InvariantError;\r\n}(Error));\r\nfunction invariant(condition, message) {\r\n    if (!condition) {\r\n        throw new InvariantError(message);\r\n    }\r\n}\r\nvar verbosityLevels = [\"debug\", \"log\", \"warn\", \"error\", \"silent\"];\r\nvar verbosityLevel = verbosityLevels.indexOf(\"log\");\r\nfunction wrapConsoleMethod(name) {\r\n    return function () {\r\n        if (verbosityLevels.indexOf(name) >= verbosityLevel) {\r\n            // Default to console.log if this host environment happens not to provide\r\n            // all the console.* methods we need.\r\n            var method = console[name] || console.log;\r\n            return method.apply(console, arguments);\r\n        }\r\n    };\r\n}\r\n(function (invariant) {\r\n    invariant.debug = wrapConsoleMethod(\"debug\");\r\n    invariant.log = wrapConsoleMethod(\"log\");\r\n    invariant.warn = wrapConsoleMethod(\"warn\");\r\n    invariant.error = wrapConsoleMethod(\"error\");\r\n})(invariant || (invariant = {}));\r\nfunction setVerbosity(level) {\r\n    var old = verbosityLevels[verbosityLevel];\r\n    verbosityLevel = Math.max(0, verbosityLevels.indexOf(level));\r\n    return old;\r\n}\r\nvar invariant$1 = invariant;\r\n\r\nexport { InvariantError, invariant$1 as default, invariant, setVerbosity };\r\n\n","function maybe(thunk) {\r\n  try { return thunk() } catch (_) {}\r\n}\r\n\r\nvar safeGlobal = (\r\n  maybe(function() { return globalThis }) ||\r\n  maybe(function() { return window }) ||\r\n  maybe(function() { return self }) ||\r\n  maybe(function() { return global }) ||\r\n  maybe(function() { return Function(\"return this\")() })\r\n);\r\n\r\nvar needToRemove = false;\r\n\r\nexport function install() {\r\n  if (safeGlobal &&\r\n      !maybe(function() { return process.env.NODE_ENV }) &&\r\n      !maybe(function() { return process })) {\r\n    Object.defineProperty(safeGlobal, \"process\", {\r\n      value: {\r\n        env: {\r\n          // This default needs to be \"production\" instead of \"development\", to\r\n          // avoid the problem https://github.com/graphql/graphql-js/pull/2894\r\n          // will eventually solve, once merged and released.\r\n          NODE_ENV: \"production\",\r\n        },\r\n      },\r\n      // Let anyone else change global.process as they see fit, but hide it from\r\n      // Object.keys(global) enumeration.\r\n      configurable: true,\r\n      enumerable: false,\r\n      writable: true,\r\n    });\r\n    needToRemove = true;\r\n  }\r\n}\r\n\r\n// Call install() at least once, when this module is imported.\r\ninstall();\r\n\r\nexport function remove() {\r\n  if (needToRemove) {\r\n    delete safeGlobal.process;\r\n    needToRemove = false;\r\n  }\r\n}\r\n","function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\r\n\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\n// === Symbol Support ===\r\nvar hasSymbols = function () {\r\n  return typeof Symbol === 'function';\r\n};\r\n\r\nvar hasSymbol = function (name) {\r\n  return hasSymbols() && Boolean(Symbol[name]);\r\n};\r\n\r\nvar getSymbol = function (name) {\r\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\r\n};\r\n\r\nif (hasSymbols() && !hasSymbol('observable')) {\r\n  Symbol.observable = Symbol('observable');\r\n}\r\n\r\nvar SymbolIterator = getSymbol('iterator');\r\nvar SymbolObservable = getSymbol('observable');\r\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\r\n\r\nfunction getMethod(obj, key) {\r\n  var value = obj[key];\r\n  if (value == null) return undefined;\r\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\r\n  return value;\r\n}\r\n\r\nfunction getSpecies(obj) {\r\n  var ctor = obj.constructor;\r\n\r\n  if (ctor !== undefined) {\r\n    ctor = ctor[SymbolSpecies];\r\n\r\n    if (ctor === null) {\r\n      ctor = undefined;\r\n    }\r\n  }\r\n\r\n  return ctor !== undefined ? ctor : Observable;\r\n}\r\n\r\nfunction isObservable(x) {\r\n  return x instanceof Observable; // SPEC: Brand check\r\n}\r\n\r\nfunction hostReportError(e) {\r\n  if (hostReportError.log) {\r\n    hostReportError.log(e);\r\n  } else {\r\n    setTimeout(function () {\r\n      throw e;\r\n    });\r\n  }\r\n}\r\n\r\nfunction enqueue(fn) {\r\n  Promise.resolve().then(function () {\r\n    try {\r\n      fn();\r\n    } catch (e) {\r\n      hostReportError(e);\r\n    }\r\n  });\r\n}\r\n\r\nfunction cleanupSubscription(subscription) {\r\n  var cleanup = subscription._cleanup;\r\n  if (cleanup === undefined) return;\r\n  subscription._cleanup = undefined;\r\n\r\n  if (!cleanup) {\r\n    return;\r\n  }\r\n\r\n  try {\r\n    if (typeof cleanup === 'function') {\r\n      cleanup();\r\n    } else {\r\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\r\n\r\n      if (unsubscribe) {\r\n        unsubscribe.call(cleanup);\r\n      }\r\n    }\r\n  } catch (e) {\r\n    hostReportError(e);\r\n  }\r\n}\r\n\r\nfunction closeSubscription(subscription) {\r\n  subscription._observer = undefined;\r\n  subscription._queue = undefined;\r\n  subscription._state = 'closed';\r\n}\r\n\r\nfunction flushSubscription(subscription) {\r\n  var queue = subscription._queue;\r\n\r\n  if (!queue) {\r\n    return;\r\n  }\r\n\r\n  subscription._queue = undefined;\r\n  subscription._state = 'ready';\r\n\r\n  for (var i = 0; i < queue.length; ++i) {\r\n    notifySubscription(subscription, queue[i].type, queue[i].value);\r\n    if (subscription._state === 'closed') break;\r\n  }\r\n}\r\n\r\nfunction notifySubscription(subscription, type, value) {\r\n  subscription._state = 'running';\r\n  var observer = subscription._observer;\r\n\r\n  try {\r\n    var m = getMethod(observer, type);\r\n\r\n    switch (type) {\r\n      case 'next':\r\n        if (m) m.call(observer, value);\r\n        break;\r\n\r\n      case 'error':\r\n        closeSubscription(subscription);\r\n        if (m) m.call(observer, value);else throw value;\r\n        break;\r\n\r\n      case 'complete':\r\n        closeSubscription(subscription);\r\n        if (m) m.call(observer);\r\n        break;\r\n    }\r\n  } catch (e) {\r\n    hostReportError(e);\r\n  }\r\n\r\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\r\n}\r\n\r\nfunction onNotify(subscription, type, value) {\r\n  if (subscription._state === 'closed') return;\r\n\r\n  if (subscription._state === 'buffering') {\r\n    subscription._queue.push({\r\n      type: type,\r\n      value: value\r\n    });\r\n\r\n    return;\r\n  }\r\n\r\n  if (subscription._state !== 'ready') {\r\n    subscription._state = 'buffering';\r\n    subscription._queue = [{\r\n      type: type,\r\n      value: value\r\n    }];\r\n    enqueue(function () {\r\n      return flushSubscription(subscription);\r\n    });\r\n    return;\r\n  }\r\n\r\n  notifySubscription(subscription, type, value);\r\n}\r\n\r\nvar Subscription = /*#__PURE__*/function () {\r\n  function Subscription(observer, subscriber) {\r\n    // ASSERT: observer is an object\r\n    // ASSERT: subscriber is callable\r\n    this._cleanup = undefined;\r\n    this._observer = observer;\r\n    this._queue = undefined;\r\n    this._state = 'initializing';\r\n    var subscriptionObserver = new SubscriptionObserver(this);\r\n\r\n    try {\r\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\r\n    } catch (e) {\r\n      subscriptionObserver.error(e);\r\n    }\r\n\r\n    if (this._state === 'initializing') this._state = 'ready';\r\n  }\r\n\r\n  var _proto = Subscription.prototype;\r\n\r\n  _proto.unsubscribe = function unsubscribe() {\r\n    if (this._state !== 'closed') {\r\n      closeSubscription(this);\r\n      cleanupSubscription(this);\r\n    }\r\n  };\r\n\r\n  _createClass(Subscription, [{\r\n    key: \"closed\",\r\n    get: function () {\r\n      return this._state === 'closed';\r\n    }\r\n  }]);\r\n\r\n  return Subscription;\r\n}();\r\n\r\nvar SubscriptionObserver = /*#__PURE__*/function () {\r\n  function SubscriptionObserver(subscription) {\r\n    this._subscription = subscription;\r\n  }\r\n\r\n  var _proto2 = SubscriptionObserver.prototype;\r\n\r\n  _proto2.next = function next(value) {\r\n    onNotify(this._subscription, 'next', value);\r\n  };\r\n\r\n  _proto2.error = function error(value) {\r\n    onNotify(this._subscription, 'error', value);\r\n  };\r\n\r\n  _proto2.complete = function complete() {\r\n    onNotify(this._subscription, 'complete');\r\n  };\r\n\r\n  _createClass(SubscriptionObserver, [{\r\n    key: \"closed\",\r\n    get: function () {\r\n      return this._subscription._state === 'closed';\r\n    }\r\n  }]);\r\n\r\n  return SubscriptionObserver;\r\n}();\r\n\r\nvar Observable = /*#__PURE__*/function () {\r\n  function Observable(subscriber) {\r\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\r\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\r\n    this._subscriber = subscriber;\r\n  }\r\n\r\n  var _proto3 = Observable.prototype;\r\n\r\n  _proto3.subscribe = function subscribe(observer) {\r\n    if (typeof observer !== 'object' || observer === null) {\r\n      observer = {\r\n        next: observer,\r\n        error: arguments[1],\r\n        complete: arguments[2]\r\n      };\r\n    }\r\n\r\n    return new Subscription(observer, this._subscriber);\r\n  };\r\n\r\n  _proto3.forEach = function forEach(fn) {\r\n    var _this = this;\r\n\r\n    return new Promise(function (resolve, reject) {\r\n      if (typeof fn !== 'function') {\r\n        reject(new TypeError(fn + ' is not a function'));\r\n        return;\r\n      }\r\n\r\n      function done() {\r\n        subscription.unsubscribe();\r\n        resolve();\r\n      }\r\n\r\n      var subscription = _this.subscribe({\r\n        next: function (value) {\r\n          try {\r\n            fn(value, done);\r\n          } catch (e) {\r\n            reject(e);\r\n            subscription.unsubscribe();\r\n          }\r\n        },\r\n        error: reject,\r\n        complete: resolve\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto3.map = function map(fn) {\r\n    var _this2 = this;\r\n\r\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\r\n    var C = getSpecies(this);\r\n    return new C(function (observer) {\r\n      return _this2.subscribe({\r\n        next: function (value) {\r\n          try {\r\n            value = fn(value);\r\n          } catch (e) {\r\n            return observer.error(e);\r\n          }\r\n\r\n          observer.next(value);\r\n        },\r\n        error: function (e) {\r\n          observer.error(e);\r\n        },\r\n        complete: function () {\r\n          observer.complete();\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto3.filter = function filter(fn) {\r\n    var _this3 = this;\r\n\r\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\r\n    var C = getSpecies(this);\r\n    return new C(function (observer) {\r\n      return _this3.subscribe({\r\n        next: function (value) {\r\n          try {\r\n            if (!fn(value)) return;\r\n          } catch (e) {\r\n            return observer.error(e);\r\n          }\r\n\r\n          observer.next(value);\r\n        },\r\n        error: function (e) {\r\n          observer.error(e);\r\n        },\r\n        complete: function () {\r\n          observer.complete();\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto3.reduce = function reduce(fn) {\r\n    var _this4 = this;\r\n\r\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\r\n    var C = getSpecies(this);\r\n    var hasSeed = arguments.length > 1;\r\n    var hasValue = false;\r\n    var seed = arguments[1];\r\n    var acc = seed;\r\n    return new C(function (observer) {\r\n      return _this4.subscribe({\r\n        next: function (value) {\r\n          var first = !hasValue;\r\n          hasValue = true;\r\n\r\n          if (!first || hasSeed) {\r\n            try {\r\n              acc = fn(acc, value);\r\n            } catch (e) {\r\n              return observer.error(e);\r\n            }\r\n          } else {\r\n            acc = value;\r\n          }\r\n        },\r\n        error: function (e) {\r\n          observer.error(e);\r\n        },\r\n        complete: function () {\r\n          if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\r\n          observer.next(acc);\r\n          observer.complete();\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto3.concat = function concat() {\r\n    var _this5 = this;\r\n\r\n    for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      sources[_key] = arguments[_key];\r\n    }\r\n\r\n    var C = getSpecies(this);\r\n    return new C(function (observer) {\r\n      var subscription;\r\n      var index = 0;\r\n\r\n      function startNext(next) {\r\n        subscription = next.subscribe({\r\n          next: function (v) {\r\n            observer.next(v);\r\n          },\r\n          error: function (e) {\r\n            observer.error(e);\r\n          },\r\n          complete: function () {\r\n            if (index === sources.length) {\r\n              subscription = undefined;\r\n              observer.complete();\r\n            } else {\r\n              startNext(C.from(sources[index++]));\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      startNext(_this5);\r\n      return function () {\r\n        if (subscription) {\r\n          subscription.unsubscribe();\r\n          subscription = undefined;\r\n        }\r\n      };\r\n    });\r\n  };\r\n\r\n  _proto3.flatMap = function flatMap(fn) {\r\n    var _this6 = this;\r\n\r\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\r\n    var C = getSpecies(this);\r\n    return new C(function (observer) {\r\n      var subscriptions = [];\r\n\r\n      var outer = _this6.subscribe({\r\n        next: function (value) {\r\n          if (fn) {\r\n            try {\r\n              value = fn(value);\r\n            } catch (e) {\r\n              return observer.error(e);\r\n            }\r\n          }\r\n\r\n          var inner = C.from(value).subscribe({\r\n            next: function (value) {\r\n              observer.next(value);\r\n            },\r\n            error: function (e) {\r\n              observer.error(e);\r\n            },\r\n            complete: function () {\r\n              var i = subscriptions.indexOf(inner);\r\n              if (i >= 0) subscriptions.splice(i, 1);\r\n              completeIfDone();\r\n            }\r\n          });\r\n          subscriptions.push(inner);\r\n        },\r\n        error: function (e) {\r\n          observer.error(e);\r\n        },\r\n        complete: function () {\r\n          completeIfDone();\r\n        }\r\n      });\r\n\r\n      function completeIfDone() {\r\n        if (outer.closed && subscriptions.length === 0) observer.complete();\r\n      }\r\n\r\n      return function () {\r\n        subscriptions.forEach(function (s) {\r\n          return s.unsubscribe();\r\n        });\r\n        outer.unsubscribe();\r\n      };\r\n    });\r\n  };\r\n\r\n  _proto3[SymbolObservable] = function () {\r\n    return this;\r\n  };\r\n\r\n  Observable.from = function from(x) {\r\n    var C = typeof this === 'function' ? this : Observable;\r\n    if (x == null) throw new TypeError(x + ' is not an object');\r\n    var method = getMethod(x, SymbolObservable);\r\n\r\n    if (method) {\r\n      var observable = method.call(x);\r\n      if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\r\n      if (isObservable(observable) && observable.constructor === C) return observable;\r\n      return new C(function (observer) {\r\n        return observable.subscribe(observer);\r\n      });\r\n    }\r\n\r\n    if (hasSymbol('iterator')) {\r\n      method = getMethod(x, SymbolIterator);\r\n\r\n      if (method) {\r\n        return new C(function (observer) {\r\n          enqueue(function () {\r\n            if (observer.closed) return;\r\n\r\n            for (var _iterator = _createForOfIteratorHelperLoose(method.call(x)), _step; !(_step = _iterator()).done;) {\r\n              var item = _step.value;\r\n              observer.next(item);\r\n              if (observer.closed) return;\r\n            }\r\n\r\n            observer.complete();\r\n          });\r\n        });\r\n      }\r\n    }\r\n\r\n    if (Array.isArray(x)) {\r\n      return new C(function (observer) {\r\n        enqueue(function () {\r\n          if (observer.closed) return;\r\n\r\n          for (var i = 0; i < x.length; ++i) {\r\n            observer.next(x[i]);\r\n            if (observer.closed) return;\r\n          }\r\n\r\n          observer.complete();\r\n        });\r\n      });\r\n    }\r\n\r\n    throw new TypeError(x + ' is not observable');\r\n  };\r\n\r\n  Observable.of = function of() {\r\n    for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\r\n      items[_key2] = arguments[_key2];\r\n    }\r\n\r\n    var C = typeof this === 'function' ? this : Observable;\r\n    return new C(function (observer) {\r\n      enqueue(function () {\r\n        if (observer.closed) return;\r\n\r\n        for (var i = 0; i < items.length; ++i) {\r\n          observer.next(items[i]);\r\n          if (observer.closed) return;\r\n        }\r\n\r\n        observer.complete();\r\n      });\r\n    });\r\n  };\r\n\r\n  _createClass(Observable, null, [{\r\n    key: SymbolSpecies,\r\n    get: function () {\r\n      return this;\r\n    }\r\n  }]);\r\n\r\n  return Observable;\r\n}();\r\n\r\nif (hasSymbols()) {\r\n  Object.defineProperty(Observable, Symbol('extensions'), {\r\n    value: {\r\n      symbol: SymbolObservable,\r\n      hostReportError: hostReportError\r\n    },\r\n    configurable: true\r\n  });\r\n}\r\n\r\nexport { Observable };\r\n"],"names":["__assign","Trie","canUseWeakMap","canUseWeakSet","isNonNullObject","isObjectOrArray","shallowCopy","value","Array","isArray","slice","__proto__","Object","getPrototypeOf","ObjectCanon","known","WeakSet","Set","pool","passes","WeakMap","keysByJSON","Map","empty","admit","prototype","isKnown","has","pass","copy","set","_this","original","get","proto","array","map","node","lookupArray","add","__DEV__","freeze","proto_1","array_1","keys","sortedKeys","push","json","firstValueIndex_1","length","sorted","forEach","key","object","obj_1","create","i","obj","sort","JSON","stringify","canonicalStringify","assign","stringifyCanon","resetCanonicalStringify","canonical","stringifyCache","reset","dep","Slot","cacheSlot","cacheInfoMap","getCacheInfo","cache","info","vars","forgetCache","rv","recallCache","attachCache","makeVar","caches","listeners","newValue","arguments","dirty","broadcast","oldListeners","from","clear","listener","getValue","attach","onNextChange","delete","broadcastWatches","invariant","InvariantError","ApolloLink","execute","compact","version","HttpLink","QueryManager","LocalState","hasSuggestedDevtools","mergeOptions","defaults","options","variables","ApolloClient","defaultOptions","resetStoreCallbacks","clearStoreCallbacks","uri","credentials","headers","_a","ssrMode","_b","ssrForceFetchDelay","_c","connectToDevTools","window","__APOLLO_CLIENT__","_d","queryDeduplication","_e","assumeImmutableResults","resolvers","typeDefs","fragmentMatcher","clientAwarenessName","name","clientAwarenessVersion","link","disableNetworkFetches","setTimeout","watchQuery","bind","query","mutate","resetStore","reFetchObservableQueries","document","top","self","__APOLLO_DEVTOOLS_GLOBAL_HOOK__","nav","navigator","ua","userAgent","url","indexOf","log","localState","client","queryManager","clientAwareness","onBroadcast","devToolsHookCb","action","state","queries","getQueryStore","mutations","mutationStore","dataWithOptimisticResults","extract","stop","fetchPolicy","subscribe","startGraphQLSubscription","readQuery","optimistic","readFragment","writeQuery","broadcastQueries","writeFragment","__actionHookForDevTools","cb","__requestRaw","payload","Promise","resolve","then","clearStore","all","fn","onResetStore","filter","c","onClearStore","includeStandby","refetchQueries","results","result","obsQuery","catch","error","debug","getObservableQueries","include","restore","serializedState","addResolvers","setResolvers","getResolvers","setLocalStateFragmentMatcher","setFragmentMatcher","setLink","newLink","__awaiter","__generator","visit","BREAK","argumentsObjectFromField","buildQueryFromSelectionSet","createFragmentMap","getFragmentDefinitions","getMainDefinition","hasDirectives","isField","isInlineFragment","mergeDeep","mergeDeepArray","removeClientSetsFromDocument","resultKeyNameFromField","shouldInclude","resolverGroup","runResolvers","remoteResult","context","onlyRunForcedResolvers","resolveDocument","data","localResult","getFragmentMatcher","clientQuery","serverQuery","prepareContext","getCacheKey","identify","addExportedVariables","buildRootValueFromCache","exportedVariables","shouldForceResolvers","forceResolvers","Directive","enter","some","arg","kind","diff","returnPartialData","rootValue","mainDefinition","fragments","fragmentMap","definitionOperation","defaultOperationType","execContext","operation","charAt","toUpperCase","resolveSelectionSet","selectionSet","resultsToMerge","selection","fragment","typeCondition","resolveField","fieldResult","fragmentResult","selections","field","fieldName","aliasedFieldName","aliasUsed","defaultResult","resultPromise","resolverType","resolverMap","__typename","withValue","directives","directive","resolveSubSelectedArray","item","__extends","equal","NetworkStatus","isNetworkRequestInFlight","cloneDeep","getOperationDefinition","Observable","iterateObserversSafely","isNonEmptyArray","fixObservableSubclass","getQueryDefinition","hasOwnProperty","warnedAboutUpdateQuery","ObservableQuery","_super","queryInfo","call","observer","subObserver","_subscription","_observer","defaultSubscriptionObserverErrorCallback","first","observers","size","last","next","reobserve","tearDownQuery","subscriptions","isTornDown","queryId","generateQueryId","opDef","queryName","initialFetchPolicy","defineProperty","enumerable","configurable","reject","removeQuery","subscription","unsubscribe","getCurrentResult","saveAsLastResult","lastResult","getLastResult","networkStatus","ready","loading","shouldReturnCachedData","transform","hasForcedResolvers","getDiff","complete","partial","partialRefetch","logMissingFieldErrors","missing","updateLastResult","isDifferentFromLastResult","newResult","getLast","variablesMustMatch","getLastError","resetLastResults","resetQueryStoreErrors","resetErrors","refetch","reobserveOptions","pollInterval","queryDef","variableDefinitions","v","variable","warn","resetLastWrite","fetchMore","fetchMoreOptions","combinedOptions","qid","notifyOnNetworkStatusChange","observe","fetchQuery","fetchMoreResult","updateQuery","previous","finally","stopQuery","subscribeToMore","subscriptionData","err","onError","setOptions","newOptions","setVariables","mapFn","startPolling","updatePolling","stopPolling","fetch","newNetworkStatus","setObservableQuery","fetchQueryObservable","pollingInfo","clearTimeout","timeout","interval","maybeFetch","poll","errors","useDisposableConcast","oldVariables","concast","reportResult","reportError","removeObserver","addObserver","promise","errorResult","graphQLErrors","hasObservers","sub","message","stack","m","path","join","applyNextFetchPolicy","nextFetchPolicy","graphQLResultHasError","destructiveMethodCounts","wrapDestructiveCacheMethod","methodName","apply","cancelNotifyTimeout","QueryInfo","lastRequestId","stopped","observableQuery","init","lastDiff","networkError","getDiffOptions","updateWatch","oq","updateLastDiff","canonizeResults","setDiff","oldDiff","notifyTimeout","notify","oqListener","fromOptimisticTransaction","shouldNotify","cancel","watchOptions","watcher","callback","lastWatch","watch","lastWrite","shouldWrite","dmCount","markResult","cacheWriteBehavior","shouldWriteResult","errorPolicy","performTransaction","overwrite","diffOptions","markReady","markError","ignoreErrors","writeWithErrors","getDefaultValues","getOperationName","hasClientExports","removeConnectionDirectiveFromDocument","asyncMap","Concast","makeUniqueId","isDocumentNode","ApolloError","isApolloError","fetchCancelFns","transformCache","queryIdCounter","requestIdCounter","mutationIdCounter","inFlightLinkObservables","_info","stopQueryNoBroadcast","cancelPendingFetches","mutation","optimisticResponse","updateQueries","awaitRefetchQueries","updateWithProxyFn","update","onQueryUpdated","keepRootFields","mutationId","mutationStoreValue","_f","label","generateMutationId","getVariables","sent","markMutationOptimistic","getObservableFromLink","storeResult","markMutationResult","removeOptimistic","cacheWrites","skipCache","dataId","updateQueries_1","updater","currentQueryResult","nextQueryResult","mutationResult","queryVariables","results_1","updateCache","write","id","asQuery","modify","fields","DELETE","recordOptimisticTransaction","store","undefined","transformed","transformDocument","forLink","transformForLink","cacheEntry_1","defaultVars","definitions","def","doc","observable","String","generateRequestId","stopQueryInStore","stopQueryInStoreNoBroadcast","queryNamesAndDocs","legacyQueryOptions","desc","getQuery","included","nameOrDoc","observableQueryPromises","makeObservable","observablePromise_1","getLocalState","deduplication","inFlightLinkObservables_1","operationName","forceFetch","byVariables_1","varJson_1","cleanup","of","getResultsFromLink","requestId","hasErrors","aqr","normalized","fromVariables","fetchQueryByPolicy","reason","includedQueriesById","batch","onWatchUpdated","refetchWritePolicy","oldNetworkStatus","readCache","resultsFromCache","fromData","resolved","resultsFromLink","newContext","generateErrorMessage","clientErrors","concat","errorMessage","replace","extraInfo","Error","validateOperation","createOperation","transformOperation","passthrough","op","forward","toLink","handler","isTerminating","request","LinkError","links","reduce","x","y","split","test","left","right","leftLink","rightLink","second","firstLink","nextLink","setOnError","createHttpLink","checkFetcher","fetcher","__rest","serializeFetchParameter","selectURI","parseAndCheckHttpResponse","selectHttpOptionsAndBody","fallbackHttpConfig","createSignalIfSupported","rewriteURIForGET","fromError","maybe","backupFetch","linkOptions","preferredFetch","includeExtensions","useGETForQueries","includeUnusedVariables","requestOptions","linkConfig","http","fetchOptions","chosenURI","getContext","clientAwarenessHeaders","name_1","contextHeaders","contextConfig","body","unusedNames_1","Variable","_key","parent","controller","signal","_controller","definitionIsMutation","d","method","newURI","parseError","currentFetch","response","setContext","abort","AbortController","throwServerError","operations","text","bodyText","parse","statusCode","status","queryParams","addQueryParam","encodeURIComponent","serializedVariables","extensions","serializedExtensions","preFragment","fragmentStart","substr","queryParamsPrefix","print","defaultHttpOptions","includeQuery","defaultHeaders","accept","fallbackConfig","configs","_i","config","headersToLowerCase","normalized_1","toLowerCase","fallbackURI","contextURI","p","serialized","e","starting","errorValue","transformedOperation","OPERATION_FIELDS","product","toString","cloneDeepHelper","val","seen","copy_1","child","copy_2","objects","filterInPlace","target","elem","prefixCounts","prefix","count","Math","random","__spreadArray","sources","merger","DeepMerger","merge","defaultReconciler","source","property","reconciler","isObject","pastCopies","sourceKey","targetValue","shallowCopyForMerge","global","__","GLOBAL_KEY","getDEV","Boolean","process","env","NODE_ENV","writable","globalThis","Function","remove","isType","removeTemporaryGlobals","DEV","checkDEV","default","thunk","getInclusionDirectives","every","ifArgument","evaledValue","getDirectiveNames","root","names","isInclusionDirective","directiveArguments","directiveName","ifValue","getFragmentQueryDocument","fragmentName","actualFragmentName","definition","symTable","getFragmentFromSelection","valueToObjectRepresentation","checkDocument","getFragmentDefinition","fragmentDef","queryDoc","fragmentDefinition","defaultValues","defs","defaultValue","makeReference","__ref","isReference","isStringValue","isBooleanValue","isIntValue","isFloatValue","isVariable","isObjectValue","isListValue","isEnumValue","isNullValue","argObj","Number","nestedArgObj_1","variableValue","values","listValue","nestedArgArrayObj","storeKeyNameFromField","directivesObj","getStoreKeyName","KNOWN_DIRECTIVES","args","filterKeys","filteredArgs_1","completeFieldName","stringifiedArgs","setStringify","s","defaultStringify","stringifyReplacer","argObj_1","alias","getTypenameFromResult","typename","TYPENAME_FIELD","isEmpty","nullIfDocIsEmpty","getDirectiveMatcher","directiveMatcher","dir","removeDirectivesFromDocument","variablesInUse","variablesToRemove","fragmentSpreadsInUse","fragmentSpreadsToRemove","modifiedDoc","Field","shouldRemoveField","getAllFragmentSpreadsFromSelectionSet","frag","FragmentSpread","removeArgumentsFromDocument","fs","removeFragmentSpreadFromDocument","addTypenameToDocument","SelectionSet","skip","lastIndexOf","added","connectionRemoveConfig","willRemove","hasDirectivesInSelectionSet","nestedCheck","hasDirectivesInSelection","getArgumentMatcher","argumentMatcher","argument","aConfig","argMatcher","OperationDefinition","varDef","argConfig","argMatchCount_1","Argument","FragmentDefinition","allFragments","isTypenameOnly","isPromiseLike","addCount","handlers","latest","shift","obs","_","iterable","start","deliverLastMessage","nextOrError","quietly","called","once","catchFn","activeCallbackCount","completed","promiseQueue","makeCallback","examiner","delegate","both","caught","observersWithMethod","subclass","Symbol","species","currentContext","MISSING_VALUE","idCounter","makeSlotClass","Date","now","hasValue","context_1","slots","thisArg","saved","noContext","globalKey","host","setTimeoutWithContext","delay","asyncFromGen","genFn","gen","boundNext","boundThrow","throw","invoke","done","invokeNext","invokeThrow","wrappedFibers","wrapYieldingFiberMethods","Fiber","wrap","fnToStr","previousComparisons","a","b","check","aTag","bTag","previouslyCompared","aKeys","definedKeys","bKeys","keyCount","k","aIterator","entries","isMap","aKey","aValue","Uint8Array","len","byteLength","aCode","endsWith","nativeCodeSuffix","isDefinedKey","full","suffix","fromIndex","bSet","defaultMakeData","weakness","makeData","lookup","getChildTrie","isObjRef","weak","strong","i0","InjectionToken","Injectable","NgZone","Optional","Inject","ɵngcc0","gql","graphql","queueScheduler","observeOn","startWith","fromPromise","promiseFn","subscriber","closed","ZoneScheduler","constructor","zone","schedule","work","run","fixObservable","wrapWithZone","ngZone","pipe","pickFlag","flags","flag","QueryRef","wrapped","valueChanges","useInitialLoading","stale","opts","APOLLO_FLAGS","APOLLO_OPTIONS","APOLLO_NAMED_OPTIONS","ApolloBase","_client","ensureClient","extra","useZone","getClient","setClient","checkInstance","Apollo","_ngZone","apolloOptions","apolloNamedOptions","createDefault","createNamed","isDefault","use","removeClient","ɵfac","Apollo_Factory","t","ɵɵinject","ɵprov","ɵɵdefineInjectable","factory","token","providedIn","ngDevMode","Query","apollo","Query_Factory","Mutation","Mutation_Factory","Subscription","Subscription_Factory","KeyTrie","bindContext","defaultDispose","Cache","max","dispose","Infinity","newest","oldest","getNode","older","newer","clean","parentEntrySlot","toArray","collection","maybeUnsubscribe","entryOrDep","emptySetPool","POOL_TARGET_SIZE","assert","condition","optionalMessage","valueIs","valueGet","valueCopy","Entry","parents","childValues","dirtyChildren","recomputing","deps","peek","mightBeDirty","rememberParent","recompute","reallyRecompute","setDirty","reportDirty","forgetChildren","eachParent","forgetChild","forget","dependOn","pop","forgetDeps","reportDirtyChild","reportCleanChild","entry","recomputeNewValue","maybeSubscribe","setClean","reportClean","parentCount","parentWasClean","childValue","removeDirtyChild","dc","_value","EntryMethods","depsByKey","depend","dep_1","entryMethodName","m_1","makeDefaultMakeCacheKeyFunction","keyTrie","defaultMakeCacheKey","originalFunction","pow","keyArgs","makeCacheKey","dirtyKey","peekKey","forgetKey","getKey","genericMessage","setPrototypeOf","framesToPop","verbosityLevels","verbosityLevel","wrapConsoleMethod","console","setVerbosity","level","old","invariant$1","safeGlobal","needToRemove","install","_createForOfIteratorHelperLoose","o","allowArrayLike","it","iterator","_unsupportedIterableToArray","TypeError","minLen","_arrayLikeToArray","n","arr","arr2","_defineProperties","props","descriptor","_createClass","Constructor","protoProps","staticProps","hasSymbols","hasSymbol","getSymbol","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","getSpecies","ctor","isObservable","hostReportError","enqueue","cleanupSubscription","_cleanup","closeSubscription","_queue","_state","flushSubscription","queue","notifySubscription","type","onNotify","subscriptionObserver","SubscriptionObserver","_proto","_proto2","_subscriber","_proto3","_this2","C","_this3","_this4","hasSeed","seed","acc","_this5","_len","index","startNext","flatMap","_this6","outer","inner","splice","completeIfDone","_iterator","_step","_len2","items","_key2","symbol"],"sourceRoot":"webpack:///"}