{"version":3,"mappings":"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","names":["extendStatics","__proto__","Array","d","__assign","i","s","t","decorator","resolve","step","reject","result","label","sent","trys","ops","f","y","g","next","_","value","done","op","Object","enumerable","get","o","ar","e","error","j","r","verb","q","settle","resume","v","Promise","cooked","__setModuleDefault","shallowCopy","isObjectOrArray","isArray","slice","getPrototypeOf","ObjectCanon","known","canUseWeakSet","WeakSet","Set","pool","Trie","canUseWeakMap","passes","WeakMap","keysByJSON","Map","empty","admit","prototype","isKnown","has","pass","copy","set","_this","original","proto","array","map","node","lookupArray","add","__DEV__","freeze","proto_1","array_1","keys","sortedKeys","push","json","firstValueIndex_1","length","sorted","forEach","key","object","obj_1","create","obj","sort","JSON","stringify","canonicalStringify","assign","stringifyCanon","resetCanonicalStringify","canonical","stringifyCache","reset","cacheSlot","Slot","cacheInfoMap","getCacheInfo","cache","info","vars","dep","forgetCache","rv","recallCache","attachCache","makeVar","caches","listeners","newValue","arguments","dirty","broadcast","oldListeners","from","clear","listener","getValue","attach","onNextChange","broadcastWatches","hasSuggestedDevtools","mergeOptions","defaults","options","compact","variables","ApolloClient","defaultOptions","resetStoreCallbacks","clearStoreCallbacks","uri","credentials","headers","_a","ssrMode","_b","ssrForceFetchDelay","_c","connectToDevTools","window","__APOLLO_CLIENT__","_d","queryDeduplication","_e","assumeImmutableResults","resolvers","typeDefs","fragmentMatcher","clientAwarenessName","name","clientAwarenessVersion","version","link","HttpLink","ApolloLink","InvariantError","disableNetworkFetches","setTimeout","watchQuery","bind","query","mutate","resetStore","reFetchObservableQueries","document","top","self","__APOLLO_DEVTOOLS_GLOBAL_HOOK__","nav","navigator","ua","userAgent","url","indexOf","invariant","localState","LocalState","client","queryManager","QueryManager","clientAwareness","onBroadcast","devToolsHookCb","action","state","queries","getQueryStore","mutations","mutationStore","dataWithOptimisticResults","extract","stop","fetchPolicy","subscribe","startGraphQLSubscription","readQuery","optimistic","readFragment","writeQuery","broadcastQueries","writeFragment","__actionHookForDevTools","cb","__requestRaw","payload","execute","then","clearStore","all","fn","onResetStore","filter","c","onClearStore","includeStandby","refetchQueries","results","obsQuery","getObservableQueries","include","restore","serializedState","addResolvers","setResolvers","getResolvers","setLocalStateFragmentMatcher","setFragmentMatcher","setLink","newLink","resolverGroup","mergeDeep","runResolvers","remoteResult","context","onlyRunForcedResolvers","__awaiter","__generator","resolveDocument","data","localResult","getFragmentMatcher","clientQuery","hasDirectives","serverQuery","removeClientSetsFromDocument","prepareContext","getCacheKey","identify","addExportedVariables","buildRootValueFromCache","exportedVariables","shouldForceResolvers","forceResolvers","visit","Directive","enter","some","arg","kind","BREAK","diff","buildQueryFromSelectionSet","returnPartialData","rootValue","mainDefinition","fragments","fragmentMap","definitionOperation","defaultOperationType","execContext","getMainDefinition","getFragmentDefinitions","createFragmentMap","operation","charAt","toUpperCase","resolveSelectionSet","selectionSet","resultsToMerge","selection","fragment","typeCondition","shouldInclude","isField","resolveField","fieldResult","resultKeyNameFromField","isInlineFragment","fragmentResult","selections","mergeDeepArray","field","fieldName","aliasedFieldName","aliasUsed","defaultResult","resultPromise","resolverType","resolverMap","__typename","argumentsObjectFromField","directives","directive","resolveSubSelectedArray","item","hasOwnProperty","warnedAboutUpdateQuery","ObservableQuery","_super","__extends","queryInfo","call","observer","subObserver","_subscription","_observer","defaultSubscriptionObserverErrorCallback","first","observers","size","last","reobserve","tearDownQuery","subscriptions","isTornDown","queryId","generateQueryId","opDef","getOperationDefinition","queryName","initialFetchPolicy","defineProperty","configurable","removeQuery","subscription","unsubscribe","getCurrentResult","saveAsLastResult","lastResult","getLastResult","networkStatus","NetworkStatus","loading","isNetworkRequestInFlight","shouldReturnCachedData","transform","hasForcedResolvers","getDiff","complete","equal","partial","partialRefetch","logMissingFieldErrors","missing","updateLastResult","isDifferentFromLastResult","newResult","getLast","variablesMustMatch","getLastError","resetLastResults","resetQueryStoreErrors","resetErrors","refetch","reobserveOptions","pollInterval","queryDef","getQueryDefinition","variableDefinitions","variable","resetLastWrite","fetchMore","fetchMoreOptions","combinedOptions","qid","notifyOnNetworkStatusChange","observe","fetchQuery","fetchMoreResult","updateQuery","previous","stopQuery","subscribeToMore","subscriptionData","err","onError","setOptions","newOptions","setVariables","mapFn","startPolling","updatePolling","stopPolling","fetch","newNetworkStatus","setObservableQuery","fetchQueryObservable","pollingInfo","clearTimeout","timeout","interval","maybeFetch","poll","cloneDeep","isNonEmptyArray","errors","useDisposableConcast","oldVariables","concast","reportResult","reportError","removeObserver","addObserver","promise","iterateObserversSafely","errorResult","graphQLErrors","hasObservers","sub","Observable","fixObservableSubclass","message","stack","m","path","join","applyNextFetchPolicy","nextFetchPolicy","destructiveMethodCounts","wrapDestructiveCacheMethod","methodName","apply","cancelNotifyTimeout","QueryInfo","lastRequestId","stopped","observableQuery","init","lastDiff","networkError","getDiffOptions","updateWatch","oq","updateLastDiff","canonizeResults","setDiff","oldDiff","notifyTimeout","notify","oqListener","fromOptimisticTransaction","shouldNotify","cancel","watchOptions","watcher","callback","lastWatch","watch","lastWrite","shouldWrite","dmCount","markResult","cacheWriteBehavior","shouldWriteResult","errorPolicy","performTransaction","overwrite","diffOptions","markReady","markError","ignoreErrors","writeWithErrors","graphQLResultHasError","fetchCancelFns","transformCache","queryIdCounter","requestIdCounter","mutationIdCounter","inFlightLinkObservables","_info","stopQueryNoBroadcast","cancelPendingFetches","mutation","optimisticResponse","updateQueries","awaitRefetchQueries","updateWithProxyFn","update","onQueryUpdated","keepRootFields","mutationId","mutationStoreValue","_f","generateMutationId","getVariables","hasClientExports","markMutationOptimistic","asyncMap","getObservableFromLink","ApolloError","storeResult","markMutationResult","removeOptimistic","cacheWrites","skipCache","dataId","updateQueries_1","updater","currentQueryResult","nextQueryResult","mutationResult","getOperationName","queryVariables","results_1","updateCache","write","id","asQuery","modify","fields","DELETE","recordOptimisticTransaction","store","undefined","transformed","transformDocument","forLink","removeConnectionDirectiveFromDocument","transformForLink","cacheEntry_1","defaultVars","getDefaultValues","definitions","def","doc","observable","String","generateRequestId","stopQueryInStore","stopQueryInStoreNoBroadcast","queryNamesAndDocs","legacyQueryOptions","desc","isDocumentNode","isNonNullObject","makeUniqueId","getQuery","included","nameOrDoc","observableQueryPromises","makeObservable","observablePromise_1","getLocalState","deduplication","inFlightLinkObservables_1","operationName","forceFetch","byVariables_1","varJson_1","Concast","cleanup","getResultsFromLink","requestId","hasErrors","aqr","isApolloError","normalized","fromVariables","fetchQueryByPolicy","reason","includedQueriesById","batch","onWatchUpdated","refetchWritePolicy","oldNetworkStatus","readCache","resultsFromCache","fromData","resolved","resultsFromLink","newContext","generateErrorMessage","clientErrors","concat","errorMessage","replace","extraInfo","Error","passthrough","forward","toLink","handler","isTerminating","request","LinkError","links","reduce","x","split","test","left","right","leftLink","rightLink","createOperation","transformOperation","validateOperation","second","firstLink","nextLink","setOnError","createHttpLink","checkFetcher","fetcher","backupFetch","maybe","linkOptions","preferredFetch","includeExtensions","useGETForQueries","includeUnusedVariables","requestOptions","__rest","linkConfig","http","fetchOptions","chosenURI","selectURI","getContext","clientAwarenessHeaders","name_1","contextHeaders","contextConfig","selectHttpOptionsAndBody","fallbackHttpConfig","body","unusedNames_1","Variable","_key","parent","controller","signal","createSignalIfSupported","_controller","definitionIsMutation","method","rewriteURIForGET","newURI","parseError","fromError","serializeFetchParameter","currentFetch","response","setContext","parseAndCheckHttpResponse","abort","AbortController","operations","text","bodyText","parse","statusCode","status","throwServerError","queryParams","addQueryParam","encodeURIComponent","serializedVariables","extensions","serializedExtensions","preFragment","fragmentStart","substr","queryParamsPrefix","defaultHttpOptions","includeQuery","defaultHeaders","accept","fallbackConfig","configs","_i","config","headersToLowerCase","print","normalized_1","toLowerCase","fallbackURI","contextURI","p","serialized","starting","errorValue","transformedOperation","OPERATION_FIELDS","product","toString","cloneDeepHelper","val","seen","copy_1","child","copy_2","objects","filterInPlace","target","elem","prefixCounts","prefix","count","Math","random","sources","merger","DeepMerger","merge","defaultReconciler","source","property","reconciler","isObject","pastCopies","sourceKey","targetValue","__spreadArray","shallowCopyForMerge","__","GLOBAL_KEY","getDEV","Boolean","global","process","writable","__webpack_exports__","globalThis","Function","removeTemporaryGlobals","isType","remove","checkDEV","DEV","thunk","getInclusionDirectives","every","ifArgument","evaledValue","getDirectiveNames","root","names","isInclusionDirective","directiveArguments","directiveName","ifValue","getFragmentQueryDocument","fragmentName","actualFragmentName","definition","symTable","getFragmentFromSelection","checkDocument","getFragmentDefinition","fragmentDef","queryDoc","fragmentDefinition","defaultValues","defs","defaultValue","valueToObjectRepresentation","makeReference","__ref","isReference","isStringValue","isBooleanValue","isIntValue","isFloatValue","isVariable","isObjectValue","isListValue","isEnumValue","isNullValue","argObj","Number","nestedArgObj_1","variableValue","values","listValue","nestedArgArrayObj","storeKeyNameFromField","directivesObj","getStoreKeyName","KNOWN_DIRECTIVES","args","filterKeys","filteredArgs_1","completeFieldName","stringifiedArgs","setStringify","defaultStringify","stringifyReplacer","argObj_1","alias","getTypenameFromResult","typename","TYPENAME_FIELD","isEmpty","nullIfDocIsEmpty","getDirectiveMatcher","directiveMatcher","dir","removeDirectivesFromDocument","variablesInUse","variablesToRemove","fragmentSpreadsInUse","fragmentSpreadsToRemove","modifiedDoc","Field","shouldRemoveField","getAllFragmentSpreadsFromSelectionSet","frag","FragmentSpread","removeArgumentsFromDocument","fs","removeFragmentSpreadFromDocument","addTypenameToDocument","SelectionSet","skip","lastIndexOf","added","connectionRemoveConfig","willRemove","hasDirectivesInSelectionSet","nestedCheck","hasDirectivesInSelection","getArgumentMatcher","argumentMatcher","argument","aConfig","argMatcher","OperationDefinition","varDef","argConfig","argMatchCount_1","Argument","FragmentDefinition","allFragments","isTypenameOnly","isPromiseLike","addCount","handlers","latest","shift","obs","iterable","start","deliverLastMessage","nextOrError","quietly","called","once","catchFn","activeCallbackCount","completed","promiseQueue","makeCallback","examiner","delegate","both","caught","observersWithMethod","subclass","Symbol","species","currentContext","MISSING_VALUE","idCounter","makeSlotClass","Date","now","hasValue","context_1","slots","withValue","thisArg","saved","noContext","globalKey","host","setTimeoutWithContext","delay","asyncFromGen","genFn","gen","boundNext","boundThrow","invoke","invokeNext","invokeThrow","wrappedFibers","wrapYieldingFiberMethods","Fiber","wrap","fnToStr","previousComparisons","a","b","check","aTag","bTag","previouslyCompared","aKeys","definedKeys","bKeys","keyCount","k","aIterator","entries","isMap","aKey","aValue","Uint8Array","len","byteLength","aCode","endsWith","nativeCodeSuffix","isDefinedKey","full","suffix","fromIndex","bSet","defaultMakeData","weakness","makeData","lookup","getChildTrie","isObjRef","weak","strong","fromPromise","promiseFn","subscriber","closed","ZoneScheduler","constructor","zone","schedule","work","run","queueScheduler","fixObservable","wrapWithZone","ngZone","pipe","observeOn","pickFlag","flags","flag","QueryRef","wrapped","valueChanges","useInitialLoading","startWith","stale","opts","APOLLO_FLAGS","InjectionToken","APOLLO_OPTIONS","APOLLO_NAMED_OPTIONS","ApolloBase","_client","ensureClient","extra","useZone","getClient","setClient","checkInstance","Apollo","_ngZone","apolloOptions","apolloNamedOptions","createDefault","createNamed","isDefault","default","use","removeClient","fac","Apollo_Factory","ngcc0","prov","i0","factory","token","providedIn","ngDevMode","Query","apollo","Query_Factory","Mutation","Mutation_Factory","Subscription","Subscription_Factory","defaultDispose","Cache","max","dispose","Infinity","newest","oldest","getNode","older","newer","clean","parentEntrySlot","toArray","collection","maybeUnsubscribe","entryOrDep","emptySetPool","POOL_TARGET_SIZE","assert","condition","optionalMessage","valueIs","valueGet","valueCopy","Entry","parents","childValues","dirtyChildren","recomputing","deps","peek","mightBeDirty","rememberParent","recompute","reallyRecompute","setDirty","reportDirty","forgetChildren","eachParent","forgetChild","forget","dependOn","pop","forgetDeps","reportDirtyChild","reportCleanChild","entry","recomputeNewValue","maybeSubscribe","setClean","reportClean","parentCount","parentWasClean","childValue","removeDirtyChild","dc","_value","EntryMethods","depsByKey","depend","dep_1","entryMethodName","m_1","makeDefaultMakeCacheKeyFunction","keyTrie","defaultMakeCacheKey","originalFunction","pow","keyArgs","makeCacheKey","dirtyKey","peekKey","forgetKey","getKey","genericMessage","setPrototypeOf","framesToPop","verbosityLevels","verbosityLevel","wrapConsoleMethod","console","log","debug","warn","setVerbosity","level","old","invariant$1","safeGlobal","needToRemove","install","env","NODE_ENV","_createForOfIteratorHelperLoose","allowArrayLike","it","iterator","_unsupportedIterableToArray","TypeError","minLen","_arrayLikeToArray","n","arr","arr2","_defineProperties","props","descriptor","_createClass","Constructor","protoProps","staticProps","hasSymbols","hasSymbol","getSymbol","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","getSpecies","ctor","isObservable","hostReportError","enqueue","cleanupSubscription","_cleanup","closeSubscription","_queue","_state","flushSubscription","queue","notifySubscription","type","onNotify","subscriptionObserver","SubscriptionObserver","_proto","_proto2","_subscriber","_proto3","_this2","C","_this3","_this4","hasSeed","seed","acc","_this5","_len","index","startNext","flatMap","_this6","outer","inner","splice","completeIfDone","_iterator","_step","of","_len2","items","_key2","symbol"],"sources":["webpack:///node_modules/tslib/tslib.es6.js","webpack:///node_modules/@apollo/client/cache/inmemory/object-canon.js","webpack:///node_modules/@apollo/client/cache/inmemory/reactiveVars.js","webpack:///node_modules/@apollo/client/core/ApolloClient.js","webpack:///node_modules/@apollo/client/core/LocalState.js","webpack:///node_modules/@apollo/client/core/ObservableQuery.js","webpack:///node_modules/@apollo/client/core/QueryInfo.js","webpack:///node_modules/@apollo/client/core/QueryManager.js","webpack:///node_modules/@apollo/client/core/networkStatus.js","webpack:///node_modules/@apollo/client/errors/index.js","webpack:///node_modules/@apollo/client/link/core/ApolloLink.js","webpack:///node_modules/@apollo/client/link/core/execute.js","webpack:///node_modules/@apollo/client/link/http/HttpLink.js","webpack:///node_modules/@apollo/client/link/http/checkFetcher.js","webpack:///node_modules/@apollo/client/link/http/createHttpLink.js","webpack:///node_modules/@apollo/client/link/http/createSignalIfSupported.js","webpack:///node_modules/@apollo/client/link/http/parseAndCheckHttpResponse.js","webpack:///node_modules/@apollo/client/link/http/rewriteURIForGET.js","webpack:///node_modules/@apollo/client/link/http/selectHttpOptionsAndBody.js","webpack:///node_modules/@apollo/client/link/http/selectURI.js","webpack:///node_modules/@apollo/client/link/http/serializeFetchParameter.js","webpack:///node_modules/@apollo/client/link/utils/createOperation.js","webpack:///node_modules/@apollo/client/link/utils/fromError.js","webpack:///node_modules/@apollo/client/link/utils/throwServerError.js","webpack:///node_modules/@apollo/client/link/utils/transformOperation.js","webpack:///node_modules/@apollo/client/link/utils/validateOperation.js","webpack:///node_modules/@apollo/client/utilities/common/arrays.js","webpack:///node_modules/@apollo/client/utilities/common/canUse.js","webpack:///node_modules/@apollo/client/utilities/common/cloneDeep.js","webpack:///node_modules/@apollo/client/utilities/common/compact.js","webpack:///node_modules/@apollo/client/utilities/common/errorHandling.js","webpack:///node_modules/@apollo/client/utilities/common/filterInPlace.js","webpack:///node_modules/@apollo/client/utilities/common/makeUniqueId.js","webpack:///node_modules/@apollo/client/utilities/common/mergeDeep.js","webpack:///node_modules/@apollo/client/utilities/common/objects.js","webpack:///node_modules/@apollo/client/utilities/globals/DEV.js","webpack:///node_modules/@apollo/client/utilities/globals/global.js","webpack:///node_modules/@apollo/client/utilities/globals/graphql.js","webpack:///node_modules/@apollo/client/utilities/globals/index.js","webpack:///node_modules/@apollo/client/utilities/globals/maybe.js","webpack:///node_modules/@apollo/client/utilities/graphql/directives.js","webpack:///node_modules/@apollo/client/utilities/graphql/fragments.js","webpack:///node_modules/@apollo/client/utilities/graphql/getFromAST.js","webpack:///node_modules/@apollo/client/utilities/graphql/storeUtils.js","webpack:///node_modules/@apollo/client/utilities/graphql/transform.js","webpack:///node_modules/@apollo/client/utilities/observables/Concast.js","webpack:///node_modules/@apollo/client/utilities/observables/asyncMap.js","webpack:///node_modules/@apollo/client/utilities/observables/iteration.js","webpack:///node_modules/@apollo/client/utilities/observables/subclassing.js","webpack:///node_modules/@apollo/client/version.js","webpack:///node_modules/@wry/context/lib/context.esm.js","webpack:///node_modules/@wry/equality/lib/equality.esm.js","webpack:///node_modules/@wry/trie/lib/trie.esm.js","webpack:///node_modules/apollo-angular/fesm2015/ngApollo.js","webpack:///node_modules/optimism/lib/bundle.esm.js","webpack:///node_modules/ts-invariant/lib/invariant.esm.js","webpack:///node_modules/ts-invariant/process/index.js","webpack:///node_modules/zen-observable-ts/module.js"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { __assign } from \"tslib\";\r\nimport \"../../utilities/globals/index.js\";\r\nimport { Trie } from \"@wry/trie\";\r\nimport { canUseWeakMap, canUseWeakSet, isNonNullObject as isObjectOrArray, } from \"../../utilities/index.js\";\r\nfunction shallowCopy(value) {\r\n    if (isObjectOrArray(value)) {\r\n        return Array.isArray(value)\r\n            ? value.slice(0)\r\n            : __assign({ __proto__: Object.getPrototypeOf(value) }, value);\r\n    }\r\n    return value;\r\n}\r\nvar ObjectCanon = (function () {\r\n    function ObjectCanon() {\r\n        this.known = new (canUseWeakSet ? WeakSet : Set)();\r\n        this.pool = new Trie(canUseWeakMap);\r\n        this.passes = new WeakMap();\r\n        this.keysByJSON = new Map();\r\n        this.empty = this.admit({});\r\n    }\r\n    ObjectCanon.prototype.isKnown = function (value) {\r\n        return isObjectOrArray(value) && this.known.has(value);\r\n    };\r\n    ObjectCanon.prototype.pass = function (value) {\r\n        if (isObjectOrArray(value)) {\r\n            var copy = shallowCopy(value);\r\n            this.passes.set(copy, value);\r\n            return copy;\r\n        }\r\n        return value;\r\n    };\r\n    ObjectCanon.prototype.admit = function (value) {\r\n        var _this = this;\r\n        if (isObjectOrArray(value)) {\r\n            var original = this.passes.get(value);\r\n            if (original)\r\n                return original;\r\n            var proto = Object.getPrototypeOf(value);\r\n            switch (proto) {\r\n                case Array.prototype: {\r\n                    if (this.known.has(value))\r\n                        return value;\r\n                    var array = value.map(this.admit, this);\r\n                    var node = this.pool.lookupArray(array);\r\n                    if (!node.array) {\r\n                        this.known.add(node.array = array);\r\n                        if (__DEV__) {\r\n                            Object.freeze(array);\r\n                        }\r\n                    }\r\n                    return node.array;\r\n                }\r\n                case null:\r\n                case Object.prototype: {\r\n                    if (this.known.has(value))\r\n                        return value;\r\n                    var proto_1 = Object.getPrototypeOf(value);\r\n                    var array_1 = [proto_1];\r\n                    var keys = this.sortedKeys(value);\r\n                    array_1.push(keys.json);\r\n                    var firstValueIndex_1 = array_1.length;\r\n                    keys.sorted.forEach(function (key) {\r\n                        array_1.push(_this.admit(value[key]));\r\n                    });\r\n                    var node = this.pool.lookupArray(array_1);\r\n                    if (!node.object) {\r\n                        var obj_1 = node.object = Object.create(proto_1);\r\n                        this.known.add(obj_1);\r\n                        keys.sorted.forEach(function (key, i) {\r\n                            obj_1[key] = array_1[firstValueIndex_1 + i];\r\n                        });\r\n                        if (__DEV__) {\r\n                            Object.freeze(obj_1);\r\n                        }\r\n                    }\r\n                    return node.object;\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    ObjectCanon.prototype.sortedKeys = function (obj) {\r\n        var keys = Object.keys(obj);\r\n        var node = this.pool.lookupArray(keys);\r\n        if (!node.keys) {\r\n            keys.sort();\r\n            var json = JSON.stringify(keys);\r\n            if (!(node.keys = this.keysByJSON.get(json))) {\r\n                this.keysByJSON.set(json, node.keys = { sorted: keys, json: json });\r\n            }\r\n        }\r\n        return node.keys;\r\n    };\r\n    return ObjectCanon;\r\n}());\r\nexport { ObjectCanon };\r\nexport var canonicalStringify = Object.assign(function (value) {\r\n    if (isObjectOrArray(value)) {\r\n        if (stringifyCanon === void 0) {\r\n            resetCanonicalStringify();\r\n        }\r\n        var canonical = stringifyCanon.admit(value);\r\n        var json = stringifyCache.get(canonical);\r\n        if (json === void 0) {\r\n            stringifyCache.set(canonical, json = JSON.stringify(canonical));\r\n        }\r\n        return json;\r\n    }\r\n    return JSON.stringify(value);\r\n}, {\r\n    reset: resetCanonicalStringify,\r\n});\r\nvar stringifyCanon;\r\nvar stringifyCache;\r\nfunction resetCanonicalStringify() {\r\n    stringifyCanon = new ObjectCanon;\r\n    stringifyCache = new (canUseWeakMap ? WeakMap : Map)();\r\n}\r\n","import { dep } from \"optimism\";\r\nimport { Slot } from \"@wry/context\";\r\nexport var cacheSlot = new Slot();\r\nvar cacheInfoMap = new WeakMap();\r\nfunction getCacheInfo(cache) {\r\n    var info = cacheInfoMap.get(cache);\r\n    if (!info) {\r\n        cacheInfoMap.set(cache, info = {\r\n            vars: new Set,\r\n            dep: dep(),\r\n        });\r\n    }\r\n    return info;\r\n}\r\nexport function forgetCache(cache) {\r\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.forgetCache(cache); });\r\n}\r\nexport function recallCache(cache) {\r\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.attachCache(cache); });\r\n}\r\nexport function makeVar(value) {\r\n    var caches = new Set();\r\n    var listeners = new Set();\r\n    var rv = function (newValue) {\r\n        if (arguments.length > 0) {\r\n            if (value !== newValue) {\r\n                value = newValue;\r\n                caches.forEach(function (cache) {\r\n                    getCacheInfo(cache).dep.dirty(rv);\r\n                    broadcast(cache);\r\n                });\r\n                var oldListeners = Array.from(listeners);\r\n                listeners.clear();\r\n                oldListeners.forEach(function (listener) { return listener(value); });\r\n            }\r\n        }\r\n        else {\r\n            var cache = cacheSlot.getValue();\r\n            if (cache) {\r\n                attach(cache);\r\n                getCacheInfo(cache).dep(rv);\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    rv.onNextChange = function (listener) {\r\n        listeners.add(listener);\r\n        return function () {\r\n            listeners.delete(listener);\r\n        };\r\n    };\r\n    var attach = rv.attachCache = function (cache) {\r\n        caches.add(cache);\r\n        getCacheInfo(cache).vars.add(rv);\r\n        return rv;\r\n    };\r\n    rv.forgetCache = function (cache) { return caches.delete(cache); };\r\n    return rv;\r\n}\r\nfunction broadcast(cache) {\r\n    if (cache.broadcastWatches) {\r\n        cache.broadcastWatches();\r\n    }\r\n}\r\n","import { __assign } from \"tslib\";\r\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\r\nimport { ApolloLink, execute } from \"../link/core/index.js\";\r\nimport { compact } from \"../utilities/index.js\";\r\nimport { version } from \"../version.js\";\r\nimport { HttpLink } from \"../link/http/index.js\";\r\nimport { QueryManager } from \"./QueryManager.js\";\r\nimport { LocalState, } from \"./LocalState.js\";\r\nvar hasSuggestedDevtools = false;\r\nexport function mergeOptions(defaults, options) {\r\n    return compact(defaults, options, options.variables && {\r\n        variables: __assign(__assign({}, defaults.variables), options.variables),\r\n    });\r\n}\r\nvar ApolloClient = (function () {\r\n    function ApolloClient(options) {\r\n        var _this = this;\r\n        this.defaultOptions = {};\r\n        this.resetStoreCallbacks = [];\r\n        this.clearStoreCallbacks = [];\r\n        var uri = options.uri, credentials = options.credentials, headers = options.headers, cache = options.cache, _a = options.ssrMode, ssrMode = _a === void 0 ? false : _a, _b = options.ssrForceFetchDelay, ssrForceFetchDelay = _b === void 0 ? 0 : _b, _c = options.connectToDevTools, connectToDevTools = _c === void 0 ? typeof window === 'object' &&\r\n            !window.__APOLLO_CLIENT__ &&\r\n            __DEV__ : _c, _d = options.queryDeduplication, queryDeduplication = _d === void 0 ? true : _d, defaultOptions = options.defaultOptions, _e = options.assumeImmutableResults, assumeImmutableResults = _e === void 0 ? false : _e, resolvers = options.resolvers, typeDefs = options.typeDefs, fragmentMatcher = options.fragmentMatcher, clientAwarenessName = options.name, clientAwarenessVersion = options.version;\r\n        var link = options.link;\r\n        if (!link) {\r\n            link = uri\r\n                ? new HttpLink({ uri: uri, credentials: credentials, headers: headers })\r\n                : ApolloLink.empty();\r\n        }\r\n        if (!cache) {\r\n            throw __DEV__ ? new InvariantError(\"To initialize Apollo Client, you must specify a 'cache' property \" +\r\n                \"in the options object. \\n\" +\r\n                \"For more information, please visit: https://go.apollo.dev/c/docs\") : new InvariantError(9);\r\n        }\r\n        this.link = link;\r\n        this.cache = cache;\r\n        this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\r\n        this.queryDeduplication = queryDeduplication;\r\n        this.defaultOptions = defaultOptions || {};\r\n        this.typeDefs = typeDefs;\r\n        if (ssrForceFetchDelay) {\r\n            setTimeout(function () { return (_this.disableNetworkFetches = false); }, ssrForceFetchDelay);\r\n        }\r\n        this.watchQuery = this.watchQuery.bind(this);\r\n        this.query = this.query.bind(this);\r\n        this.mutate = this.mutate.bind(this);\r\n        this.resetStore = this.resetStore.bind(this);\r\n        this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this);\r\n        if (connectToDevTools && typeof window === 'object') {\r\n            window.__APOLLO_CLIENT__ = this;\r\n        }\r\n        if (!hasSuggestedDevtools && __DEV__) {\r\n            hasSuggestedDevtools = true;\r\n            if (typeof window !== 'undefined' &&\r\n                window.document &&\r\n                window.top === window.self &&\r\n                !window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__) {\r\n                var nav = window.navigator;\r\n                var ua = nav && nav.userAgent;\r\n                var url = void 0;\r\n                if (typeof ua === \"string\") {\r\n                    if (ua.indexOf(\"Chrome/\") > -1) {\r\n                        url = \"https://chrome.google.com/webstore/detail/\" +\r\n                            \"apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm\";\r\n                    }\r\n                    else if (ua.indexOf(\"Firefox/\") > -1) {\r\n                        url = \"https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/\";\r\n                    }\r\n                }\r\n                if (url) {\r\n                    __DEV__ && invariant.log(\"Download the Apollo DevTools for a better development \" +\r\n                        \"experience: \" + url);\r\n                }\r\n            }\r\n        }\r\n        this.version = version;\r\n        this.localState = new LocalState({\r\n            cache: cache,\r\n            client: this,\r\n            resolvers: resolvers,\r\n            fragmentMatcher: fragmentMatcher,\r\n        });\r\n        this.queryManager = new QueryManager({\r\n            cache: this.cache,\r\n            link: this.link,\r\n            queryDeduplication: queryDeduplication,\r\n            ssrMode: ssrMode,\r\n            clientAwareness: {\r\n                name: clientAwarenessName,\r\n                version: clientAwarenessVersion,\r\n            },\r\n            localState: this.localState,\r\n            assumeImmutableResults: assumeImmutableResults,\r\n            onBroadcast: connectToDevTools ? function () {\r\n                if (_this.devToolsHookCb) {\r\n                    _this.devToolsHookCb({\r\n                        action: {},\r\n                        state: {\r\n                            queries: _this.queryManager.getQueryStore(),\r\n                            mutations: _this.queryManager.mutationStore || {},\r\n                        },\r\n                        dataWithOptimisticResults: _this.cache.extract(true),\r\n                    });\r\n                }\r\n            } : void 0,\r\n        });\r\n    }\r\n    ApolloClient.prototype.stop = function () {\r\n        this.queryManager.stop();\r\n    };\r\n    ApolloClient.prototype.watchQuery = function (options) {\r\n        if (this.defaultOptions.watchQuery) {\r\n            options = mergeOptions(this.defaultOptions.watchQuery, options);\r\n        }\r\n        if (this.disableNetworkFetches &&\r\n            (options.fetchPolicy === 'network-only' ||\r\n                options.fetchPolicy === 'cache-and-network')) {\r\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\r\n        }\r\n        return this.queryManager.watchQuery(options);\r\n    };\r\n    ApolloClient.prototype.query = function (options) {\r\n        if (this.defaultOptions.query) {\r\n            options = mergeOptions(this.defaultOptions.query, options);\r\n        }\r\n        __DEV__ ? invariant(options.fetchPolicy !== 'cache-and-network', 'The cache-and-network fetchPolicy does not work with client.query, because ' +\r\n            'client.query can only return a single result. Please use client.watchQuery ' +\r\n            'to receive multiple results from the cache and the network, or consider ' +\r\n            'using a different fetchPolicy, such as cache-first or network-only.') : invariant(options.fetchPolicy !== 'cache-and-network', 10);\r\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\r\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\r\n        }\r\n        return this.queryManager.query(options);\r\n    };\r\n    ApolloClient.prototype.mutate = function (options) {\r\n        if (this.defaultOptions.mutate) {\r\n            options = mergeOptions(this.defaultOptions.mutate, options);\r\n        }\r\n        return this.queryManager.mutate(options);\r\n    };\r\n    ApolloClient.prototype.subscribe = function (options) {\r\n        return this.queryManager.startGraphQLSubscription(options);\r\n    };\r\n    ApolloClient.prototype.readQuery = function (options, optimistic) {\r\n        if (optimistic === void 0) { optimistic = false; }\r\n        return this.cache.readQuery(options, optimistic);\r\n    };\r\n    ApolloClient.prototype.readFragment = function (options, optimistic) {\r\n        if (optimistic === void 0) { optimistic = false; }\r\n        return this.cache.readFragment(options, optimistic);\r\n    };\r\n    ApolloClient.prototype.writeQuery = function (options) {\r\n        this.cache.writeQuery(options);\r\n        this.queryManager.broadcastQueries();\r\n    };\r\n    ApolloClient.prototype.writeFragment = function (options) {\r\n        this.cache.writeFragment(options);\r\n        this.queryManager.broadcastQueries();\r\n    };\r\n    ApolloClient.prototype.__actionHookForDevTools = function (cb) {\r\n        this.devToolsHookCb = cb;\r\n    };\r\n    ApolloClient.prototype.__requestRaw = function (payload) {\r\n        return execute(this.link, payload);\r\n    };\r\n    ApolloClient.prototype.resetStore = function () {\r\n        var _this = this;\r\n        return Promise.resolve()\r\n            .then(function () { return _this.queryManager.clearStore(); })\r\n            .then(function () { return Promise.all(_this.resetStoreCallbacks.map(function (fn) { return fn(); })); })\r\n            .then(function () { return _this.reFetchObservableQueries(); });\r\n    };\r\n    ApolloClient.prototype.clearStore = function () {\r\n        var _this = this;\r\n        return Promise.resolve()\r\n            .then(function () { return _this.queryManager.clearStore(); })\r\n            .then(function () { return Promise.all(_this.clearStoreCallbacks.map(function (fn) { return fn(); })); });\r\n    };\r\n    ApolloClient.prototype.onResetStore = function (cb) {\r\n        var _this = this;\r\n        this.resetStoreCallbacks.push(cb);\r\n        return function () {\r\n            _this.resetStoreCallbacks = _this.resetStoreCallbacks.filter(function (c) { return c !== cb; });\r\n        };\r\n    };\r\n    ApolloClient.prototype.onClearStore = function (cb) {\r\n        var _this = this;\r\n        this.clearStoreCallbacks.push(cb);\r\n        return function () {\r\n            _this.clearStoreCallbacks = _this.clearStoreCallbacks.filter(function (c) { return c !== cb; });\r\n        };\r\n    };\r\n    ApolloClient.prototype.reFetchObservableQueries = function (includeStandby) {\r\n        return this.queryManager.reFetchObservableQueries(includeStandby);\r\n    };\r\n    ApolloClient.prototype.refetchQueries = function (options) {\r\n        var map = this.queryManager.refetchQueries(options);\r\n        var queries = [];\r\n        var results = [];\r\n        map.forEach(function (result, obsQuery) {\r\n            queries.push(obsQuery);\r\n            results.push(result);\r\n        });\r\n        var result = Promise.all(results);\r\n        result.queries = queries;\r\n        result.results = results;\r\n        result.catch(function (error) {\r\n            __DEV__ && invariant.debug(\"In client.refetchQueries, Promise.all promise rejected with error \" + error);\r\n        });\r\n        return result;\r\n    };\r\n    ApolloClient.prototype.getObservableQueries = function (include) {\r\n        if (include === void 0) { include = \"active\"; }\r\n        return this.queryManager.getObservableQueries(include);\r\n    };\r\n    ApolloClient.prototype.extract = function (optimistic) {\r\n        return this.cache.extract(optimistic);\r\n    };\r\n    ApolloClient.prototype.restore = function (serializedState) {\r\n        return this.cache.restore(serializedState);\r\n    };\r\n    ApolloClient.prototype.addResolvers = function (resolvers) {\r\n        this.localState.addResolvers(resolvers);\r\n    };\r\n    ApolloClient.prototype.setResolvers = function (resolvers) {\r\n        this.localState.setResolvers(resolvers);\r\n    };\r\n    ApolloClient.prototype.getResolvers = function () {\r\n        return this.localState.getResolvers();\r\n    };\r\n    ApolloClient.prototype.setLocalStateFragmentMatcher = function (fragmentMatcher) {\r\n        this.localState.setFragmentMatcher(fragmentMatcher);\r\n    };\r\n    ApolloClient.prototype.setLink = function (newLink) {\r\n        this.link = this.queryManager.link = newLink;\r\n    };\r\n    return ApolloClient;\r\n}());\r\nexport { ApolloClient };\r\n","import { __assign, __awaiter, __generator } from \"tslib\";\r\nimport { invariant } from \"../utilities/globals/index.js\";\r\nimport { visit, BREAK, } from 'graphql';\r\nimport { argumentsObjectFromField, buildQueryFromSelectionSet, createFragmentMap, getFragmentDefinitions, getMainDefinition, hasDirectives, isField, isInlineFragment, mergeDeep, mergeDeepArray, removeClientSetsFromDocument, resultKeyNameFromField, shouldInclude, } from \"../utilities/index.js\";\r\nimport { cacheSlot } from \"../cache/index.js\";\r\nvar LocalState = (function () {\r\n    function LocalState(_a) {\r\n        var cache = _a.cache, client = _a.client, resolvers = _a.resolvers, fragmentMatcher = _a.fragmentMatcher;\r\n        this.cache = cache;\r\n        if (client) {\r\n            this.client = client;\r\n        }\r\n        if (resolvers) {\r\n            this.addResolvers(resolvers);\r\n        }\r\n        if (fragmentMatcher) {\r\n            this.setFragmentMatcher(fragmentMatcher);\r\n        }\r\n    }\r\n    LocalState.prototype.addResolvers = function (resolvers) {\r\n        var _this = this;\r\n        this.resolvers = this.resolvers || {};\r\n        if (Array.isArray(resolvers)) {\r\n            resolvers.forEach(function (resolverGroup) {\r\n                _this.resolvers = mergeDeep(_this.resolvers, resolverGroup);\r\n            });\r\n        }\r\n        else {\r\n            this.resolvers = mergeDeep(this.resolvers, resolvers);\r\n        }\r\n    };\r\n    LocalState.prototype.setResolvers = function (resolvers) {\r\n        this.resolvers = {};\r\n        this.addResolvers(resolvers);\r\n    };\r\n    LocalState.prototype.getResolvers = function () {\r\n        return this.resolvers || {};\r\n    };\r\n    LocalState.prototype.runResolvers = function (_a) {\r\n        var document = _a.document, remoteResult = _a.remoteResult, context = _a.context, variables = _a.variables, _b = _a.onlyRunForcedResolvers, onlyRunForcedResolvers = _b === void 0 ? false : _b;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_c) {\r\n                if (document) {\r\n                    return [2, this.resolveDocument(document, remoteResult.data, context, variables, this.fragmentMatcher, onlyRunForcedResolvers).then(function (localResult) { return (__assign(__assign({}, remoteResult), { data: localResult.result })); })];\r\n                }\r\n                return [2, remoteResult];\r\n            });\r\n        });\r\n    };\r\n    LocalState.prototype.setFragmentMatcher = function (fragmentMatcher) {\r\n        this.fragmentMatcher = fragmentMatcher;\r\n    };\r\n    LocalState.prototype.getFragmentMatcher = function () {\r\n        return this.fragmentMatcher;\r\n    };\r\n    LocalState.prototype.clientQuery = function (document) {\r\n        if (hasDirectives(['client'], document)) {\r\n            if (this.resolvers) {\r\n                return document;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    LocalState.prototype.serverQuery = function (document) {\r\n        return removeClientSetsFromDocument(document);\r\n    };\r\n    LocalState.prototype.prepareContext = function (context) {\r\n        var cache = this.cache;\r\n        return __assign(__assign({}, context), { cache: cache, getCacheKey: function (obj) {\r\n                return cache.identify(obj);\r\n            } });\r\n    };\r\n    LocalState.prototype.addExportedVariables = function (document, variables, context) {\r\n        if (variables === void 0) { variables = {}; }\r\n        if (context === void 0) { context = {}; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (document) {\r\n                    return [2, this.resolveDocument(document, this.buildRootValueFromCache(document, variables) || {}, this.prepareContext(context), variables).then(function (data) { return (__assign(__assign({}, variables), data.exportedVariables)); })];\r\n                }\r\n                return [2, __assign({}, variables)];\r\n            });\r\n        });\r\n    };\r\n    LocalState.prototype.shouldForceResolvers = function (document) {\r\n        var forceResolvers = false;\r\n        visit(document, {\r\n            Directive: {\r\n                enter: function (node) {\r\n                    if (node.name.value === 'client' && node.arguments) {\r\n                        forceResolvers = node.arguments.some(function (arg) {\r\n                            return arg.name.value === 'always' &&\r\n                                arg.value.kind === 'BooleanValue' &&\r\n                                arg.value.value === true;\r\n                        });\r\n                        if (forceResolvers) {\r\n                            return BREAK;\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n        });\r\n        return forceResolvers;\r\n    };\r\n    LocalState.prototype.buildRootValueFromCache = function (document, variables) {\r\n        return this.cache.diff({\r\n            query: buildQueryFromSelectionSet(document),\r\n            variables: variables,\r\n            returnPartialData: true,\r\n            optimistic: false,\r\n        }).result;\r\n    };\r\n    LocalState.prototype.resolveDocument = function (document, rootValue, context, variables, fragmentMatcher, onlyRunForcedResolvers) {\r\n        if (context === void 0) { context = {}; }\r\n        if (variables === void 0) { variables = {}; }\r\n        if (fragmentMatcher === void 0) { fragmentMatcher = function () { return true; }; }\r\n        if (onlyRunForcedResolvers === void 0) { onlyRunForcedResolvers = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var mainDefinition, fragments, fragmentMap, definitionOperation, defaultOperationType, _a, cache, client, execContext;\r\n            return __generator(this, function (_b) {\r\n                mainDefinition = getMainDefinition(document);\r\n                fragments = getFragmentDefinitions(document);\r\n                fragmentMap = createFragmentMap(fragments);\r\n                definitionOperation = mainDefinition\r\n                    .operation;\r\n                defaultOperationType = definitionOperation\r\n                    ? definitionOperation.charAt(0).toUpperCase() +\r\n                        definitionOperation.slice(1)\r\n                    : 'Query';\r\n                _a = this, cache = _a.cache, client = _a.client;\r\n                execContext = {\r\n                    fragmentMap: fragmentMap,\r\n                    context: __assign(__assign({}, context), { cache: cache, client: client }),\r\n                    variables: variables,\r\n                    fragmentMatcher: fragmentMatcher,\r\n                    defaultOperationType: defaultOperationType,\r\n                    exportedVariables: {},\r\n                    onlyRunForcedResolvers: onlyRunForcedResolvers,\r\n                };\r\n                return [2, this.resolveSelectionSet(mainDefinition.selectionSet, rootValue, execContext).then(function (result) { return ({\r\n                        result: result,\r\n                        exportedVariables: execContext.exportedVariables,\r\n                    }); })];\r\n            });\r\n        });\r\n    };\r\n    LocalState.prototype.resolveSelectionSet = function (selectionSet, rootValue, execContext) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var fragmentMap, context, variables, resultsToMerge, execute;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                fragmentMap = execContext.fragmentMap, context = execContext.context, variables = execContext.variables;\r\n                resultsToMerge = [rootValue];\r\n                execute = function (selection) { return __awaiter(_this, void 0, void 0, function () {\r\n                    var fragment, typeCondition;\r\n                    return __generator(this, function (_a) {\r\n                        if (!shouldInclude(selection, variables)) {\r\n                            return [2];\r\n                        }\r\n                        if (isField(selection)) {\r\n                            return [2, this.resolveField(selection, rootValue, execContext).then(function (fieldResult) {\r\n                                    var _a;\r\n                                    if (typeof fieldResult !== 'undefined') {\r\n                                        resultsToMerge.push((_a = {},\r\n                                            _a[resultKeyNameFromField(selection)] = fieldResult,\r\n                                            _a));\r\n                                    }\r\n                                })];\r\n                        }\r\n                        if (isInlineFragment(selection)) {\r\n                            fragment = selection;\r\n                        }\r\n                        else {\r\n                            fragment = fragmentMap[selection.name.value];\r\n                            __DEV__ ? invariant(fragment, \"No fragment named \" + selection.name.value) : invariant(fragment, 11);\r\n                        }\r\n                        if (fragment && fragment.typeCondition) {\r\n                            typeCondition = fragment.typeCondition.name.value;\r\n                            if (execContext.fragmentMatcher(rootValue, typeCondition, context)) {\r\n                                return [2, this.resolveSelectionSet(fragment.selectionSet, rootValue, execContext).then(function (fragmentResult) {\r\n                                        resultsToMerge.push(fragmentResult);\r\n                                    })];\r\n                            }\r\n                        }\r\n                        return [2];\r\n                    });\r\n                }); };\r\n                return [2, Promise.all(selectionSet.selections.map(execute)).then(function () {\r\n                        return mergeDeepArray(resultsToMerge);\r\n                    })];\r\n            });\r\n        });\r\n    };\r\n    LocalState.prototype.resolveField = function (field, rootValue, execContext) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var variables, fieldName, aliasedFieldName, aliasUsed, defaultResult, resultPromise, resolverType, resolverMap, resolve;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                variables = execContext.variables;\r\n                fieldName = field.name.value;\r\n                aliasedFieldName = resultKeyNameFromField(field);\r\n                aliasUsed = fieldName !== aliasedFieldName;\r\n                defaultResult = rootValue[aliasedFieldName] || rootValue[fieldName];\r\n                resultPromise = Promise.resolve(defaultResult);\r\n                if (!execContext.onlyRunForcedResolvers ||\r\n                    this.shouldForceResolvers(field)) {\r\n                    resolverType = rootValue.__typename || execContext.defaultOperationType;\r\n                    resolverMap = this.resolvers && this.resolvers[resolverType];\r\n                    if (resolverMap) {\r\n                        resolve = resolverMap[aliasUsed ? fieldName : aliasedFieldName];\r\n                        if (resolve) {\r\n                            resultPromise = Promise.resolve(cacheSlot.withValue(this.cache, resolve, [\r\n                                rootValue,\r\n                                argumentsObjectFromField(field, variables),\r\n                                execContext.context,\r\n                                { field: field, fragmentMap: execContext.fragmentMap },\r\n                            ]));\r\n                        }\r\n                    }\r\n                }\r\n                return [2, resultPromise.then(function (result) {\r\n                        if (result === void 0) { result = defaultResult; }\r\n                        if (field.directives) {\r\n                            field.directives.forEach(function (directive) {\r\n                                if (directive.name.value === 'export' && directive.arguments) {\r\n                                    directive.arguments.forEach(function (arg) {\r\n                                        if (arg.name.value === 'as' && arg.value.kind === 'StringValue') {\r\n                                            execContext.exportedVariables[arg.value.value] = result;\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                        if (!field.selectionSet) {\r\n                            return result;\r\n                        }\r\n                        if (result == null) {\r\n                            return result;\r\n                        }\r\n                        if (Array.isArray(result)) {\r\n                            return _this.resolveSubSelectedArray(field, result, execContext);\r\n                        }\r\n                        if (field.selectionSet) {\r\n                            return _this.resolveSelectionSet(field.selectionSet, result, execContext);\r\n                        }\r\n                    })];\r\n            });\r\n        });\r\n    };\r\n    LocalState.prototype.resolveSubSelectedArray = function (field, result, execContext) {\r\n        var _this = this;\r\n        return Promise.all(result.map(function (item) {\r\n            if (item === null) {\r\n                return null;\r\n            }\r\n            if (Array.isArray(item)) {\r\n                return _this.resolveSubSelectedArray(field, item, execContext);\r\n            }\r\n            if (field.selectionSet) {\r\n                return _this.resolveSelectionSet(field.selectionSet, item, execContext);\r\n            }\r\n        }));\r\n    };\r\n    return LocalState;\r\n}());\r\nexport { LocalState };\r\n","import { __assign, __extends } from \"tslib\";\r\nimport { invariant } from \"../utilities/globals/index.js\";\r\nimport { equal } from '@wry/equality';\r\nimport { NetworkStatus, isNetworkRequestInFlight } from \"./networkStatus.js\";\r\nimport { compact, cloneDeep, getOperationDefinition, Observable, iterateObserversSafely, isNonEmptyArray, fixObservableSubclass, getQueryDefinition, } from \"../utilities/index.js\";\r\nvar assign = Object.assign, hasOwnProperty = Object.hasOwnProperty;\r\nvar warnedAboutUpdateQuery = false;\r\nvar ObservableQuery = (function (_super) {\r\n    __extends(ObservableQuery, _super);\r\n    function ObservableQuery(_a) {\r\n        var queryManager = _a.queryManager, queryInfo = _a.queryInfo, options = _a.options;\r\n        var _this = _super.call(this, function (observer) {\r\n            try {\r\n                var subObserver = observer._subscription._observer;\r\n                if (subObserver && !subObserver.error) {\r\n                    subObserver.error = defaultSubscriptionObserverErrorCallback;\r\n                }\r\n            }\r\n            catch (_a) { }\r\n            var first = !_this.observers.size;\r\n            _this.observers.add(observer);\r\n            var last = _this.last;\r\n            if (last && last.error) {\r\n                observer.error && observer.error(last.error);\r\n            }\r\n            else if (last && last.result) {\r\n                observer.next && observer.next(last.result);\r\n            }\r\n            if (first) {\r\n                _this.reobserve().catch(function () { });\r\n            }\r\n            return function () {\r\n                if (_this.observers.delete(observer) && !_this.observers.size) {\r\n                    _this.tearDownQuery();\r\n                }\r\n            };\r\n        }) || this;\r\n        _this.observers = new Set();\r\n        _this.subscriptions = new Set();\r\n        _this.isTornDown = false;\r\n        _this.options = options;\r\n        _this.queryId = queryInfo.queryId || queryManager.generateQueryId();\r\n        var opDef = getOperationDefinition(options.query);\r\n        _this.queryName = opDef && opDef.name && opDef.name.value;\r\n        _this.initialFetchPolicy = options.fetchPolicy || \"cache-first\";\r\n        _this.queryManager = queryManager;\r\n        _this.queryInfo = queryInfo;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ObservableQuery.prototype, \"variables\", {\r\n        get: function () {\r\n            return this.options.variables;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ObservableQuery.prototype.result = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var observer = {\r\n                next: function (result) {\r\n                    resolve(result);\r\n                    _this.observers.delete(observer);\r\n                    if (!_this.observers.size) {\r\n                        _this.queryManager.removeQuery(_this.queryId);\r\n                    }\r\n                    setTimeout(function () {\r\n                        subscription.unsubscribe();\r\n                    }, 0);\r\n                },\r\n                error: reject,\r\n            };\r\n            var subscription = _this.subscribe(observer);\r\n        });\r\n    };\r\n    ObservableQuery.prototype.getCurrentResult = function (saveAsLastResult) {\r\n        if (saveAsLastResult === void 0) { saveAsLastResult = true; }\r\n        var lastResult = this.getLastResult(true);\r\n        var networkStatus = this.queryInfo.networkStatus ||\r\n            (lastResult && lastResult.networkStatus) ||\r\n            NetworkStatus.ready;\r\n        var result = __assign(__assign({}, lastResult), { loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus });\r\n        var _a = this.options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a;\r\n        var shouldReturnCachedData = lastResult || (fetchPolicy !== 'network-only' &&\r\n            fetchPolicy !== 'no-cache' &&\r\n            fetchPolicy !== 'standby');\r\n        if (shouldReturnCachedData &&\r\n            !this.queryManager.transform(this.options.query).hasForcedResolvers) {\r\n            var diff = this.queryInfo.getDiff();\r\n            if (diff.complete || this.options.returnPartialData) {\r\n                result.data = diff.result;\r\n            }\r\n            if (equal(result.data, {})) {\r\n                result.data = void 0;\r\n            }\r\n            if (diff.complete) {\r\n                if (result.networkStatus === NetworkStatus.loading &&\r\n                    (fetchPolicy === 'cache-first' ||\r\n                        fetchPolicy === 'cache-only')) {\r\n                    result.networkStatus = NetworkStatus.ready;\r\n                    result.loading = false;\r\n                }\r\n                delete result.partial;\r\n            }\r\n            else if (fetchPolicy !== \"no-cache\") {\r\n                result.partial = true;\r\n            }\r\n            if (__DEV__ &&\r\n                !diff.complete &&\r\n                !this.options.partialRefetch &&\r\n                !result.loading &&\r\n                !result.data &&\r\n                !result.error) {\r\n                logMissingFieldErrors(diff.missing);\r\n            }\r\n        }\r\n        if (saveAsLastResult) {\r\n            this.updateLastResult(result);\r\n        }\r\n        return result;\r\n    };\r\n    ObservableQuery.prototype.isDifferentFromLastResult = function (newResult) {\r\n        return !this.last || !equal(this.last.result, newResult);\r\n    };\r\n    ObservableQuery.prototype.getLast = function (key, variablesMustMatch) {\r\n        var last = this.last;\r\n        if (last &&\r\n            last[key] &&\r\n            (!variablesMustMatch || equal(last.variables, this.variables))) {\r\n            return last[key];\r\n        }\r\n    };\r\n    ObservableQuery.prototype.getLastResult = function (variablesMustMatch) {\r\n        return this.getLast(\"result\", variablesMustMatch);\r\n    };\r\n    ObservableQuery.prototype.getLastError = function (variablesMustMatch) {\r\n        return this.getLast(\"error\", variablesMustMatch);\r\n    };\r\n    ObservableQuery.prototype.resetLastResults = function () {\r\n        delete this.last;\r\n        this.isTornDown = false;\r\n    };\r\n    ObservableQuery.prototype.resetQueryStoreErrors = function () {\r\n        this.queryManager.resetErrors(this.queryId);\r\n    };\r\n    ObservableQuery.prototype.refetch = function (variables) {\r\n        var _a;\r\n        var reobserveOptions = {\r\n            pollInterval: 0,\r\n        };\r\n        var fetchPolicy = this.options.fetchPolicy;\r\n        if (fetchPolicy === 'no-cache') {\r\n            reobserveOptions.fetchPolicy = 'no-cache';\r\n        }\r\n        else if (fetchPolicy !== 'cache-and-network') {\r\n            reobserveOptions.fetchPolicy = 'network-only';\r\n        }\r\n        if (__DEV__ && variables && hasOwnProperty.call(variables, \"variables\")) {\r\n            var queryDef = getQueryDefinition(this.options.query);\r\n            var vars = queryDef.variableDefinitions;\r\n            if (!vars || !vars.some(function (v) { return v.variable.name.value === \"variables\"; })) {\r\n                __DEV__ && invariant.warn(\"Called refetch(\" + JSON.stringify(variables) + \") for query \" + (((_a = queryDef.name) === null || _a === void 0 ? void 0 : _a.value) || JSON.stringify(queryDef)) + \", which does not declare a $variables variable.\\nDid you mean to call refetch(variables) instead of refetch({ variables })?\");\r\n            }\r\n        }\r\n        if (variables && !equal(this.options.variables, variables)) {\r\n            reobserveOptions.variables = this.options.variables = __assign(__assign({}, this.options.variables), variables);\r\n        }\r\n        this.queryInfo.resetLastWrite();\r\n        return this.reobserve(reobserveOptions, NetworkStatus.refetch);\r\n    };\r\n    ObservableQuery.prototype.fetchMore = function (fetchMoreOptions) {\r\n        var _this = this;\r\n        var combinedOptions = __assign(__assign({}, (fetchMoreOptions.query ? fetchMoreOptions : __assign(__assign(__assign({}, this.options), fetchMoreOptions), { variables: __assign(__assign({}, this.options.variables), fetchMoreOptions.variables) }))), { fetchPolicy: \"no-cache\" });\r\n        var qid = this.queryManager.generateQueryId();\r\n        if (combinedOptions.notifyOnNetworkStatusChange) {\r\n            this.queryInfo.networkStatus = NetworkStatus.fetchMore;\r\n            this.observe();\r\n        }\r\n        return this.queryManager.fetchQuery(qid, combinedOptions, NetworkStatus.fetchMore).then(function (fetchMoreResult) {\r\n            var data = fetchMoreResult.data;\r\n            var updateQuery = fetchMoreOptions.updateQuery;\r\n            if (updateQuery) {\r\n                if (__DEV__ &&\r\n                    !warnedAboutUpdateQuery) {\r\n                    __DEV__ && invariant.warn(\"The updateQuery callback for fetchMore is deprecated, and will be removed\\nin the next major version of Apollo Client.\\n\\nPlease convert updateQuery functions to field policies with appropriate\\nread and merge functions, or use/adapt a helper function (such as\\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\\n@apollo/client/utilities.\\n\\nThe field policy system handles pagination more effectively than a\\nhand-written updateQuery function, and you only need to define the policy\\nonce, rather than every time you call fetchMore.\");\r\n                    warnedAboutUpdateQuery = true;\r\n                }\r\n                _this.updateQuery(function (previous) { return updateQuery(previous, {\r\n                    fetchMoreResult: data,\r\n                    variables: combinedOptions.variables,\r\n                }); });\r\n            }\r\n            else {\r\n                _this.queryManager.cache.writeQuery({\r\n                    query: combinedOptions.query,\r\n                    variables: combinedOptions.variables,\r\n                    data: data,\r\n                });\r\n            }\r\n            return fetchMoreResult;\r\n        }).finally(function () {\r\n            _this.queryManager.stopQuery(qid);\r\n            _this.reobserve();\r\n        });\r\n    };\r\n    ObservableQuery.prototype.subscribeToMore = function (options) {\r\n        var _this = this;\r\n        var subscription = this.queryManager\r\n            .startGraphQLSubscription({\r\n            query: options.document,\r\n            variables: options.variables,\r\n            context: options.context,\r\n        })\r\n            .subscribe({\r\n            next: function (subscriptionData) {\r\n                var updateQuery = options.updateQuery;\r\n                if (updateQuery) {\r\n                    _this.updateQuery(function (previous, _a) {\r\n                        var variables = _a.variables;\r\n                        return updateQuery(previous, {\r\n                            subscriptionData: subscriptionData,\r\n                            variables: variables,\r\n                        });\r\n                    });\r\n                }\r\n            },\r\n            error: function (err) {\r\n                if (options.onError) {\r\n                    options.onError(err);\r\n                    return;\r\n                }\r\n                __DEV__ && invariant.error('Unhandled GraphQL subscription error', err);\r\n            },\r\n        });\r\n        this.subscriptions.add(subscription);\r\n        return function () {\r\n            if (_this.subscriptions.delete(subscription)) {\r\n                subscription.unsubscribe();\r\n            }\r\n        };\r\n    };\r\n    ObservableQuery.prototype.setOptions = function (newOptions) {\r\n        return this.reobserve(newOptions);\r\n    };\r\n    ObservableQuery.prototype.setVariables = function (variables) {\r\n        if (equal(this.variables, variables)) {\r\n            return this.observers.size\r\n                ? this.result()\r\n                : Promise.resolve();\r\n        }\r\n        this.options.variables = variables;\r\n        if (!this.observers.size) {\r\n            return Promise.resolve();\r\n        }\r\n        return this.reobserve({\r\n            fetchPolicy: this.initialFetchPolicy,\r\n            variables: variables,\r\n        }, NetworkStatus.setVariables);\r\n    };\r\n    ObservableQuery.prototype.updateQuery = function (mapFn) {\r\n        var queryManager = this.queryManager;\r\n        var result = queryManager.cache.diff({\r\n            query: this.options.query,\r\n            variables: this.variables,\r\n            returnPartialData: true,\r\n            optimistic: false,\r\n        }).result;\r\n        var newResult = mapFn(result, {\r\n            variables: this.variables,\r\n        });\r\n        if (newResult) {\r\n            queryManager.cache.writeQuery({\r\n                query: this.options.query,\r\n                data: newResult,\r\n                variables: this.variables,\r\n            });\r\n            queryManager.broadcastQueries();\r\n        }\r\n    };\r\n    ObservableQuery.prototype.startPolling = function (pollInterval) {\r\n        this.options.pollInterval = pollInterval;\r\n        this.updatePolling();\r\n    };\r\n    ObservableQuery.prototype.stopPolling = function () {\r\n        this.options.pollInterval = 0;\r\n        this.updatePolling();\r\n    };\r\n    ObservableQuery.prototype.fetch = function (options, newNetworkStatus) {\r\n        this.queryManager.setObservableQuery(this);\r\n        return this.queryManager.fetchQueryObservable(this.queryId, options, newNetworkStatus);\r\n    };\r\n    ObservableQuery.prototype.updatePolling = function () {\r\n        var _this = this;\r\n        if (this.queryManager.ssrMode) {\r\n            return;\r\n        }\r\n        var _a = this, pollingInfo = _a.pollingInfo, pollInterval = _a.options.pollInterval;\r\n        if (!pollInterval) {\r\n            if (pollingInfo) {\r\n                clearTimeout(pollingInfo.timeout);\r\n                delete this.pollingInfo;\r\n            }\r\n            return;\r\n        }\r\n        if (pollingInfo &&\r\n            pollingInfo.interval === pollInterval) {\r\n            return;\r\n        }\r\n        __DEV__ ? invariant(pollInterval, 'Attempted to start a polling query without a polling interval.') : invariant(pollInterval, 12);\r\n        var info = pollingInfo || (this.pollingInfo = {});\r\n        info.interval = pollInterval;\r\n        var maybeFetch = function () {\r\n            if (_this.pollingInfo) {\r\n                if (!isNetworkRequestInFlight(_this.queryInfo.networkStatus)) {\r\n                    _this.reobserve({\r\n                        fetchPolicy: \"network-only\",\r\n                    }, NetworkStatus.poll).then(poll, poll);\r\n                }\r\n                else {\r\n                    poll();\r\n                }\r\n            }\r\n            ;\r\n        };\r\n        var poll = function () {\r\n            var info = _this.pollingInfo;\r\n            if (info) {\r\n                clearTimeout(info.timeout);\r\n                info.timeout = setTimeout(maybeFetch, info.interval);\r\n            }\r\n        };\r\n        poll();\r\n    };\r\n    ObservableQuery.prototype.updateLastResult = function (newResult, variables) {\r\n        if (variables === void 0) { variables = this.variables; }\r\n        this.last = __assign(__assign({}, this.last), { result: this.queryManager.assumeImmutableResults\r\n                ? newResult\r\n                : cloneDeep(newResult), variables: variables });\r\n        if (!isNonEmptyArray(newResult.errors)) {\r\n            delete this.last.error;\r\n        }\r\n        return this.last;\r\n    };\r\n    ObservableQuery.prototype.reobserve = function (newOptions, newNetworkStatus) {\r\n        var _this = this;\r\n        this.isTornDown = false;\r\n        var useDisposableConcast = newNetworkStatus === NetworkStatus.refetch ||\r\n            newNetworkStatus === NetworkStatus.fetchMore ||\r\n            newNetworkStatus === NetworkStatus.poll;\r\n        var oldVariables = this.options.variables;\r\n        var options = useDisposableConcast\r\n            ? compact(this.options, newOptions)\r\n            : assign(this.options, compact(newOptions));\r\n        if (!useDisposableConcast) {\r\n            this.updatePolling();\r\n            if (newOptions &&\r\n                newOptions.variables &&\r\n                !newOptions.fetchPolicy &&\r\n                !equal(newOptions.variables, oldVariables)) {\r\n                options.fetchPolicy = this.initialFetchPolicy;\r\n                if (newNetworkStatus === void 0) {\r\n                    newNetworkStatus = NetworkStatus.setVariables;\r\n                }\r\n            }\r\n        }\r\n        var variables = options.variables && __assign({}, options.variables);\r\n        var concast = this.fetch(options, newNetworkStatus);\r\n        var observer = {\r\n            next: function (result) {\r\n                _this.reportResult(result, variables);\r\n            },\r\n            error: function (error) {\r\n                _this.reportError(error, variables);\r\n            },\r\n        };\r\n        if (!useDisposableConcast) {\r\n            if (this.concast && this.observer) {\r\n                this.concast.removeObserver(this.observer, true);\r\n            }\r\n            this.concast = concast;\r\n            this.observer = observer;\r\n        }\r\n        concast.addObserver(observer);\r\n        return concast.promise;\r\n    };\r\n    ObservableQuery.prototype.observe = function () {\r\n        this.reportResult(this.getCurrentResult(false), this.variables);\r\n    };\r\n    ObservableQuery.prototype.reportResult = function (result, variables) {\r\n        if (this.getLastError() || this.isDifferentFromLastResult(result)) {\r\n            this.updateLastResult(result, variables);\r\n            iterateObserversSafely(this.observers, 'next', result);\r\n        }\r\n    };\r\n    ObservableQuery.prototype.reportError = function (error, variables) {\r\n        var errorResult = __assign(__assign({}, this.getLastResult()), { error: error, errors: error.graphQLErrors, networkStatus: NetworkStatus.error, loading: false });\r\n        this.updateLastResult(errorResult, variables);\r\n        iterateObserversSafely(this.observers, 'error', this.last.error = error);\r\n    };\r\n    ObservableQuery.prototype.hasObservers = function () {\r\n        return this.observers.size > 0;\r\n    };\r\n    ObservableQuery.prototype.tearDownQuery = function () {\r\n        if (this.isTornDown)\r\n            return;\r\n        if (this.concast && this.observer) {\r\n            this.concast.removeObserver(this.observer);\r\n            delete this.concast;\r\n            delete this.observer;\r\n        }\r\n        this.stopPolling();\r\n        this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\r\n        this.subscriptions.clear();\r\n        this.queryManager.stopQuery(this.queryId);\r\n        this.observers.clear();\r\n        this.isTornDown = true;\r\n    };\r\n    return ObservableQuery;\r\n}(Observable));\r\nexport { ObservableQuery };\r\nfixObservableSubclass(ObservableQuery);\r\nfunction defaultSubscriptionObserverErrorCallback(error) {\r\n    __DEV__ && invariant.error('Unhandled error', error.message, error.stack);\r\n}\r\nexport function logMissingFieldErrors(missing) {\r\n    if (__DEV__ && isNonEmptyArray(missing)) {\r\n        __DEV__ && invariant.debug(\"Missing cache result fields: \" + missing.map(function (m) { return m.path.join('.'); }).join(', '), missing);\r\n    }\r\n}\r\nexport function applyNextFetchPolicy(options) {\r\n    var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a, nextFetchPolicy = options.nextFetchPolicy;\r\n    if (nextFetchPolicy) {\r\n        options.fetchPolicy = typeof nextFetchPolicy === \"function\"\r\n            ? nextFetchPolicy.call(options, fetchPolicy)\r\n            : nextFetchPolicy;\r\n    }\r\n}\r\n","import { __assign } from \"tslib\";\r\nimport { equal } from \"@wry/equality\";\r\nimport { isNonEmptyArray, graphQLResultHasError, canUseWeakMap, } from \"../utilities/index.js\";\r\nimport { NetworkStatus, isNetworkRequestInFlight, } from \"./networkStatus.js\";\r\n;\r\nvar destructiveMethodCounts = new (canUseWeakMap ? WeakMap : Map)();\r\nfunction wrapDestructiveCacheMethod(cache, methodName) {\r\n    var original = cache[methodName];\r\n    if (typeof original === \"function\") {\r\n        cache[methodName] = function () {\r\n            destructiveMethodCounts.set(cache, (destructiveMethodCounts.get(cache) + 1) % 1e15);\r\n            return original.apply(this, arguments);\r\n        };\r\n    }\r\n}\r\nfunction cancelNotifyTimeout(info) {\r\n    if (info[\"notifyTimeout\"]) {\r\n        clearTimeout(info[\"notifyTimeout\"]);\r\n        info[\"notifyTimeout\"] = void 0;\r\n    }\r\n}\r\nvar QueryInfo = (function () {\r\n    function QueryInfo(queryManager, queryId) {\r\n        if (queryId === void 0) { queryId = queryManager.generateQueryId(); }\r\n        this.queryId = queryId;\r\n        this.listeners = new Set();\r\n        this.document = null;\r\n        this.lastRequestId = 1;\r\n        this.subscriptions = new Set();\r\n        this.stopped = false;\r\n        this.dirty = false;\r\n        this.observableQuery = null;\r\n        var cache = this.cache = queryManager.cache;\r\n        if (!destructiveMethodCounts.has(cache)) {\r\n            destructiveMethodCounts.set(cache, 0);\r\n            wrapDestructiveCacheMethod(cache, \"evict\");\r\n            wrapDestructiveCacheMethod(cache, \"modify\");\r\n            wrapDestructiveCacheMethod(cache, \"reset\");\r\n        }\r\n    }\r\n    QueryInfo.prototype.init = function (query) {\r\n        var networkStatus = query.networkStatus || NetworkStatus.loading;\r\n        if (this.variables &&\r\n            this.networkStatus !== NetworkStatus.loading &&\r\n            !equal(this.variables, query.variables)) {\r\n            networkStatus = NetworkStatus.setVariables;\r\n        }\r\n        if (!equal(query.variables, this.variables)) {\r\n            this.lastDiff = void 0;\r\n        }\r\n        Object.assign(this, {\r\n            document: query.document,\r\n            variables: query.variables,\r\n            networkError: null,\r\n            graphQLErrors: this.graphQLErrors || [],\r\n            networkStatus: networkStatus,\r\n        });\r\n        if (query.observableQuery) {\r\n            this.setObservableQuery(query.observableQuery);\r\n        }\r\n        if (query.lastRequestId) {\r\n            this.lastRequestId = query.lastRequestId;\r\n        }\r\n        return this;\r\n    };\r\n    QueryInfo.prototype.reset = function () {\r\n        cancelNotifyTimeout(this);\r\n        this.lastDiff = void 0;\r\n        this.dirty = false;\r\n    };\r\n    QueryInfo.prototype.getDiff = function (variables) {\r\n        if (variables === void 0) { variables = this.variables; }\r\n        var options = this.getDiffOptions(variables);\r\n        if (this.lastDiff && equal(options, this.lastDiff.options)) {\r\n            return this.lastDiff.diff;\r\n        }\r\n        this.updateWatch(this.variables = variables);\r\n        var oq = this.observableQuery;\r\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\r\n            return { complete: false };\r\n        }\r\n        var diff = this.cache.diff(options);\r\n        this.updateLastDiff(diff, options);\r\n        return diff;\r\n    };\r\n    QueryInfo.prototype.updateLastDiff = function (diff, options) {\r\n        this.lastDiff = diff ? {\r\n            diff: diff,\r\n            options: options || this.getDiffOptions(),\r\n        } : void 0;\r\n    };\r\n    QueryInfo.prototype.getDiffOptions = function (variables) {\r\n        if (variables === void 0) { variables = this.variables; }\r\n        var oq = this.observableQuery;\r\n        return {\r\n            query: this.document,\r\n            variables: variables,\r\n            returnPartialData: true,\r\n            optimistic: true,\r\n            canonizeResults: !oq || oq.options.canonizeResults !== false,\r\n        };\r\n    };\r\n    QueryInfo.prototype.setDiff = function (diff) {\r\n        var _this = this;\r\n        var oldDiff = this.lastDiff && this.lastDiff.diff;\r\n        this.updateLastDiff(diff);\r\n        if (!this.dirty &&\r\n            !equal(oldDiff && oldDiff.result, diff && diff.result)) {\r\n            this.dirty = true;\r\n            if (!this.notifyTimeout) {\r\n                this.notifyTimeout = setTimeout(function () { return _this.notify(); }, 0);\r\n            }\r\n        }\r\n    };\r\n    QueryInfo.prototype.setObservableQuery = function (oq) {\r\n        var _this = this;\r\n        if (oq === this.observableQuery)\r\n            return;\r\n        if (this.oqListener) {\r\n            this.listeners.delete(this.oqListener);\r\n        }\r\n        this.observableQuery = oq;\r\n        if (oq) {\r\n            oq[\"queryInfo\"] = this;\r\n            this.listeners.add(this.oqListener = function () {\r\n                if (_this.getDiff().fromOptimisticTransaction) {\r\n                    oq[\"observe\"]();\r\n                }\r\n                else {\r\n                    oq.reobserve();\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            delete this.oqListener;\r\n        }\r\n    };\r\n    QueryInfo.prototype.notify = function () {\r\n        var _this = this;\r\n        cancelNotifyTimeout(this);\r\n        if (this.shouldNotify()) {\r\n            this.listeners.forEach(function (listener) { return listener(_this); });\r\n        }\r\n        this.dirty = false;\r\n    };\r\n    QueryInfo.prototype.shouldNotify = function () {\r\n        if (!this.dirty || !this.listeners.size) {\r\n            return false;\r\n        }\r\n        if (isNetworkRequestInFlight(this.networkStatus) &&\r\n            this.observableQuery) {\r\n            var fetchPolicy = this.observableQuery.options.fetchPolicy;\r\n            if (fetchPolicy !== \"cache-only\" &&\r\n                fetchPolicy !== \"cache-and-network\") {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    QueryInfo.prototype.stop = function () {\r\n        if (!this.stopped) {\r\n            this.stopped = true;\r\n            this.reset();\r\n            this.cancel();\r\n            this.cancel = QueryInfo.prototype.cancel;\r\n            this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\r\n            var oq = this.observableQuery;\r\n            if (oq)\r\n                oq.stopPolling();\r\n        }\r\n    };\r\n    QueryInfo.prototype.cancel = function () { };\r\n    QueryInfo.prototype.updateWatch = function (variables) {\r\n        var _this = this;\r\n        if (variables === void 0) { variables = this.variables; }\r\n        var oq = this.observableQuery;\r\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\r\n            return;\r\n        }\r\n        var watchOptions = __assign(__assign({}, this.getDiffOptions(variables)), { watcher: this, callback: function (diff) { return _this.setDiff(diff); } });\r\n        if (!this.lastWatch ||\r\n            !equal(watchOptions, this.lastWatch)) {\r\n            this.cancel();\r\n            this.cancel = this.cache.watch(this.lastWatch = watchOptions);\r\n        }\r\n    };\r\n    QueryInfo.prototype.resetLastWrite = function () {\r\n        this.lastWrite = void 0;\r\n    };\r\n    QueryInfo.prototype.shouldWrite = function (result, variables) {\r\n        var lastWrite = this.lastWrite;\r\n        return !(lastWrite &&\r\n            lastWrite.dmCount === destructiveMethodCounts.get(this.cache) &&\r\n            equal(variables, lastWrite.variables) &&\r\n            equal(result.data, lastWrite.result.data));\r\n    };\r\n    QueryInfo.prototype.markResult = function (result, options, cacheWriteBehavior) {\r\n        var _this = this;\r\n        this.graphQLErrors = isNonEmptyArray(result.errors) ? result.errors : [];\r\n        this.reset();\r\n        if (options.fetchPolicy === 'no-cache') {\r\n            this.updateLastDiff({ result: result.data, complete: true }, this.getDiffOptions(options.variables));\r\n        }\r\n        else if (cacheWriteBehavior !== 0) {\r\n            if (shouldWriteResult(result, options.errorPolicy)) {\r\n                this.cache.performTransaction(function (cache) {\r\n                    if (_this.shouldWrite(result, options.variables)) {\r\n                        cache.writeQuery({\r\n                            query: _this.document,\r\n                            data: result.data,\r\n                            variables: options.variables,\r\n                            overwrite: cacheWriteBehavior === 1,\r\n                        });\r\n                        _this.lastWrite = {\r\n                            result: result,\r\n                            variables: options.variables,\r\n                            dmCount: destructiveMethodCounts.get(_this.cache),\r\n                        };\r\n                    }\r\n                    else {\r\n                        if (_this.lastDiff &&\r\n                            _this.lastDiff.diff.complete) {\r\n                            result.data = _this.lastDiff.diff.result;\r\n                            return;\r\n                        }\r\n                    }\r\n                    var diffOptions = _this.getDiffOptions(options.variables);\r\n                    var diff = cache.diff(diffOptions);\r\n                    if (!_this.stopped) {\r\n                        _this.updateWatch(options.variables);\r\n                    }\r\n                    _this.updateLastDiff(diff, diffOptions);\r\n                    if (diff.complete) {\r\n                        result.data = diff.result;\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                this.lastWrite = void 0;\r\n            }\r\n        }\r\n    };\r\n    QueryInfo.prototype.markReady = function () {\r\n        this.networkError = null;\r\n        return this.networkStatus = NetworkStatus.ready;\r\n    };\r\n    QueryInfo.prototype.markError = function (error) {\r\n        this.networkStatus = NetworkStatus.error;\r\n        this.lastWrite = void 0;\r\n        this.reset();\r\n        if (error.graphQLErrors) {\r\n            this.graphQLErrors = error.graphQLErrors;\r\n        }\r\n        if (error.networkError) {\r\n            this.networkError = error.networkError;\r\n        }\r\n        return error;\r\n    };\r\n    return QueryInfo;\r\n}());\r\nexport { QueryInfo };\r\nexport function shouldWriteResult(result, errorPolicy) {\r\n    if (errorPolicy === void 0) { errorPolicy = \"none\"; }\r\n    var ignoreErrors = errorPolicy === \"ignore\" ||\r\n        errorPolicy === \"all\";\r\n    var writeWithErrors = !graphQLResultHasError(result);\r\n    if (!writeWithErrors && ignoreErrors && result.data) {\r\n        writeWithErrors = true;\r\n    }\r\n    return writeWithErrors;\r\n}\r\n","import { __assign, __awaiter, __generator } from \"tslib\";\r\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\r\nimport { equal } from '@wry/equality';\r\nimport { execute } from \"../link/core/index.js\";\r\nimport { canonicalStringify } from \"../cache/index.js\";\r\nimport { getDefaultValues, getOperationDefinition, getOperationName, hasClientExports, graphQLResultHasError, removeConnectionDirectiveFromDocument, canUseWeakMap, Observable, asyncMap, isNonEmptyArray, Concast, makeUniqueId, isDocumentNode, isNonNullObject, } from \"../utilities/index.js\";\r\nimport { ApolloError, isApolloError } from \"../errors/index.js\";\r\nimport { ObservableQuery, applyNextFetchPolicy, logMissingFieldErrors } from \"./ObservableQuery.js\";\r\nimport { NetworkStatus, isNetworkRequestInFlight } from \"./networkStatus.js\";\r\nimport { LocalState } from \"./LocalState.js\";\r\nimport { QueryInfo, shouldWriteResult, } from \"./QueryInfo.js\";\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar QueryManager = (function () {\r\n    function QueryManager(_a) {\r\n        var cache = _a.cache, link = _a.link, _b = _a.queryDeduplication, queryDeduplication = _b === void 0 ? false : _b, onBroadcast = _a.onBroadcast, _c = _a.ssrMode, ssrMode = _c === void 0 ? false : _c, _d = _a.clientAwareness, clientAwareness = _d === void 0 ? {} : _d, localState = _a.localState, assumeImmutableResults = _a.assumeImmutableResults;\r\n        this.clientAwareness = {};\r\n        this.queries = new Map();\r\n        this.fetchCancelFns = new Map();\r\n        this.transformCache = new (canUseWeakMap ? WeakMap : Map)();\r\n        this.queryIdCounter = 1;\r\n        this.requestIdCounter = 1;\r\n        this.mutationIdCounter = 1;\r\n        this.inFlightLinkObservables = new Map();\r\n        this.cache = cache;\r\n        this.link = link;\r\n        this.queryDeduplication = queryDeduplication;\r\n        this.clientAwareness = clientAwareness;\r\n        this.localState = localState || new LocalState({ cache: cache });\r\n        this.ssrMode = ssrMode;\r\n        this.assumeImmutableResults = !!assumeImmutableResults;\r\n        if ((this.onBroadcast = onBroadcast)) {\r\n            this.mutationStore = Object.create(null);\r\n        }\r\n    }\r\n    QueryManager.prototype.stop = function () {\r\n        var _this = this;\r\n        this.queries.forEach(function (_info, queryId) {\r\n            _this.stopQueryNoBroadcast(queryId);\r\n        });\r\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('QueryManager stopped while query was in flight') : new InvariantError(13));\r\n    };\r\n    QueryManager.prototype.cancelPendingFetches = function (error) {\r\n        this.fetchCancelFns.forEach(function (cancel) { return cancel(error); });\r\n        this.fetchCancelFns.clear();\r\n    };\r\n    QueryManager.prototype.mutate = function (_a) {\r\n        var mutation = _a.mutation, variables = _a.variables, optimisticResponse = _a.optimisticResponse, updateQueries = _a.updateQueries, _b = _a.refetchQueries, refetchQueries = _b === void 0 ? [] : _b, _c = _a.awaitRefetchQueries, awaitRefetchQueries = _c === void 0 ? false : _c, updateWithProxyFn = _a.update, onQueryUpdated = _a.onQueryUpdated, _d = _a.errorPolicy, errorPolicy = _d === void 0 ? 'none' : _d, _e = _a.fetchPolicy, fetchPolicy = _e === void 0 ? 'network-only' : _e, keepRootFields = _a.keepRootFields, context = _a.context;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var mutationId, mutationStoreValue, self;\r\n            return __generator(this, function (_f) {\r\n                switch (_f.label) {\r\n                    case 0:\r\n                        __DEV__ ? invariant(mutation, 'mutation option is required. You must specify your GraphQL document in the mutation option.') : invariant(mutation, 14);\r\n                        __DEV__ ? invariant(fetchPolicy === 'network-only' ||\r\n                            fetchPolicy === 'no-cache', \"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write.\") : invariant(fetchPolicy === 'network-only' ||\r\n                            fetchPolicy === 'no-cache', 15);\r\n                        mutationId = this.generateMutationId();\r\n                        mutation = this.transform(mutation).document;\r\n                        variables = this.getVariables(mutation, variables);\r\n                        if (!this.transform(mutation).hasClientExports) return [3, 2];\r\n                        return [4, this.localState.addExportedVariables(mutation, variables, context)];\r\n                    case 1:\r\n                        variables = (_f.sent());\r\n                        _f.label = 2;\r\n                    case 2:\r\n                        mutationStoreValue = this.mutationStore &&\r\n                            (this.mutationStore[mutationId] = {\r\n                                mutation: mutation,\r\n                                variables: variables,\r\n                                loading: true,\r\n                                error: null,\r\n                            });\r\n                        if (optimisticResponse) {\r\n                            this.markMutationOptimistic(optimisticResponse, {\r\n                                mutationId: mutationId,\r\n                                document: mutation,\r\n                                variables: variables,\r\n                                fetchPolicy: fetchPolicy,\r\n                                errorPolicy: errorPolicy,\r\n                                context: context,\r\n                                updateQueries: updateQueries,\r\n                                update: updateWithProxyFn,\r\n                                keepRootFields: keepRootFields,\r\n                            });\r\n                        }\r\n                        this.broadcastQueries();\r\n                        self = this;\r\n                        return [2, new Promise(function (resolve, reject) {\r\n                                return asyncMap(self.getObservableFromLink(mutation, __assign(__assign({}, context), { optimisticResponse: optimisticResponse }), variables, false), function (result) {\r\n                                    if (graphQLResultHasError(result) && errorPolicy === 'none') {\r\n                                        throw new ApolloError({\r\n                                            graphQLErrors: result.errors,\r\n                                        });\r\n                                    }\r\n                                    if (mutationStoreValue) {\r\n                                        mutationStoreValue.loading = false;\r\n                                        mutationStoreValue.error = null;\r\n                                    }\r\n                                    var storeResult = __assign({}, result);\r\n                                    if (typeof refetchQueries === \"function\") {\r\n                                        refetchQueries = refetchQueries(storeResult);\r\n                                    }\r\n                                    if (errorPolicy === 'ignore' &&\r\n                                        graphQLResultHasError(storeResult)) {\r\n                                        delete storeResult.errors;\r\n                                    }\r\n                                    return self.markMutationResult({\r\n                                        mutationId: mutationId,\r\n                                        result: storeResult,\r\n                                        document: mutation,\r\n                                        variables: variables,\r\n                                        fetchPolicy: fetchPolicy,\r\n                                        errorPolicy: errorPolicy,\r\n                                        context: context,\r\n                                        update: updateWithProxyFn,\r\n                                        updateQueries: updateQueries,\r\n                                        awaitRefetchQueries: awaitRefetchQueries,\r\n                                        refetchQueries: refetchQueries,\r\n                                        removeOptimistic: optimisticResponse ? mutationId : void 0,\r\n                                        onQueryUpdated: onQueryUpdated,\r\n                                        keepRootFields: keepRootFields,\r\n                                    });\r\n                                }).subscribe({\r\n                                    next: function (storeResult) {\r\n                                        self.broadcastQueries();\r\n                                        resolve(storeResult);\r\n                                    },\r\n                                    error: function (err) {\r\n                                        if (mutationStoreValue) {\r\n                                            mutationStoreValue.loading = false;\r\n                                            mutationStoreValue.error = err;\r\n                                        }\r\n                                        if (optimisticResponse) {\r\n                                            self.cache.removeOptimistic(mutationId);\r\n                                        }\r\n                                        self.broadcastQueries();\r\n                                        reject(err instanceof ApolloError ? err : new ApolloError({\r\n                                            networkError: err,\r\n                                        }));\r\n                                    },\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    QueryManager.prototype.markMutationResult = function (mutation, cache) {\r\n        var _this = this;\r\n        if (cache === void 0) { cache = this.cache; }\r\n        var result = mutation.result;\r\n        var cacheWrites = [];\r\n        var skipCache = mutation.fetchPolicy === \"no-cache\";\r\n        if (!skipCache && shouldWriteResult(result, mutation.errorPolicy)) {\r\n            cacheWrites.push({\r\n                result: result.data,\r\n                dataId: 'ROOT_MUTATION',\r\n                query: mutation.document,\r\n                variables: mutation.variables,\r\n            });\r\n            var updateQueries_1 = mutation.updateQueries;\r\n            if (updateQueries_1) {\r\n                this.queries.forEach(function (_a, queryId) {\r\n                    var observableQuery = _a.observableQuery;\r\n                    var queryName = observableQuery && observableQuery.queryName;\r\n                    if (!queryName || !hasOwnProperty.call(updateQueries_1, queryName)) {\r\n                        return;\r\n                    }\r\n                    var updater = updateQueries_1[queryName];\r\n                    var _b = _this.queries.get(queryId), document = _b.document, variables = _b.variables;\r\n                    var _c = cache.diff({\r\n                        query: document,\r\n                        variables: variables,\r\n                        returnPartialData: true,\r\n                        optimistic: false,\r\n                    }), currentQueryResult = _c.result, complete = _c.complete;\r\n                    if (complete && currentQueryResult) {\r\n                        var nextQueryResult = updater(currentQueryResult, {\r\n                            mutationResult: result,\r\n                            queryName: document && getOperationName(document) || void 0,\r\n                            queryVariables: variables,\r\n                        });\r\n                        if (nextQueryResult) {\r\n                            cacheWrites.push({\r\n                                result: nextQueryResult,\r\n                                dataId: 'ROOT_QUERY',\r\n                                query: document,\r\n                                variables: variables,\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        if (cacheWrites.length > 0 ||\r\n            mutation.refetchQueries ||\r\n            mutation.update ||\r\n            mutation.onQueryUpdated ||\r\n            mutation.removeOptimistic) {\r\n            var results_1 = [];\r\n            this.refetchQueries({\r\n                updateCache: function (cache) {\r\n                    if (!skipCache) {\r\n                        cacheWrites.forEach(function (write) { return cache.write(write); });\r\n                    }\r\n                    var update = mutation.update;\r\n                    if (update) {\r\n                        if (!skipCache) {\r\n                            var diff = cache.diff({\r\n                                id: \"ROOT_MUTATION\",\r\n                                query: _this.transform(mutation.document).asQuery,\r\n                                variables: mutation.variables,\r\n                                optimistic: false,\r\n                                returnPartialData: true,\r\n                            });\r\n                            if (diff.complete) {\r\n                                result = __assign(__assign({}, result), { data: diff.result });\r\n                            }\r\n                        }\r\n                        update(cache, result, {\r\n                            context: mutation.context,\r\n                            variables: mutation.variables,\r\n                        });\r\n                    }\r\n                    if (!skipCache && !mutation.keepRootFields) {\r\n                        cache.modify({\r\n                            id: 'ROOT_MUTATION',\r\n                            fields: function (value, _a) {\r\n                                var fieldName = _a.fieldName, DELETE = _a.DELETE;\r\n                                return fieldName === \"__typename\" ? value : DELETE;\r\n                            },\r\n                        });\r\n                    }\r\n                },\r\n                include: mutation.refetchQueries,\r\n                optimistic: false,\r\n                removeOptimistic: mutation.removeOptimistic,\r\n                onQueryUpdated: mutation.onQueryUpdated || null,\r\n            }).forEach(function (result) { return results_1.push(result); });\r\n            if (mutation.awaitRefetchQueries || mutation.onQueryUpdated) {\r\n                return Promise.all(results_1).then(function () { return result; });\r\n            }\r\n        }\r\n        return Promise.resolve(result);\r\n    };\r\n    QueryManager.prototype.markMutationOptimistic = function (optimisticResponse, mutation) {\r\n        var _this = this;\r\n        var data = typeof optimisticResponse === \"function\"\r\n            ? optimisticResponse(mutation.variables)\r\n            : optimisticResponse;\r\n        return this.cache.recordOptimisticTransaction(function (cache) {\r\n            try {\r\n                _this.markMutationResult(__assign(__assign({}, mutation), { result: { data: data } }), cache);\r\n            }\r\n            catch (error) {\r\n                __DEV__ && invariant.error(error);\r\n            }\r\n        }, mutation.mutationId);\r\n    };\r\n    QueryManager.prototype.fetchQuery = function (queryId, options, networkStatus) {\r\n        return this.fetchQueryObservable(queryId, options, networkStatus).promise;\r\n    };\r\n    QueryManager.prototype.getQueryStore = function () {\r\n        var store = Object.create(null);\r\n        this.queries.forEach(function (info, queryId) {\r\n            store[queryId] = {\r\n                variables: info.variables,\r\n                networkStatus: info.networkStatus,\r\n                networkError: info.networkError,\r\n                graphQLErrors: info.graphQLErrors,\r\n            };\r\n        });\r\n        return store;\r\n    };\r\n    QueryManager.prototype.resetErrors = function (queryId) {\r\n        var queryInfo = this.queries.get(queryId);\r\n        if (queryInfo) {\r\n            queryInfo.networkError = undefined;\r\n            queryInfo.graphQLErrors = [];\r\n        }\r\n    };\r\n    QueryManager.prototype.transform = function (document) {\r\n        var transformCache = this.transformCache;\r\n        if (!transformCache.has(document)) {\r\n            var transformed = this.cache.transformDocument(document);\r\n            var forLink = removeConnectionDirectiveFromDocument(this.cache.transformForLink(transformed));\r\n            var clientQuery = this.localState.clientQuery(transformed);\r\n            var serverQuery = forLink && this.localState.serverQuery(forLink);\r\n            var cacheEntry_1 = {\r\n                document: transformed,\r\n                hasClientExports: hasClientExports(transformed),\r\n                hasForcedResolvers: this.localState.shouldForceResolvers(transformed),\r\n                clientQuery: clientQuery,\r\n                serverQuery: serverQuery,\r\n                defaultVars: getDefaultValues(getOperationDefinition(transformed)),\r\n                asQuery: __assign(__assign({}, transformed), { definitions: transformed.definitions.map(function (def) {\r\n                        if (def.kind === \"OperationDefinition\" &&\r\n                            def.operation !== \"query\") {\r\n                            return __assign(__assign({}, def), { operation: \"query\" });\r\n                        }\r\n                        return def;\r\n                    }) })\r\n            };\r\n            var add = function (doc) {\r\n                if (doc && !transformCache.has(doc)) {\r\n                    transformCache.set(doc, cacheEntry_1);\r\n                }\r\n            };\r\n            add(document);\r\n            add(transformed);\r\n            add(clientQuery);\r\n            add(serverQuery);\r\n        }\r\n        return transformCache.get(document);\r\n    };\r\n    QueryManager.prototype.getVariables = function (document, variables) {\r\n        return __assign(__assign({}, this.transform(document).defaultVars), variables);\r\n    };\r\n    QueryManager.prototype.watchQuery = function (options) {\r\n        options = __assign(__assign({}, options), { variables: this.getVariables(options.query, options.variables) });\r\n        if (typeof options.notifyOnNetworkStatusChange === 'undefined') {\r\n            options.notifyOnNetworkStatusChange = false;\r\n        }\r\n        var queryInfo = new QueryInfo(this);\r\n        var observable = new ObservableQuery({\r\n            queryManager: this,\r\n            queryInfo: queryInfo,\r\n            options: options,\r\n        });\r\n        this.queries.set(observable.queryId, queryInfo);\r\n        queryInfo.init({\r\n            document: options.query,\r\n            observableQuery: observable,\r\n            variables: options.variables,\r\n        });\r\n        return observable;\r\n    };\r\n    QueryManager.prototype.query = function (options, queryId) {\r\n        var _this = this;\r\n        if (queryId === void 0) { queryId = this.generateQueryId(); }\r\n        __DEV__ ? invariant(options.query, 'query option is required. You must specify your GraphQL document ' +\r\n            'in the query option.') : invariant(options.query, 16);\r\n        __DEV__ ? invariant(options.query.kind === 'Document', 'You must wrap the query string in a \"gql\" tag.') : invariant(options.query.kind === 'Document', 17);\r\n        __DEV__ ? invariant(!options.returnPartialData, 'returnPartialData option only supported on watchQuery.') : invariant(!options.returnPartialData, 18);\r\n        __DEV__ ? invariant(!options.pollInterval, 'pollInterval option only supported on watchQuery.') : invariant(!options.pollInterval, 19);\r\n        return this.fetchQuery(queryId, options).finally(function () { return _this.stopQuery(queryId); });\r\n    };\r\n    QueryManager.prototype.generateQueryId = function () {\r\n        return String(this.queryIdCounter++);\r\n    };\r\n    QueryManager.prototype.generateRequestId = function () {\r\n        return this.requestIdCounter++;\r\n    };\r\n    QueryManager.prototype.generateMutationId = function () {\r\n        return String(this.mutationIdCounter++);\r\n    };\r\n    QueryManager.prototype.stopQueryInStore = function (queryId) {\r\n        this.stopQueryInStoreNoBroadcast(queryId);\r\n        this.broadcastQueries();\r\n    };\r\n    QueryManager.prototype.stopQueryInStoreNoBroadcast = function (queryId) {\r\n        var queryInfo = this.queries.get(queryId);\r\n        if (queryInfo)\r\n            queryInfo.stop();\r\n    };\r\n    QueryManager.prototype.clearStore = function () {\r\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('Store reset while query was in flight (not completed in link chain)') : new InvariantError(20));\r\n        this.queries.forEach(function (queryInfo) {\r\n            if (queryInfo.observableQuery) {\r\n                queryInfo.networkStatus = NetworkStatus.loading;\r\n            }\r\n            else {\r\n                queryInfo.stop();\r\n            }\r\n        });\r\n        if (this.mutationStore) {\r\n            this.mutationStore = Object.create(null);\r\n        }\r\n        return this.cache.reset();\r\n    };\r\n    QueryManager.prototype.resetStore = function () {\r\n        var _this = this;\r\n        return this.clearStore().then(function () {\r\n            return _this.reFetchObservableQueries();\r\n        });\r\n    };\r\n    QueryManager.prototype.getObservableQueries = function (include) {\r\n        var _this = this;\r\n        if (include === void 0) { include = \"active\"; }\r\n        var queries = new Map();\r\n        var queryNamesAndDocs = new Map();\r\n        var legacyQueryOptions = new Set();\r\n        if (Array.isArray(include)) {\r\n            include.forEach(function (desc) {\r\n                if (typeof desc === \"string\") {\r\n                    queryNamesAndDocs.set(desc, false);\r\n                }\r\n                else if (isDocumentNode(desc)) {\r\n                    queryNamesAndDocs.set(_this.transform(desc).document, false);\r\n                }\r\n                else if (isNonNullObject(desc) && desc.query) {\r\n                    legacyQueryOptions.add(desc);\r\n                }\r\n            });\r\n        }\r\n        this.queries.forEach(function (_a, queryId) {\r\n            var oq = _a.observableQuery, document = _a.document;\r\n            if (oq) {\r\n                if (include === \"all\") {\r\n                    queries.set(queryId, oq);\r\n                    return;\r\n                }\r\n                var queryName = oq.queryName, fetchPolicy = oq.options.fetchPolicy;\r\n                if (fetchPolicy === \"standby\" || !oq.hasObservers()) {\r\n                    return;\r\n                }\r\n                if (include === \"active\" ||\r\n                    (queryName && queryNamesAndDocs.has(queryName)) ||\r\n                    (document && queryNamesAndDocs.has(document))) {\r\n                    queries.set(queryId, oq);\r\n                    if (queryName)\r\n                        queryNamesAndDocs.set(queryName, true);\r\n                    if (document)\r\n                        queryNamesAndDocs.set(document, true);\r\n                }\r\n            }\r\n        });\r\n        if (legacyQueryOptions.size) {\r\n            legacyQueryOptions.forEach(function (options) {\r\n                var queryId = makeUniqueId(\"legacyOneTimeQuery\");\r\n                var queryInfo = _this.getQuery(queryId).init({\r\n                    document: options.query,\r\n                    variables: options.variables,\r\n                });\r\n                var oq = new ObservableQuery({\r\n                    queryManager: _this,\r\n                    queryInfo: queryInfo,\r\n                    options: __assign(__assign({}, options), { fetchPolicy: \"network-only\" }),\r\n                });\r\n                invariant(oq.queryId === queryId);\r\n                queryInfo.setObservableQuery(oq);\r\n                queries.set(queryId, oq);\r\n            });\r\n        }\r\n        if (__DEV__ && queryNamesAndDocs.size) {\r\n            queryNamesAndDocs.forEach(function (included, nameOrDoc) {\r\n                if (!included) {\r\n                    __DEV__ && invariant.warn(\"Unknown query \" + (typeof nameOrDoc === \"string\" ? \"named \" : \"\") + JSON.stringify(nameOrDoc, null, 2) + \" requested in refetchQueries options.include array\");\r\n                }\r\n            });\r\n        }\r\n        return queries;\r\n    };\r\n    QueryManager.prototype.reFetchObservableQueries = function (includeStandby) {\r\n        var _this = this;\r\n        if (includeStandby === void 0) { includeStandby = false; }\r\n        var observableQueryPromises = [];\r\n        this.getObservableQueries(includeStandby ? \"all\" : \"active\").forEach(function (observableQuery, queryId) {\r\n            var fetchPolicy = observableQuery.options.fetchPolicy;\r\n            observableQuery.resetLastResults();\r\n            if (includeStandby ||\r\n                (fetchPolicy !== \"standby\" &&\r\n                    fetchPolicy !== \"cache-only\")) {\r\n                observableQueryPromises.push(observableQuery.refetch());\r\n            }\r\n            _this.getQuery(queryId).setDiff(null);\r\n        });\r\n        this.broadcastQueries();\r\n        return Promise.all(observableQueryPromises);\r\n    };\r\n    QueryManager.prototype.setObservableQuery = function (observableQuery) {\r\n        this.getQuery(observableQuery.queryId).setObservableQuery(observableQuery);\r\n    };\r\n    QueryManager.prototype.startGraphQLSubscription = function (_a) {\r\n        var _this = this;\r\n        var query = _a.query, fetchPolicy = _a.fetchPolicy, errorPolicy = _a.errorPolicy, variables = _a.variables, _b = _a.context, context = _b === void 0 ? {} : _b;\r\n        query = this.transform(query).document;\r\n        variables = this.getVariables(query, variables);\r\n        var makeObservable = function (variables) {\r\n            return _this.getObservableFromLink(query, context, variables).map(function (result) {\r\n                if (fetchPolicy !== 'no-cache') {\r\n                    if (shouldWriteResult(result, errorPolicy)) {\r\n                        _this.cache.write({\r\n                            query: query,\r\n                            result: result.data,\r\n                            dataId: 'ROOT_SUBSCRIPTION',\r\n                            variables: variables,\r\n                        });\r\n                    }\r\n                    _this.broadcastQueries();\r\n                }\r\n                if (graphQLResultHasError(result)) {\r\n                    throw new ApolloError({\r\n                        graphQLErrors: result.errors,\r\n                    });\r\n                }\r\n                return result;\r\n            });\r\n        };\r\n        if (this.transform(query).hasClientExports) {\r\n            var observablePromise_1 = this.localState.addExportedVariables(query, variables, context).then(makeObservable);\r\n            return new Observable(function (observer) {\r\n                var sub = null;\r\n                observablePromise_1.then(function (observable) { return sub = observable.subscribe(observer); }, observer.error);\r\n                return function () { return sub && sub.unsubscribe(); };\r\n            });\r\n        }\r\n        return makeObservable(variables);\r\n    };\r\n    QueryManager.prototype.stopQuery = function (queryId) {\r\n        this.stopQueryNoBroadcast(queryId);\r\n        this.broadcastQueries();\r\n    };\r\n    QueryManager.prototype.stopQueryNoBroadcast = function (queryId) {\r\n        this.stopQueryInStoreNoBroadcast(queryId);\r\n        this.removeQuery(queryId);\r\n    };\r\n    QueryManager.prototype.removeQuery = function (queryId) {\r\n        this.fetchCancelFns.delete(queryId);\r\n        this.getQuery(queryId).stop();\r\n        this.queries.delete(queryId);\r\n    };\r\n    QueryManager.prototype.broadcastQueries = function () {\r\n        if (this.onBroadcast)\r\n            this.onBroadcast();\r\n        this.queries.forEach(function (info) { return info.notify(); });\r\n    };\r\n    QueryManager.prototype.getLocalState = function () {\r\n        return this.localState;\r\n    };\r\n    QueryManager.prototype.getObservableFromLink = function (query, context, variables, deduplication) {\r\n        var _this = this;\r\n        var _a;\r\n        if (deduplication === void 0) { deduplication = (_a = context === null || context === void 0 ? void 0 : context.queryDeduplication) !== null && _a !== void 0 ? _a : this.queryDeduplication; }\r\n        var observable;\r\n        var serverQuery = this.transform(query).serverQuery;\r\n        if (serverQuery) {\r\n            var _b = this, inFlightLinkObservables_1 = _b.inFlightLinkObservables, link = _b.link;\r\n            var operation = {\r\n                query: serverQuery,\r\n                variables: variables,\r\n                operationName: getOperationName(serverQuery) || void 0,\r\n                context: this.prepareContext(__assign(__assign({}, context), { forceFetch: !deduplication })),\r\n            };\r\n            context = operation.context;\r\n            if (deduplication) {\r\n                var byVariables_1 = inFlightLinkObservables_1.get(serverQuery) || new Map();\r\n                inFlightLinkObservables_1.set(serverQuery, byVariables_1);\r\n                var varJson_1 = canonicalStringify(variables);\r\n                observable = byVariables_1.get(varJson_1);\r\n                if (!observable) {\r\n                    var concast = new Concast([\r\n                        execute(link, operation)\r\n                    ]);\r\n                    byVariables_1.set(varJson_1, observable = concast);\r\n                    concast.cleanup(function () {\r\n                        if (byVariables_1.delete(varJson_1) &&\r\n                            byVariables_1.size < 1) {\r\n                            inFlightLinkObservables_1.delete(serverQuery);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                observable = new Concast([\r\n                    execute(link, operation)\r\n                ]);\r\n            }\r\n        }\r\n        else {\r\n            observable = new Concast([\r\n                Observable.of({ data: {} })\r\n            ]);\r\n            context = this.prepareContext(context);\r\n        }\r\n        var clientQuery = this.transform(query).clientQuery;\r\n        if (clientQuery) {\r\n            observable = asyncMap(observable, function (result) {\r\n                return _this.localState.runResolvers({\r\n                    document: clientQuery,\r\n                    remoteResult: result,\r\n                    context: context,\r\n                    variables: variables,\r\n                });\r\n            });\r\n        }\r\n        return observable;\r\n    };\r\n    QueryManager.prototype.getResultsFromLink = function (queryInfo, cacheWriteBehavior, options) {\r\n        var requestId = queryInfo.lastRequestId = this.generateRequestId();\r\n        return asyncMap(this.getObservableFromLink(queryInfo.document, options.context, options.variables), function (result) {\r\n            var hasErrors = isNonEmptyArray(result.errors);\r\n            if (requestId >= queryInfo.lastRequestId) {\r\n                if (hasErrors && options.errorPolicy === \"none\") {\r\n                    throw queryInfo.markError(new ApolloError({\r\n                        graphQLErrors: result.errors,\r\n                    }));\r\n                }\r\n                queryInfo.markResult(result, options, cacheWriteBehavior);\r\n                queryInfo.markReady();\r\n            }\r\n            var aqr = {\r\n                data: result.data,\r\n                loading: false,\r\n                networkStatus: queryInfo.networkStatus || NetworkStatus.ready,\r\n            };\r\n            if (hasErrors && options.errorPolicy !== \"ignore\") {\r\n                aqr.errors = result.errors;\r\n            }\r\n            return aqr;\r\n        }, function (networkError) {\r\n            var error = isApolloError(networkError)\r\n                ? networkError\r\n                : new ApolloError({ networkError: networkError });\r\n            if (requestId >= queryInfo.lastRequestId) {\r\n                queryInfo.markError(error);\r\n            }\r\n            throw error;\r\n        });\r\n    };\r\n    QueryManager.prototype.fetchQueryObservable = function (queryId, options, networkStatus) {\r\n        var _this = this;\r\n        if (networkStatus === void 0) { networkStatus = NetworkStatus.loading; }\r\n        var query = this.transform(options.query).document;\r\n        var variables = this.getVariables(query, options.variables);\r\n        var queryInfo = this.getQuery(queryId);\r\n        var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a, _b = options.errorPolicy, errorPolicy = _b === void 0 ? \"none\" : _b, _c = options.returnPartialData, returnPartialData = _c === void 0 ? false : _c, _d = options.notifyOnNetworkStatusChange, notifyOnNetworkStatusChange = _d === void 0 ? false : _d, _e = options.context, context = _e === void 0 ? {} : _e;\r\n        var normalized = Object.assign({}, options, {\r\n            query: query,\r\n            variables: variables,\r\n            fetchPolicy: fetchPolicy,\r\n            errorPolicy: errorPolicy,\r\n            returnPartialData: returnPartialData,\r\n            notifyOnNetworkStatusChange: notifyOnNetworkStatusChange,\r\n            context: context,\r\n        });\r\n        var fromVariables = function (variables) {\r\n            normalized.variables = variables;\r\n            return _this.fetchQueryByPolicy(queryInfo, normalized, networkStatus);\r\n        };\r\n        this.fetchCancelFns.set(queryId, function (reason) {\r\n            setTimeout(function () { return concast.cancel(reason); });\r\n        });\r\n        var concast = new Concast(this.transform(normalized.query).hasClientExports\r\n            ? this.localState.addExportedVariables(normalized.query, normalized.variables, normalized.context).then(fromVariables)\r\n            : fromVariables(normalized.variables));\r\n        concast.cleanup(function () {\r\n            _this.fetchCancelFns.delete(queryId);\r\n            applyNextFetchPolicy(options);\r\n        });\r\n        return concast;\r\n    };\r\n    QueryManager.prototype.refetchQueries = function (_a) {\r\n        var _this = this;\r\n        var updateCache = _a.updateCache, include = _a.include, _b = _a.optimistic, optimistic = _b === void 0 ? false : _b, _c = _a.removeOptimistic, removeOptimistic = _c === void 0 ? optimistic ? makeUniqueId(\"refetchQueries\") : void 0 : _c, onQueryUpdated = _a.onQueryUpdated;\r\n        var includedQueriesById = new Map();\r\n        if (include) {\r\n            this.getObservableQueries(include).forEach(function (oq, queryId) {\r\n                includedQueriesById.set(queryId, {\r\n                    oq: oq,\r\n                    lastDiff: _this.getQuery(queryId).getDiff(),\r\n                });\r\n            });\r\n        }\r\n        var results = new Map;\r\n        if (updateCache) {\r\n            this.cache.batch({\r\n                update: updateCache,\r\n                optimistic: optimistic && removeOptimistic || false,\r\n                removeOptimistic: removeOptimistic,\r\n                onWatchUpdated: function (watch, diff, lastDiff) {\r\n                    var oq = watch.watcher instanceof QueryInfo &&\r\n                        watch.watcher.observableQuery;\r\n                    if (oq) {\r\n                        if (onQueryUpdated) {\r\n                            includedQueriesById.delete(oq.queryId);\r\n                            var result = onQueryUpdated(oq, diff, lastDiff);\r\n                            if (result === true) {\r\n                                result = oq.refetch();\r\n                            }\r\n                            if (result !== false) {\r\n                                results.set(oq, result);\r\n                            }\r\n                            return false;\r\n                        }\r\n                        if (onQueryUpdated !== null) {\r\n                            includedQueriesById.set(oq.queryId, { oq: oq, lastDiff: lastDiff, diff: diff });\r\n                        }\r\n                    }\r\n                },\r\n            });\r\n        }\r\n        if (includedQueriesById.size) {\r\n            includedQueriesById.forEach(function (_a, queryId) {\r\n                var oq = _a.oq, lastDiff = _a.lastDiff, diff = _a.diff;\r\n                var result;\r\n                if (onQueryUpdated) {\r\n                    if (!diff) {\r\n                        var info = oq[\"queryInfo\"];\r\n                        info.reset();\r\n                        diff = info.getDiff();\r\n                    }\r\n                    result = onQueryUpdated(oq, diff, lastDiff);\r\n                }\r\n                if (!onQueryUpdated || result === true) {\r\n                    result = oq.refetch();\r\n                }\r\n                if (result !== false) {\r\n                    results.set(oq, result);\r\n                }\r\n                if (queryId.indexOf(\"legacyOneTimeQuery\") >= 0) {\r\n                    _this.stopQueryNoBroadcast(queryId);\r\n                }\r\n            });\r\n        }\r\n        if (removeOptimistic) {\r\n            this.cache.removeOptimistic(removeOptimistic);\r\n        }\r\n        return results;\r\n    };\r\n    QueryManager.prototype.fetchQueryByPolicy = function (queryInfo, _a, networkStatus) {\r\n        var _this = this;\r\n        var query = _a.query, variables = _a.variables, fetchPolicy = _a.fetchPolicy, refetchWritePolicy = _a.refetchWritePolicy, errorPolicy = _a.errorPolicy, returnPartialData = _a.returnPartialData, context = _a.context, notifyOnNetworkStatusChange = _a.notifyOnNetworkStatusChange;\r\n        var oldNetworkStatus = queryInfo.networkStatus;\r\n        queryInfo.init({\r\n            document: query,\r\n            variables: variables,\r\n            networkStatus: networkStatus,\r\n        });\r\n        var readCache = function () { return queryInfo.getDiff(variables); };\r\n        var resultsFromCache = function (diff, networkStatus) {\r\n            if (networkStatus === void 0) { networkStatus = queryInfo.networkStatus || NetworkStatus.loading; }\r\n            var data = diff.result;\r\n            if (__DEV__ &&\r\n                !returnPartialData &&\r\n                !equal(data, {})) {\r\n                logMissingFieldErrors(diff.missing);\r\n            }\r\n            var fromData = function (data) { return Observable.of(__assign({ data: data, loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus }, (diff.complete ? null : { partial: true }))); };\r\n            if (data && _this.transform(query).hasForcedResolvers) {\r\n                return _this.localState.runResolvers({\r\n                    document: query,\r\n                    remoteResult: { data: data },\r\n                    context: context,\r\n                    variables: variables,\r\n                    onlyRunForcedResolvers: true,\r\n                }).then(function (resolved) { return fromData(resolved.data || void 0); });\r\n            }\r\n            return fromData(data);\r\n        };\r\n        var cacheWriteBehavior = fetchPolicy === \"no-cache\" ? 0 :\r\n            (networkStatus === NetworkStatus.refetch &&\r\n                refetchWritePolicy !== \"merge\") ? 1\r\n                : 2;\r\n        var resultsFromLink = function () {\r\n            return _this.getResultsFromLink(queryInfo, cacheWriteBehavior, {\r\n                variables: variables,\r\n                context: context,\r\n                fetchPolicy: fetchPolicy,\r\n                errorPolicy: errorPolicy,\r\n            });\r\n        };\r\n        var shouldNotify = notifyOnNetworkStatusChange &&\r\n            typeof oldNetworkStatus === \"number\" &&\r\n            oldNetworkStatus !== networkStatus &&\r\n            isNetworkRequestInFlight(networkStatus);\r\n        switch (fetchPolicy) {\r\n            default:\r\n            case \"cache-first\": {\r\n                var diff = readCache();\r\n                if (diff.complete) {\r\n                    return [\r\n                        resultsFromCache(diff, queryInfo.markReady()),\r\n                    ];\r\n                }\r\n                if (returnPartialData || shouldNotify) {\r\n                    return [\r\n                        resultsFromCache(diff),\r\n                        resultsFromLink(),\r\n                    ];\r\n                }\r\n                return [\r\n                    resultsFromLink(),\r\n                ];\r\n            }\r\n            case \"cache-and-network\": {\r\n                var diff = readCache();\r\n                if (diff.complete || returnPartialData || shouldNotify) {\r\n                    return [\r\n                        resultsFromCache(diff),\r\n                        resultsFromLink(),\r\n                    ];\r\n                }\r\n                return [\r\n                    resultsFromLink(),\r\n                ];\r\n            }\r\n            case \"cache-only\":\r\n                return [\r\n                    resultsFromCache(readCache(), queryInfo.markReady()),\r\n                ];\r\n            case \"network-only\":\r\n                if (shouldNotify) {\r\n                    return [\r\n                        resultsFromCache(readCache()),\r\n                        resultsFromLink(),\r\n                    ];\r\n                }\r\n                return [resultsFromLink()];\r\n            case \"no-cache\":\r\n                if (shouldNotify) {\r\n                    return [\r\n                        resultsFromCache(queryInfo.getDiff()),\r\n                        resultsFromLink(),\r\n                    ];\r\n                }\r\n                return [resultsFromLink()];\r\n            case \"standby\":\r\n                return [];\r\n        }\r\n    };\r\n    QueryManager.prototype.getQuery = function (queryId) {\r\n        if (queryId && !this.queries.has(queryId)) {\r\n            this.queries.set(queryId, new QueryInfo(this, queryId));\r\n        }\r\n        return this.queries.get(queryId);\r\n    };\r\n    QueryManager.prototype.prepareContext = function (context) {\r\n        if (context === void 0) { context = {}; }\r\n        var newContext = this.localState.prepareContext(context);\r\n        return __assign(__assign({}, newContext), { clientAwareness: this.clientAwareness });\r\n    };\r\n    return QueryManager;\r\n}());\r\nexport { QueryManager };\r\n","export var NetworkStatus;\r\n(function (NetworkStatus) {\r\n    NetworkStatus[NetworkStatus[\"loading\"] = 1] = \"loading\";\r\n    NetworkStatus[NetworkStatus[\"setVariables\"] = 2] = \"setVariables\";\r\n    NetworkStatus[NetworkStatus[\"fetchMore\"] = 3] = \"fetchMore\";\r\n    NetworkStatus[NetworkStatus[\"refetch\"] = 4] = \"refetch\";\r\n    NetworkStatus[NetworkStatus[\"poll\"] = 6] = \"poll\";\r\n    NetworkStatus[NetworkStatus[\"ready\"] = 7] = \"ready\";\r\n    NetworkStatus[NetworkStatus[\"error\"] = 8] = \"error\";\r\n})(NetworkStatus || (NetworkStatus = {}));\r\nexport function isNetworkRequestInFlight(networkStatus) {\r\n    return networkStatus ? networkStatus < 7 : false;\r\n}\r\n","import { __extends } from \"tslib\";\r\nimport \"../utilities/globals/index.js\";\r\nimport { isNonEmptyArray } from \"../utilities/index.js\";\r\nexport function isApolloError(err) {\r\n    return err.hasOwnProperty('graphQLErrors');\r\n}\r\nvar generateErrorMessage = function (err) {\r\n    var message = '';\r\n    if (isNonEmptyArray(err.graphQLErrors) || isNonEmptyArray(err.clientErrors)) {\r\n        var errors = (err.graphQLErrors || [])\r\n            .concat(err.clientErrors || []);\r\n        errors.forEach(function (error) {\r\n            var errorMessage = error\r\n                ? error.message\r\n                : 'Error message not found.';\r\n            message += errorMessage + \"\\n\";\r\n        });\r\n    }\r\n    if (err.networkError) {\r\n        message += err.networkError.message + \"\\n\";\r\n    }\r\n    message = message.replace(/\\n$/, '');\r\n    return message;\r\n};\r\nvar ApolloError = (function (_super) {\r\n    __extends(ApolloError, _super);\r\n    function ApolloError(_a) {\r\n        var graphQLErrors = _a.graphQLErrors, clientErrors = _a.clientErrors, networkError = _a.networkError, errorMessage = _a.errorMessage, extraInfo = _a.extraInfo;\r\n        var _this = _super.call(this, errorMessage) || this;\r\n        _this.graphQLErrors = graphQLErrors || [];\r\n        _this.clientErrors = clientErrors || [];\r\n        _this.networkError = networkError || null;\r\n        _this.message = errorMessage || generateErrorMessage(_this);\r\n        _this.extraInfo = extraInfo;\r\n        _this.__proto__ = ApolloError.prototype;\r\n        return _this;\r\n    }\r\n    return ApolloError;\r\n}(Error));\r\nexport { ApolloError };\r\n","import { __extends } from \"tslib\";\r\nimport { InvariantError, invariant } from \"../../utilities/globals/index.js\";\r\nimport { Observable } from \"../../utilities/index.js\";\r\nimport { validateOperation, createOperation, transformOperation, } from \"../utils/index.js\";\r\nfunction passthrough(op, forward) {\r\n    return (forward ? forward(op) : Observable.of());\r\n}\r\nfunction toLink(handler) {\r\n    return typeof handler === 'function' ? new ApolloLink(handler) : handler;\r\n}\r\nfunction isTerminating(link) {\r\n    return link.request.length <= 1;\r\n}\r\nvar LinkError = (function (_super) {\r\n    __extends(LinkError, _super);\r\n    function LinkError(message, link) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.link = link;\r\n        return _this;\r\n    }\r\n    return LinkError;\r\n}(Error));\r\nvar ApolloLink = (function () {\r\n    function ApolloLink(request) {\r\n        if (request)\r\n            this.request = request;\r\n    }\r\n    ApolloLink.empty = function () {\r\n        return new ApolloLink(function () { return Observable.of(); });\r\n    };\r\n    ApolloLink.from = function (links) {\r\n        if (links.length === 0)\r\n            return ApolloLink.empty();\r\n        return links.map(toLink).reduce(function (x, y) { return x.concat(y); });\r\n    };\r\n    ApolloLink.split = function (test, left, right) {\r\n        var leftLink = toLink(left);\r\n        var rightLink = toLink(right || new ApolloLink(passthrough));\r\n        if (isTerminating(leftLink) && isTerminating(rightLink)) {\r\n            return new ApolloLink(function (operation) {\r\n                return test(operation)\r\n                    ? leftLink.request(operation) || Observable.of()\r\n                    : rightLink.request(operation) || Observable.of();\r\n            });\r\n        }\r\n        else {\r\n            return new ApolloLink(function (operation, forward) {\r\n                return test(operation)\r\n                    ? leftLink.request(operation, forward) || Observable.of()\r\n                    : rightLink.request(operation, forward) || Observable.of();\r\n            });\r\n        }\r\n    };\r\n    ApolloLink.execute = function (link, operation) {\r\n        return (link.request(createOperation(operation.context, transformOperation(validateOperation(operation)))) || Observable.of());\r\n    };\r\n    ApolloLink.concat = function (first, second) {\r\n        var firstLink = toLink(first);\r\n        if (isTerminating(firstLink)) {\r\n            __DEV__ && invariant.warn(new LinkError(\"You are calling concat on a terminating link, which will have no effect\", firstLink));\r\n            return firstLink;\r\n        }\r\n        var nextLink = toLink(second);\r\n        if (isTerminating(nextLink)) {\r\n            return new ApolloLink(function (operation) {\r\n                return firstLink.request(operation, function (op) { return nextLink.request(op) || Observable.of(); }) || Observable.of();\r\n            });\r\n        }\r\n        else {\r\n            return new ApolloLink(function (operation, forward) {\r\n                return (firstLink.request(operation, function (op) {\r\n                    return nextLink.request(op, forward) || Observable.of();\r\n                }) || Observable.of());\r\n            });\r\n        }\r\n    };\r\n    ApolloLink.prototype.split = function (test, left, right) {\r\n        return this.concat(ApolloLink.split(test, left, right || new ApolloLink(passthrough)));\r\n    };\r\n    ApolloLink.prototype.concat = function (next) {\r\n        return ApolloLink.concat(this, next);\r\n    };\r\n    ApolloLink.prototype.request = function (operation, forward) {\r\n        throw __DEV__ ? new InvariantError('request is not implemented') : new InvariantError(21);\r\n    };\r\n    ApolloLink.prototype.onError = function (error, observer) {\r\n        if (observer && observer.error) {\r\n            observer.error(error);\r\n            return false;\r\n        }\r\n        throw error;\r\n    };\r\n    ApolloLink.prototype.setOnError = function (fn) {\r\n        this.onError = fn;\r\n        return this;\r\n    };\r\n    return ApolloLink;\r\n}());\r\nexport { ApolloLink };\r\n","import { ApolloLink } from \"./ApolloLink.js\";\r\nexport var execute = ApolloLink.execute;\r\n","import { __extends } from \"tslib\";\r\nimport { ApolloLink } from \"../core/index.js\";\r\nimport { createHttpLink } from \"./createHttpLink.js\";\r\nvar HttpLink = (function (_super) {\r\n    __extends(HttpLink, _super);\r\n    function HttpLink(options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, createHttpLink(options).request) || this;\r\n        _this.options = options;\r\n        return _this;\r\n    }\r\n    return HttpLink;\r\n}(ApolloLink));\r\nexport { HttpLink };\r\n","import { InvariantError } from \"../../utilities/globals/index.js\";\r\nexport var checkFetcher = function (fetcher) {\r\n    if (!fetcher && typeof fetch === 'undefined') {\r\n        throw __DEV__ ? new InvariantError(\"\\n\\\"fetch\\\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\\n\\nimport fetch from 'cross-fetch';\\nimport { ApolloClient, HttpLink } from '@apollo/client';\\nconst client = new ApolloClient({\\n  link: new HttpLink({ uri: '/graphql', fetch })\\n});\\n    \") : new InvariantError(22);\r\n    }\r\n};\r\n","import { __assign, __rest } from \"tslib\";\r\nimport \"../../utilities/globals/index.js\";\r\nimport { visit } from 'graphql';\r\nimport { ApolloLink } from \"../core/index.js\";\r\nimport { Observable } from \"../../utilities/index.js\";\r\nimport { serializeFetchParameter } from \"./serializeFetchParameter.js\";\r\nimport { selectURI } from \"./selectURI.js\";\r\nimport { parseAndCheckHttpResponse } from \"./parseAndCheckHttpResponse.js\";\r\nimport { checkFetcher } from \"./checkFetcher.js\";\r\nimport { selectHttpOptionsAndBody, fallbackHttpConfig } from \"./selectHttpOptionsAndBody.js\";\r\nimport { createSignalIfSupported } from \"./createSignalIfSupported.js\";\r\nimport { rewriteURIForGET } from \"./rewriteURIForGET.js\";\r\nimport { fromError } from \"../utils/index.js\";\r\nimport { maybe } from \"../../utilities/index.js\";\r\nvar backupFetch = maybe(function () { return fetch; });\r\nexport var createHttpLink = function (linkOptions) {\r\n    if (linkOptions === void 0) { linkOptions = {}; }\r\n    var _a = linkOptions.uri, uri = _a === void 0 ? '/graphql' : _a, preferredFetch = linkOptions.fetch, includeExtensions = linkOptions.includeExtensions, useGETForQueries = linkOptions.useGETForQueries, _b = linkOptions.includeUnusedVariables, includeUnusedVariables = _b === void 0 ? false : _b, requestOptions = __rest(linkOptions, [\"uri\", \"fetch\", \"includeExtensions\", \"useGETForQueries\", \"includeUnusedVariables\"]);\r\n    if (__DEV__) {\r\n        checkFetcher(preferredFetch || backupFetch);\r\n    }\r\n    var linkConfig = {\r\n        http: { includeExtensions: includeExtensions },\r\n        options: requestOptions.fetchOptions,\r\n        credentials: requestOptions.credentials,\r\n        headers: requestOptions.headers,\r\n    };\r\n    return new ApolloLink(function (operation) {\r\n        var chosenURI = selectURI(operation, uri);\r\n        var context = operation.getContext();\r\n        var clientAwarenessHeaders = {};\r\n        if (context.clientAwareness) {\r\n            var _a = context.clientAwareness, name_1 = _a.name, version = _a.version;\r\n            if (name_1) {\r\n                clientAwarenessHeaders['apollographql-client-name'] = name_1;\r\n            }\r\n            if (version) {\r\n                clientAwarenessHeaders['apollographql-client-version'] = version;\r\n            }\r\n        }\r\n        var contextHeaders = __assign(__assign({}, clientAwarenessHeaders), context.headers);\r\n        var contextConfig = {\r\n            http: context.http,\r\n            options: context.fetchOptions,\r\n            credentials: context.credentials,\r\n            headers: contextHeaders,\r\n        };\r\n        var _b = selectHttpOptionsAndBody(operation, fallbackHttpConfig, linkConfig, contextConfig), options = _b.options, body = _b.body;\r\n        if (body.variables && !includeUnusedVariables) {\r\n            var unusedNames_1 = new Set(Object.keys(body.variables));\r\n            visit(operation.query, {\r\n                Variable: function (node, _key, parent) {\r\n                    if (parent && parent.kind !== 'VariableDefinition') {\r\n                        unusedNames_1.delete(node.name.value);\r\n                    }\r\n                },\r\n            });\r\n            if (unusedNames_1.size) {\r\n                body.variables = __assign({}, body.variables);\r\n                unusedNames_1.forEach(function (name) {\r\n                    delete body.variables[name];\r\n                });\r\n            }\r\n        }\r\n        var controller;\r\n        if (!options.signal) {\r\n            var _c = createSignalIfSupported(), _controller = _c.controller, signal = _c.signal;\r\n            controller = _controller;\r\n            if (controller)\r\n                options.signal = signal;\r\n        }\r\n        var definitionIsMutation = function (d) {\r\n            return d.kind === 'OperationDefinition' && d.operation === 'mutation';\r\n        };\r\n        if (useGETForQueries &&\r\n            !operation.query.definitions.some(definitionIsMutation)) {\r\n            options.method = 'GET';\r\n        }\r\n        if (options.method === 'GET') {\r\n            var _d = rewriteURIForGET(chosenURI, body), newURI = _d.newURI, parseError = _d.parseError;\r\n            if (parseError) {\r\n                return fromError(parseError);\r\n            }\r\n            chosenURI = newURI;\r\n        }\r\n        else {\r\n            try {\r\n                options.body = serializeFetchParameter(body, 'Payload');\r\n            }\r\n            catch (parseError) {\r\n                return fromError(parseError);\r\n            }\r\n        }\r\n        return new Observable(function (observer) {\r\n            var currentFetch = preferredFetch || maybe(function () { return fetch; }) || backupFetch;\r\n            currentFetch(chosenURI, options)\r\n                .then(function (response) {\r\n                operation.setContext({ response: response });\r\n                return response;\r\n            })\r\n                .then(parseAndCheckHttpResponse(operation))\r\n                .then(function (result) {\r\n                observer.next(result);\r\n                observer.complete();\r\n                return result;\r\n            })\r\n                .catch(function (err) {\r\n                if (err.name === 'AbortError')\r\n                    return;\r\n                if (err.result && err.result.errors && err.result.data) {\r\n                    observer.next(err.result);\r\n                }\r\n                observer.error(err);\r\n            });\r\n            return function () {\r\n                if (controller)\r\n                    controller.abort();\r\n            };\r\n        });\r\n    });\r\n};\r\n","export var createSignalIfSupported = function () {\r\n    if (typeof AbortController === 'undefined')\r\n        return { controller: false, signal: false };\r\n    var controller = new AbortController();\r\n    var signal = controller.signal;\r\n    return { controller: controller, signal: signal };\r\n};\r\n","import { throwServerError } from \"../utils/index.js\";\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nexport function parseAndCheckHttpResponse(operations) {\r\n    return function (response) { return response\r\n        .text()\r\n        .then(function (bodyText) {\r\n        try {\r\n            return JSON.parse(bodyText);\r\n        }\r\n        catch (err) {\r\n            var parseError = err;\r\n            parseError.name = 'ServerParseError';\r\n            parseError.response = response;\r\n            parseError.statusCode = response.status;\r\n            parseError.bodyText = bodyText;\r\n            throw parseError;\r\n        }\r\n    })\r\n        .then(function (result) {\r\n        if (response.status >= 300) {\r\n            throwServerError(response, result, \"Response not successful: Received status code \" + response.status);\r\n        }\r\n        if (!Array.isArray(result) &&\r\n            !hasOwnProperty.call(result, 'data') &&\r\n            !hasOwnProperty.call(result, 'errors')) {\r\n            throwServerError(response, result, \"Server response was missing for query '\" + (Array.isArray(operations)\r\n                ? operations.map(function (op) { return op.operationName; })\r\n                : operations.operationName) + \"'.\");\r\n        }\r\n        return result;\r\n    }); };\r\n}\r\n","import { serializeFetchParameter } from \"./serializeFetchParameter.js\";\r\nexport function rewriteURIForGET(chosenURI, body) {\r\n    var queryParams = [];\r\n    var addQueryParam = function (key, value) {\r\n        queryParams.push(key + \"=\" + encodeURIComponent(value));\r\n    };\r\n    if ('query' in body) {\r\n        addQueryParam('query', body.query);\r\n    }\r\n    if (body.operationName) {\r\n        addQueryParam('operationName', body.operationName);\r\n    }\r\n    if (body.variables) {\r\n        var serializedVariables = void 0;\r\n        try {\r\n            serializedVariables = serializeFetchParameter(body.variables, 'Variables map');\r\n        }\r\n        catch (parseError) {\r\n            return { parseError: parseError };\r\n        }\r\n        addQueryParam('variables', serializedVariables);\r\n    }\r\n    if (body.extensions) {\r\n        var serializedExtensions = void 0;\r\n        try {\r\n            serializedExtensions = serializeFetchParameter(body.extensions, 'Extensions map');\r\n        }\r\n        catch (parseError) {\r\n            return { parseError: parseError };\r\n        }\r\n        addQueryParam('extensions', serializedExtensions);\r\n    }\r\n    var fragment = '', preFragment = chosenURI;\r\n    var fragmentStart = chosenURI.indexOf('#');\r\n    if (fragmentStart !== -1) {\r\n        fragment = chosenURI.substr(fragmentStart);\r\n        preFragment = chosenURI.substr(0, fragmentStart);\r\n    }\r\n    var queryParamsPrefix = preFragment.indexOf('?') === -1 ? '?' : '&';\r\n    var newURI = preFragment + queryParamsPrefix + queryParams.join('&') + fragment;\r\n    return { newURI: newURI };\r\n}\r\n","import { __assign } from \"tslib\";\r\nimport { print } from 'graphql';\r\nvar defaultHttpOptions = {\r\n    includeQuery: true,\r\n    includeExtensions: false,\r\n};\r\nvar defaultHeaders = {\r\n    accept: '*/*',\r\n    'content-type': 'application/json',\r\n};\r\nvar defaultOptions = {\r\n    method: 'POST',\r\n};\r\nexport var fallbackHttpConfig = {\r\n    http: defaultHttpOptions,\r\n    headers: defaultHeaders,\r\n    options: defaultOptions,\r\n};\r\nexport var selectHttpOptionsAndBody = function (operation, fallbackConfig) {\r\n    var configs = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        configs[_i - 2] = arguments[_i];\r\n    }\r\n    var options = __assign(__assign({}, fallbackConfig.options), { headers: fallbackConfig.headers, credentials: fallbackConfig.credentials });\r\n    var http = fallbackConfig.http || {};\r\n    configs.forEach(function (config) {\r\n        options = __assign(__assign(__assign({}, options), config.options), { headers: __assign(__assign({}, options.headers), headersToLowerCase(config.headers)) });\r\n        if (config.credentials)\r\n            options.credentials = config.credentials;\r\n        http = __assign(__assign({}, http), config.http);\r\n    });\r\n    var operationName = operation.operationName, extensions = operation.extensions, variables = operation.variables, query = operation.query;\r\n    var body = { operationName: operationName, variables: variables };\r\n    if (http.includeExtensions)\r\n        body.extensions = extensions;\r\n    if (http.includeQuery)\r\n        body.query = print(query);\r\n    return {\r\n        options: options,\r\n        body: body,\r\n    };\r\n};\r\nfunction headersToLowerCase(headers) {\r\n    if (headers) {\r\n        var normalized_1 = Object.create(null);\r\n        Object.keys(Object(headers)).forEach(function (name) {\r\n            normalized_1[name.toLowerCase()] = headers[name];\r\n        });\r\n        return normalized_1;\r\n    }\r\n    return headers;\r\n}\r\n","export var selectURI = function (operation, fallbackURI) {\r\n    var context = operation.getContext();\r\n    var contextURI = context.uri;\r\n    if (contextURI) {\r\n        return contextURI;\r\n    }\r\n    else if (typeof fallbackURI === 'function') {\r\n        return fallbackURI(operation);\r\n    }\r\n    else {\r\n        return fallbackURI || '/graphql';\r\n    }\r\n};\r\n","import { InvariantError } from \"../../utilities/globals/index.js\";\r\nexport var serializeFetchParameter = function (p, label) {\r\n    var serialized;\r\n    try {\r\n        serialized = JSON.stringify(p);\r\n    }\r\n    catch (e) {\r\n        var parseError = __DEV__ ? new InvariantError(\"Network request failed. \" + label + \" is not serializable: \" + e.message) : new InvariantError(23);\r\n        parseError.parseError = e;\r\n        throw parseError;\r\n    }\r\n    return serialized;\r\n};\r\n","import { __assign } from \"tslib\";\r\nexport function createOperation(starting, operation) {\r\n    var context = __assign({}, starting);\r\n    var setContext = function (next) {\r\n        if (typeof next === 'function') {\r\n            context = __assign(__assign({}, context), next(context));\r\n        }\r\n        else {\r\n            context = __assign(__assign({}, context), next);\r\n        }\r\n    };\r\n    var getContext = function () { return (__assign({}, context)); };\r\n    Object.defineProperty(operation, 'setContext', {\r\n        enumerable: false,\r\n        value: setContext,\r\n    });\r\n    Object.defineProperty(operation, 'getContext', {\r\n        enumerable: false,\r\n        value: getContext,\r\n    });\r\n    return operation;\r\n}\r\n","import { Observable } from \"../../utilities/index.js\";\r\nexport function fromError(errorValue) {\r\n    return new Observable(function (observer) {\r\n        observer.error(errorValue);\r\n    });\r\n}\r\n","export var throwServerError = function (response, result, message) {\r\n    var error = new Error(message);\r\n    error.name = 'ServerError';\r\n    error.response = response;\r\n    error.statusCode = response.status;\r\n    error.result = result;\r\n    throw error;\r\n};\r\n","import { getOperationName } from \"../../utilities/index.js\";\r\nexport function transformOperation(operation) {\r\n    var transformedOperation = {\r\n        variables: operation.variables || {},\r\n        extensions: operation.extensions || {},\r\n        operationName: operation.operationName,\r\n        query: operation.query,\r\n    };\r\n    if (!transformedOperation.operationName) {\r\n        transformedOperation.operationName =\r\n            typeof transformedOperation.query !== 'string'\r\n                ? getOperationName(transformedOperation.query) || undefined\r\n                : '';\r\n    }\r\n    return transformedOperation;\r\n}\r\n","import { InvariantError } from \"../../utilities/globals/index.js\";\r\nexport function validateOperation(operation) {\r\n    var OPERATION_FIELDS = [\r\n        'query',\r\n        'operationName',\r\n        'variables',\r\n        'extensions',\r\n        'context',\r\n    ];\r\n    for (var _i = 0, _a = Object.keys(operation); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        if (OPERATION_FIELDS.indexOf(key) < 0) {\r\n            throw __DEV__ ? new InvariantError(\"illegal argument: \" + key) : new InvariantError(26);\r\n        }\r\n    }\r\n    return operation;\r\n}\r\n","export function isNonEmptyArray(value) {\r\n    return Array.isArray(value) && value.length > 0;\r\n}\r\n","export var canUseWeakMap = typeof WeakMap === 'function' && !(typeof navigator === 'object' &&\r\n    navigator.product === 'ReactNative');\r\nexport var canUseWeakSet = typeof WeakSet === 'function';\r\n","var toString = Object.prototype.toString;\r\nexport function cloneDeep(value) {\r\n    return cloneDeepHelper(value);\r\n}\r\nfunction cloneDeepHelper(val, seen) {\r\n    switch (toString.call(val)) {\r\n        case \"[object Array]\": {\r\n            seen = seen || new Map;\r\n            if (seen.has(val))\r\n                return seen.get(val);\r\n            var copy_1 = val.slice(0);\r\n            seen.set(val, copy_1);\r\n            copy_1.forEach(function (child, i) {\r\n                copy_1[i] = cloneDeepHelper(child, seen);\r\n            });\r\n            return copy_1;\r\n        }\r\n        case \"[object Object]\": {\r\n            seen = seen || new Map;\r\n            if (seen.has(val))\r\n                return seen.get(val);\r\n            var copy_2 = Object.create(Object.getPrototypeOf(val));\r\n            seen.set(val, copy_2);\r\n            Object.keys(val).forEach(function (key) {\r\n                copy_2[key] = cloneDeepHelper(val[key], seen);\r\n            });\r\n            return copy_2;\r\n        }\r\n        default:\r\n            return val;\r\n    }\r\n}\r\n","export function compact() {\r\n    var objects = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        objects[_i] = arguments[_i];\r\n    }\r\n    var result = Object.create(null);\r\n    objects.forEach(function (obj) {\r\n        if (!obj)\r\n            return;\r\n        Object.keys(obj).forEach(function (key) {\r\n            var value = obj[key];\r\n            if (value !== void 0) {\r\n                result[key] = value;\r\n            }\r\n        });\r\n    });\r\n    return result;\r\n}\r\n","export function graphQLResultHasError(result) {\r\n    return (result.errors && result.errors.length > 0) || false;\r\n}\r\n","export function filterInPlace(array, test, context) {\r\n    var target = 0;\r\n    array.forEach(function (elem, i) {\r\n        if (test.call(this, elem, i, array)) {\r\n            array[target++] = elem;\r\n        }\r\n    }, context);\r\n    array.length = target;\r\n    return array;\r\n}\r\n","var prefixCounts = new Map();\r\nexport function makeUniqueId(prefix) {\r\n    var count = prefixCounts.get(prefix) || 1;\r\n    prefixCounts.set(prefix, count + 1);\r\n    return prefix + \":\" + count + \":\" + Math.random().toString(36).slice(2);\r\n}\r\n","import { __assign, __spreadArray } from \"tslib\";\r\nimport { isNonNullObject } from \"./objects.js\";\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nexport function mergeDeep() {\r\n    var sources = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        sources[_i] = arguments[_i];\r\n    }\r\n    return mergeDeepArray(sources);\r\n}\r\nexport function mergeDeepArray(sources) {\r\n    var target = sources[0] || {};\r\n    var count = sources.length;\r\n    if (count > 1) {\r\n        var merger = new DeepMerger();\r\n        for (var i = 1; i < count; ++i) {\r\n            target = merger.merge(target, sources[i]);\r\n        }\r\n    }\r\n    return target;\r\n}\r\nvar defaultReconciler = function (target, source, property) {\r\n    return this.merge(target[property], source[property]);\r\n};\r\nvar DeepMerger = (function () {\r\n    function DeepMerger(reconciler) {\r\n        if (reconciler === void 0) { reconciler = defaultReconciler; }\r\n        this.reconciler = reconciler;\r\n        this.isObject = isNonNullObject;\r\n        this.pastCopies = new Set();\r\n    }\r\n    DeepMerger.prototype.merge = function (target, source) {\r\n        var _this = this;\r\n        var context = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            context[_i - 2] = arguments[_i];\r\n        }\r\n        if (isNonNullObject(source) && isNonNullObject(target)) {\r\n            Object.keys(source).forEach(function (sourceKey) {\r\n                if (hasOwnProperty.call(target, sourceKey)) {\r\n                    var targetValue = target[sourceKey];\r\n                    if (source[sourceKey] !== targetValue) {\r\n                        var result = _this.reconciler.apply(_this, __spreadArray([target, source, sourceKey], context, false));\r\n                        if (result !== targetValue) {\r\n                            target = _this.shallowCopyForMerge(target);\r\n                            target[sourceKey] = result;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    target = _this.shallowCopyForMerge(target);\r\n                    target[sourceKey] = source[sourceKey];\r\n                }\r\n            });\r\n            return target;\r\n        }\r\n        return source;\r\n    };\r\n    DeepMerger.prototype.shallowCopyForMerge = function (value) {\r\n        if (isNonNullObject(value) && !this.pastCopies.has(value)) {\r\n            if (Array.isArray(value)) {\r\n                value = value.slice(0);\r\n            }\r\n            else {\r\n                value = __assign({ __proto__: Object.getPrototypeOf(value) }, value);\r\n            }\r\n            this.pastCopies.add(value);\r\n        }\r\n        return value;\r\n    };\r\n    return DeepMerger;\r\n}());\r\nexport { DeepMerger };\r\n","export function isNonNullObject(obj) {\r\n    return obj !== null && typeof obj === 'object';\r\n}\r\n","import global from \"./global.js\";\r\nimport { maybe } from \"./maybe.js\";\r\nvar __ = \"__\";\r\nvar GLOBAL_KEY = [__, __].join(\"DEV\");\r\nfunction getDEV() {\r\n    try {\r\n        return Boolean(__DEV__);\r\n    }\r\n    catch (_a) {\r\n        Object.defineProperty(global, GLOBAL_KEY, {\r\n            value: maybe(function () { return process.env.NODE_ENV; }) !== \"production\",\r\n            enumerable: false,\r\n            configurable: true,\r\n            writable: true,\r\n        });\r\n        return global[GLOBAL_KEY];\r\n    }\r\n}\r\nexport default getDEV();\r\n","import { maybe } from \"./maybe.js\";\r\nexport default (maybe(function () { return globalThis; }) ||\r\n    maybe(function () { return window; }) ||\r\n    maybe(function () { return self; }) ||\r\n    maybe(function () { return global; }) ||\r\n    maybe(function () { return Function(\"return this\")(); }));\r\n","import { remove } from 'ts-invariant/process';\r\nimport { isType } from 'graphql';\r\nexport function removeTemporaryGlobals() {\r\n    isType(null);\r\n    return remove();\r\n}\r\n","import { invariant, InvariantError } from \"ts-invariant\";\r\nimport DEV from \"./DEV.js\";\r\nexport { DEV };\r\nexport function checkDEV() {\r\n    __DEV__ ? invariant(\"boolean\" === typeof DEV, DEV) : invariant(\"boolean\" === typeof DEV, 38);\r\n}\r\nimport { removeTemporaryGlobals } from \"./graphql.js\";\r\nremoveTemporaryGlobals();\r\nexport { maybe } from \"./maybe.js\";\r\nexport { default as global } from \"./global.js\";\r\nexport { invariant, InvariantError };\r\ncheckDEV();\r\n","export function maybe(thunk) {\r\n    try {\r\n        return thunk();\r\n    }\r\n    catch (_a) { }\r\n}\r\n","import { invariant } from \"../globals/index.js\";\r\nimport { visit, } from 'graphql';\r\nexport function shouldInclude(_a, variables) {\r\n    var directives = _a.directives;\r\n    if (!directives || !directives.length) {\r\n        return true;\r\n    }\r\n    return getInclusionDirectives(directives).every(function (_a) {\r\n        var directive = _a.directive, ifArgument = _a.ifArgument;\r\n        var evaledValue = false;\r\n        if (ifArgument.value.kind === 'Variable') {\r\n            evaledValue = variables && variables[ifArgument.value.name.value];\r\n            __DEV__ ? invariant(evaledValue !== void 0, \"Invalid variable referenced in @\" + directive.name.value + \" directive.\") : invariant(evaledValue !== void 0, 39);\r\n        }\r\n        else {\r\n            evaledValue = ifArgument.value.value;\r\n        }\r\n        return directive.name.value === 'skip' ? !evaledValue : evaledValue;\r\n    });\r\n}\r\nexport function getDirectiveNames(root) {\r\n    var names = [];\r\n    visit(root, {\r\n        Directive: function (node) {\r\n            names.push(node.name.value);\r\n        },\r\n    });\r\n    return names;\r\n}\r\nexport function hasDirectives(names, root) {\r\n    return getDirectiveNames(root).some(function (name) { return names.indexOf(name) > -1; });\r\n}\r\nexport function hasClientExports(document) {\r\n    return (document &&\r\n        hasDirectives(['client'], document) &&\r\n        hasDirectives(['export'], document));\r\n}\r\nfunction isInclusionDirective(_a) {\r\n    var value = _a.name.value;\r\n    return value === 'skip' || value === 'include';\r\n}\r\nexport function getInclusionDirectives(directives) {\r\n    var result = [];\r\n    if (directives && directives.length) {\r\n        directives.forEach(function (directive) {\r\n            if (!isInclusionDirective(directive))\r\n                return;\r\n            var directiveArguments = directive.arguments;\r\n            var directiveName = directive.name.value;\r\n            __DEV__ ? invariant(directiveArguments && directiveArguments.length === 1, \"Incorrect number of arguments for the @\" + directiveName + \" directive.\") : invariant(directiveArguments && directiveArguments.length === 1, 40);\r\n            var ifArgument = directiveArguments[0];\r\n            __DEV__ ? invariant(ifArgument.name && ifArgument.name.value === 'if', \"Invalid argument for the @\" + directiveName + \" directive.\") : invariant(ifArgument.name && ifArgument.name.value === 'if', 41);\r\n            var ifValue = ifArgument.value;\r\n            __DEV__ ? invariant(ifValue &&\r\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), \"Argument for the @\" + directiveName + \" directive must be a variable or a boolean value.\") : invariant(ifValue &&\r\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), 42);\r\n            result.push({ directive: directive, ifArgument: ifArgument });\r\n        });\r\n    }\r\n    return result;\r\n}\r\n","import { __assign, __spreadArray } from \"tslib\";\r\nimport { invariant, InvariantError } from \"../globals/index.js\";\r\nexport function getFragmentQueryDocument(document, fragmentName) {\r\n    var actualFragmentName = fragmentName;\r\n    var fragments = [];\r\n    document.definitions.forEach(function (definition) {\r\n        if (definition.kind === 'OperationDefinition') {\r\n            throw __DEV__ ? new InvariantError(\"Found a \" + definition.operation + \" operation\" + (definition.name ? \" named '\" + definition.name.value + \"'\" : '') + \". \" +\r\n                'No operations are allowed when using a fragment as a query. Only fragments are allowed.') : new InvariantError(43);\r\n        }\r\n        if (definition.kind === 'FragmentDefinition') {\r\n            fragments.push(definition);\r\n        }\r\n    });\r\n    if (typeof actualFragmentName === 'undefined') {\r\n        __DEV__ ? invariant(fragments.length === 1, \"Found \" + fragments.length + \" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.\") : invariant(fragments.length === 1, 44);\r\n        actualFragmentName = fragments[0].name.value;\r\n    }\r\n    var query = __assign(__assign({}, document), { definitions: __spreadArray([\r\n            {\r\n                kind: 'OperationDefinition',\r\n                operation: 'query',\r\n                selectionSet: {\r\n                    kind: 'SelectionSet',\r\n                    selections: [\r\n                        {\r\n                            kind: 'FragmentSpread',\r\n                            name: {\r\n                                kind: 'Name',\r\n                                value: actualFragmentName,\r\n                            },\r\n                        },\r\n                    ],\r\n                },\r\n            }\r\n        ], document.definitions, true) });\r\n    return query;\r\n}\r\nexport function createFragmentMap(fragments) {\r\n    if (fragments === void 0) { fragments = []; }\r\n    var symTable = {};\r\n    fragments.forEach(function (fragment) {\r\n        symTable[fragment.name.value] = fragment;\r\n    });\r\n    return symTable;\r\n}\r\nexport function getFragmentFromSelection(selection, fragmentMap) {\r\n    switch (selection.kind) {\r\n        case 'InlineFragment':\r\n            return selection;\r\n        case 'FragmentSpread': {\r\n            var fragment = fragmentMap && fragmentMap[selection.name.value];\r\n            __DEV__ ? invariant(fragment, \"No fragment named \" + selection.name.value + \".\") : invariant(fragment, 45);\r\n            return fragment;\r\n        }\r\n        default:\r\n            return null;\r\n    }\r\n}\r\n","import { invariant, InvariantError } from \"../globals/index.js\";\r\nimport { valueToObjectRepresentation } from \"./storeUtils.js\";\r\nexport function checkDocument(doc) {\r\n    __DEV__ ? invariant(doc && doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc && doc.kind === 'Document', 46);\r\n    var operations = doc.definitions\r\n        .filter(function (d) { return d.kind !== 'FragmentDefinition'; })\r\n        .map(function (definition) {\r\n        if (definition.kind !== 'OperationDefinition') {\r\n            throw __DEV__ ? new InvariantError(\"Schema type definitions not allowed in queries. Found: \\\"\" + definition.kind + \"\\\"\") : new InvariantError(47);\r\n        }\r\n        return definition;\r\n    });\r\n    __DEV__ ? invariant(operations.length <= 1, \"Ambiguous GraphQL document: contains \" + operations.length + \" operations\") : invariant(operations.length <= 1, 48);\r\n    return doc;\r\n}\r\nexport function getOperationDefinition(doc) {\r\n    checkDocument(doc);\r\n    return doc.definitions.filter(function (definition) { return definition.kind === 'OperationDefinition'; })[0];\r\n}\r\nexport function getOperationName(doc) {\r\n    return (doc.definitions\r\n        .filter(function (definition) {\r\n        return definition.kind === 'OperationDefinition' && definition.name;\r\n    })\r\n        .map(function (x) { return x.name.value; })[0] || null);\r\n}\r\nexport function getFragmentDefinitions(doc) {\r\n    return doc.definitions.filter(function (definition) { return definition.kind === 'FragmentDefinition'; });\r\n}\r\nexport function getQueryDefinition(doc) {\r\n    var queryDef = getOperationDefinition(doc);\r\n    __DEV__ ? invariant(queryDef && queryDef.operation === 'query', 'Must contain a query definition.') : invariant(queryDef && queryDef.operation === 'query', 49);\r\n    return queryDef;\r\n}\r\nexport function getFragmentDefinition(doc) {\r\n    __DEV__ ? invariant(doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc.kind === 'Document', 50);\r\n    __DEV__ ? invariant(doc.definitions.length <= 1, 'Fragment must have exactly one definition.') : invariant(doc.definitions.length <= 1, 51);\r\n    var fragmentDef = doc.definitions[0];\r\n    __DEV__ ? invariant(fragmentDef.kind === 'FragmentDefinition', 'Must be a fragment definition.') : invariant(fragmentDef.kind === 'FragmentDefinition', 52);\r\n    return fragmentDef;\r\n}\r\nexport function getMainDefinition(queryDoc) {\r\n    checkDocument(queryDoc);\r\n    var fragmentDefinition;\r\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\r\n        var definition = _a[_i];\r\n        if (definition.kind === 'OperationDefinition') {\r\n            var operation = definition.operation;\r\n            if (operation === 'query' ||\r\n                operation === 'mutation' ||\r\n                operation === 'subscription') {\r\n                return definition;\r\n            }\r\n        }\r\n        if (definition.kind === 'FragmentDefinition' && !fragmentDefinition) {\r\n            fragmentDefinition = definition;\r\n        }\r\n    }\r\n    if (fragmentDefinition) {\r\n        return fragmentDefinition;\r\n    }\r\n    throw __DEV__ ? new InvariantError('Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.') : new InvariantError(53);\r\n}\r\nexport function getDefaultValues(definition) {\r\n    var defaultValues = Object.create(null);\r\n    var defs = definition && definition.variableDefinitions;\r\n    if (defs && defs.length) {\r\n        defs.forEach(function (def) {\r\n            if (def.defaultValue) {\r\n                valueToObjectRepresentation(defaultValues, def.variable.name, def.defaultValue);\r\n            }\r\n        });\r\n    }\r\n    return defaultValues;\r\n}\r\n","import { InvariantError } from \"../globals/index.js\";\r\nimport { isNonNullObject } from \"../common/objects.js\";\r\nimport { getFragmentFromSelection } from \"./fragments.js\";\r\nexport function makeReference(id) {\r\n    return { __ref: String(id) };\r\n}\r\nexport function isReference(obj) {\r\n    return Boolean(obj && typeof obj === 'object' && typeof obj.__ref === 'string');\r\n}\r\nexport function isDocumentNode(value) {\r\n    return (isNonNullObject(value) &&\r\n        value.kind === \"Document\" &&\r\n        Array.isArray(value.definitions));\r\n}\r\nfunction isStringValue(value) {\r\n    return value.kind === 'StringValue';\r\n}\r\nfunction isBooleanValue(value) {\r\n    return value.kind === 'BooleanValue';\r\n}\r\nfunction isIntValue(value) {\r\n    return value.kind === 'IntValue';\r\n}\r\nfunction isFloatValue(value) {\r\n    return value.kind === 'FloatValue';\r\n}\r\nfunction isVariable(value) {\r\n    return value.kind === 'Variable';\r\n}\r\nfunction isObjectValue(value) {\r\n    return value.kind === 'ObjectValue';\r\n}\r\nfunction isListValue(value) {\r\n    return value.kind === 'ListValue';\r\n}\r\nfunction isEnumValue(value) {\r\n    return value.kind === 'EnumValue';\r\n}\r\nfunction isNullValue(value) {\r\n    return value.kind === 'NullValue';\r\n}\r\nexport function valueToObjectRepresentation(argObj, name, value, variables) {\r\n    if (isIntValue(value) || isFloatValue(value)) {\r\n        argObj[name.value] = Number(value.value);\r\n    }\r\n    else if (isBooleanValue(value) || isStringValue(value)) {\r\n        argObj[name.value] = value.value;\r\n    }\r\n    else if (isObjectValue(value)) {\r\n        var nestedArgObj_1 = {};\r\n        value.fields.map(function (obj) {\r\n            return valueToObjectRepresentation(nestedArgObj_1, obj.name, obj.value, variables);\r\n        });\r\n        argObj[name.value] = nestedArgObj_1;\r\n    }\r\n    else if (isVariable(value)) {\r\n        var variableValue = (variables || {})[value.name.value];\r\n        argObj[name.value] = variableValue;\r\n    }\r\n    else if (isListValue(value)) {\r\n        argObj[name.value] = value.values.map(function (listValue) {\r\n            var nestedArgArrayObj = {};\r\n            valueToObjectRepresentation(nestedArgArrayObj, name, listValue, variables);\r\n            return nestedArgArrayObj[name.value];\r\n        });\r\n    }\r\n    else if (isEnumValue(value)) {\r\n        argObj[name.value] = value.value;\r\n    }\r\n    else if (isNullValue(value)) {\r\n        argObj[name.value] = null;\r\n    }\r\n    else {\r\n        throw __DEV__ ? new InvariantError(\"The inline argument \\\"\" + name.value + \"\\\" of kind \\\"\" + value.kind + \"\\\"\" +\r\n            'is not supported. Use variables instead of inline arguments to ' +\r\n            'overcome this limitation.') : new InvariantError(54);\r\n    }\r\n}\r\nexport function storeKeyNameFromField(field, variables) {\r\n    var directivesObj = null;\r\n    if (field.directives) {\r\n        directivesObj = {};\r\n        field.directives.forEach(function (directive) {\r\n            directivesObj[directive.name.value] = {};\r\n            if (directive.arguments) {\r\n                directive.arguments.forEach(function (_a) {\r\n                    var name = _a.name, value = _a.value;\r\n                    return valueToObjectRepresentation(directivesObj[directive.name.value], name, value, variables);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    var argObj = null;\r\n    if (field.arguments && field.arguments.length) {\r\n        argObj = {};\r\n        field.arguments.forEach(function (_a) {\r\n            var name = _a.name, value = _a.value;\r\n            return valueToObjectRepresentation(argObj, name, value, variables);\r\n        });\r\n    }\r\n    return getStoreKeyName(field.name.value, argObj, directivesObj);\r\n}\r\nvar KNOWN_DIRECTIVES = [\r\n    'connection',\r\n    'include',\r\n    'skip',\r\n    'client',\r\n    'rest',\r\n    'export',\r\n];\r\nexport var getStoreKeyName = Object.assign(function (fieldName, args, directives) {\r\n    if (args &&\r\n        directives &&\r\n        directives['connection'] &&\r\n        directives['connection']['key']) {\r\n        if (directives['connection']['filter'] &&\r\n            directives['connection']['filter'].length > 0) {\r\n            var filterKeys = directives['connection']['filter']\r\n                ? directives['connection']['filter']\r\n                : [];\r\n            filterKeys.sort();\r\n            var filteredArgs_1 = {};\r\n            filterKeys.forEach(function (key) {\r\n                filteredArgs_1[key] = args[key];\r\n            });\r\n            return directives['connection']['key'] + \"(\" + stringify(filteredArgs_1) + \")\";\r\n        }\r\n        else {\r\n            return directives['connection']['key'];\r\n        }\r\n    }\r\n    var completeFieldName = fieldName;\r\n    if (args) {\r\n        var stringifiedArgs = stringify(args);\r\n        completeFieldName += \"(\" + stringifiedArgs + \")\";\r\n    }\r\n    if (directives) {\r\n        Object.keys(directives).forEach(function (key) {\r\n            if (KNOWN_DIRECTIVES.indexOf(key) !== -1)\r\n                return;\r\n            if (directives[key] && Object.keys(directives[key]).length) {\r\n                completeFieldName += \"@\" + key + \"(\" + stringify(directives[key]) + \")\";\r\n            }\r\n            else {\r\n                completeFieldName += \"@\" + key;\r\n            }\r\n        });\r\n    }\r\n    return completeFieldName;\r\n}, {\r\n    setStringify: function (s) {\r\n        var previous = stringify;\r\n        stringify = s;\r\n        return previous;\r\n    },\r\n});\r\nvar stringify = function defaultStringify(value) {\r\n    return JSON.stringify(value, stringifyReplacer);\r\n};\r\nfunction stringifyReplacer(_key, value) {\r\n    if (isNonNullObject(value) && !Array.isArray(value)) {\r\n        value = Object.keys(value).sort().reduce(function (copy, key) {\r\n            copy[key] = value[key];\r\n            return copy;\r\n        }, {});\r\n    }\r\n    return value;\r\n}\r\nexport function argumentsObjectFromField(field, variables) {\r\n    if (field.arguments && field.arguments.length) {\r\n        var argObj_1 = {};\r\n        field.arguments.forEach(function (_a) {\r\n            var name = _a.name, value = _a.value;\r\n            return valueToObjectRepresentation(argObj_1, name, value, variables);\r\n        });\r\n        return argObj_1;\r\n    }\r\n    return null;\r\n}\r\nexport function resultKeyNameFromField(field) {\r\n    return field.alias ? field.alias.value : field.name.value;\r\n}\r\nexport function getTypenameFromResult(result, selectionSet, fragmentMap) {\r\n    if (typeof result.__typename === 'string') {\r\n        return result.__typename;\r\n    }\r\n    for (var _i = 0, _a = selectionSet.selections; _i < _a.length; _i++) {\r\n        var selection = _a[_i];\r\n        if (isField(selection)) {\r\n            if (selection.name.value === '__typename') {\r\n                return result[resultKeyNameFromField(selection)];\r\n            }\r\n        }\r\n        else {\r\n            var typename = getTypenameFromResult(result, getFragmentFromSelection(selection, fragmentMap).selectionSet, fragmentMap);\r\n            if (typeof typename === 'string') {\r\n                return typename;\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function isField(selection) {\r\n    return selection.kind === 'Field';\r\n}\r\nexport function isInlineFragment(selection) {\r\n    return selection.kind === 'InlineFragment';\r\n}\r\n","import { __assign, __spreadArray } from \"tslib\";\r\nimport { invariant } from \"../globals/index.js\";\r\nimport { visit, } from 'graphql';\r\nimport { checkDocument, getOperationDefinition, getFragmentDefinition, getFragmentDefinitions, getMainDefinition, } from \"./getFromAST.js\";\r\nimport { filterInPlace } from \"../common/filterInPlace.js\";\r\nimport { isField, isInlineFragment } from \"./storeUtils.js\";\r\nimport { createFragmentMap, } from \"./fragments.js\";\r\nvar TYPENAME_FIELD = {\r\n    kind: 'Field',\r\n    name: {\r\n        kind: 'Name',\r\n        value: '__typename',\r\n    },\r\n};\r\nfunction isEmpty(op, fragments) {\r\n    return op.selectionSet.selections.every(function (selection) {\r\n        return selection.kind === 'FragmentSpread' &&\r\n            isEmpty(fragments[selection.name.value], fragments);\r\n    });\r\n}\r\nfunction nullIfDocIsEmpty(doc) {\r\n    return isEmpty(getOperationDefinition(doc) || getFragmentDefinition(doc), createFragmentMap(getFragmentDefinitions(doc)))\r\n        ? null\r\n        : doc;\r\n}\r\nfunction getDirectiveMatcher(directives) {\r\n    return function directiveMatcher(directive) {\r\n        return directives.some(function (dir) {\r\n            return (dir.name && dir.name === directive.name.value) ||\r\n                (dir.test && dir.test(directive));\r\n        });\r\n    };\r\n}\r\nexport function removeDirectivesFromDocument(directives, doc) {\r\n    var variablesInUse = Object.create(null);\r\n    var variablesToRemove = [];\r\n    var fragmentSpreadsInUse = Object.create(null);\r\n    var fragmentSpreadsToRemove = [];\r\n    var modifiedDoc = nullIfDocIsEmpty(visit(doc, {\r\n        Variable: {\r\n            enter: function (node, _key, parent) {\r\n                if (parent.kind !== 'VariableDefinition') {\r\n                    variablesInUse[node.name.value] = true;\r\n                }\r\n            },\r\n        },\r\n        Field: {\r\n            enter: function (node) {\r\n                if (directives && node.directives) {\r\n                    var shouldRemoveField = directives.some(function (directive) { return directive.remove; });\r\n                    if (shouldRemoveField &&\r\n                        node.directives &&\r\n                        node.directives.some(getDirectiveMatcher(directives))) {\r\n                        if (node.arguments) {\r\n                            node.arguments.forEach(function (arg) {\r\n                                if (arg.value.kind === 'Variable') {\r\n                                    variablesToRemove.push({\r\n                                        name: arg.value.name.value,\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                        if (node.selectionSet) {\r\n                            getAllFragmentSpreadsFromSelectionSet(node.selectionSet).forEach(function (frag) {\r\n                                fragmentSpreadsToRemove.push({\r\n                                    name: frag.name.value,\r\n                                });\r\n                            });\r\n                        }\r\n                        return null;\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        FragmentSpread: {\r\n            enter: function (node) {\r\n                fragmentSpreadsInUse[node.name.value] = true;\r\n            },\r\n        },\r\n        Directive: {\r\n            enter: function (node) {\r\n                if (getDirectiveMatcher(directives)(node)) {\r\n                    return null;\r\n                }\r\n            },\r\n        },\r\n    }));\r\n    if (modifiedDoc &&\r\n        filterInPlace(variablesToRemove, function (v) { return !!v.name && !variablesInUse[v.name]; }).length) {\r\n        modifiedDoc = removeArgumentsFromDocument(variablesToRemove, modifiedDoc);\r\n    }\r\n    if (modifiedDoc &&\r\n        filterInPlace(fragmentSpreadsToRemove, function (fs) { return !!fs.name && !fragmentSpreadsInUse[fs.name]; })\r\n            .length) {\r\n        modifiedDoc = removeFragmentSpreadFromDocument(fragmentSpreadsToRemove, modifiedDoc);\r\n    }\r\n    return modifiedDoc;\r\n}\r\nexport var addTypenameToDocument = Object.assign(function (doc) {\r\n    return visit(checkDocument(doc), {\r\n        SelectionSet: {\r\n            enter: function (node, _key, parent) {\r\n                if (parent &&\r\n                    parent.kind === 'OperationDefinition') {\r\n                    return;\r\n                }\r\n                var selections = node.selections;\r\n                if (!selections) {\r\n                    return;\r\n                }\r\n                var skip = selections.some(function (selection) {\r\n                    return (isField(selection) &&\r\n                        (selection.name.value === '__typename' ||\r\n                            selection.name.value.lastIndexOf('__', 0) === 0));\r\n                });\r\n                if (skip) {\r\n                    return;\r\n                }\r\n                var field = parent;\r\n                if (isField(field) &&\r\n                    field.directives &&\r\n                    field.directives.some(function (d) { return d.name.value === 'export'; })) {\r\n                    return;\r\n                }\r\n                return __assign(__assign({}, node), { selections: __spreadArray(__spreadArray([], selections, true), [TYPENAME_FIELD], false) });\r\n            },\r\n        },\r\n    });\r\n}, {\r\n    added: function (field) {\r\n        return field === TYPENAME_FIELD;\r\n    },\r\n});\r\nvar connectionRemoveConfig = {\r\n    test: function (directive) {\r\n        var willRemove = directive.name.value === 'connection';\r\n        if (willRemove) {\r\n            if (!directive.arguments ||\r\n                !directive.arguments.some(function (arg) { return arg.name.value === 'key'; })) {\r\n                __DEV__ && invariant.warn('Removing an @connection directive even though it does not have a key. ' +\r\n                    'You may want to use the key parameter to specify a store key.');\r\n            }\r\n        }\r\n        return willRemove;\r\n    },\r\n};\r\nexport function removeConnectionDirectiveFromDocument(doc) {\r\n    return removeDirectivesFromDocument([connectionRemoveConfig], checkDocument(doc));\r\n}\r\nfunction hasDirectivesInSelectionSet(directives, selectionSet, nestedCheck) {\r\n    if (nestedCheck === void 0) { nestedCheck = true; }\r\n    return (!!selectionSet &&\r\n        selectionSet.selections &&\r\n        selectionSet.selections.some(function (selection) {\r\n            return hasDirectivesInSelection(directives, selection, nestedCheck);\r\n        }));\r\n}\r\nfunction hasDirectivesInSelection(directives, selection, nestedCheck) {\r\n    if (nestedCheck === void 0) { nestedCheck = true; }\r\n    if (!isField(selection)) {\r\n        return true;\r\n    }\r\n    if (!selection.directives) {\r\n        return false;\r\n    }\r\n    return (selection.directives.some(getDirectiveMatcher(directives)) ||\r\n        (nestedCheck &&\r\n            hasDirectivesInSelectionSet(directives, selection.selectionSet, nestedCheck)));\r\n}\r\nfunction getArgumentMatcher(config) {\r\n    return function argumentMatcher(argument) {\r\n        return config.some(function (aConfig) {\r\n            return argument.value &&\r\n                argument.value.kind === 'Variable' &&\r\n                argument.value.name &&\r\n                (aConfig.name === argument.value.name.value ||\r\n                    (aConfig.test && aConfig.test(argument)));\r\n        });\r\n    };\r\n}\r\nexport function removeArgumentsFromDocument(config, doc) {\r\n    var argMatcher = getArgumentMatcher(config);\r\n    return nullIfDocIsEmpty(visit(doc, {\r\n        OperationDefinition: {\r\n            enter: function (node) {\r\n                return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions ? node.variableDefinitions.filter(function (varDef) {\r\n                        return !config.some(function (arg) { return arg.name === varDef.variable.name.value; });\r\n                    }) : [] });\r\n            },\r\n        },\r\n        Field: {\r\n            enter: function (node) {\r\n                var shouldRemoveField = config.some(function (argConfig) { return argConfig.remove; });\r\n                if (shouldRemoveField) {\r\n                    var argMatchCount_1 = 0;\r\n                    if (node.arguments) {\r\n                        node.arguments.forEach(function (arg) {\r\n                            if (argMatcher(arg)) {\r\n                                argMatchCount_1 += 1;\r\n                            }\r\n                        });\r\n                    }\r\n                    if (argMatchCount_1 === 1) {\r\n                        return null;\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        Argument: {\r\n            enter: function (node) {\r\n                if (argMatcher(node)) {\r\n                    return null;\r\n                }\r\n            },\r\n        },\r\n    }));\r\n}\r\nexport function removeFragmentSpreadFromDocument(config, doc) {\r\n    function enter(node) {\r\n        if (config.some(function (def) { return def.name === node.name.value; })) {\r\n            return null;\r\n        }\r\n    }\r\n    return nullIfDocIsEmpty(visit(doc, {\r\n        FragmentSpread: { enter: enter },\r\n        FragmentDefinition: { enter: enter },\r\n    }));\r\n}\r\nfunction getAllFragmentSpreadsFromSelectionSet(selectionSet) {\r\n    var allFragments = [];\r\n    selectionSet.selections.forEach(function (selection) {\r\n        if ((isField(selection) || isInlineFragment(selection)) &&\r\n            selection.selectionSet) {\r\n            getAllFragmentSpreadsFromSelectionSet(selection.selectionSet).forEach(function (frag) { return allFragments.push(frag); });\r\n        }\r\n        else if (selection.kind === 'FragmentSpread') {\r\n            allFragments.push(selection);\r\n        }\r\n    });\r\n    return allFragments;\r\n}\r\nexport function buildQueryFromSelectionSet(document) {\r\n    var definition = getMainDefinition(document);\r\n    var definitionOperation = definition.operation;\r\n    if (definitionOperation === 'query') {\r\n        return document;\r\n    }\r\n    var modifiedDoc = visit(document, {\r\n        OperationDefinition: {\r\n            enter: function (node) {\r\n                return __assign(__assign({}, node), { operation: 'query' });\r\n            },\r\n        },\r\n    });\r\n    return modifiedDoc;\r\n}\r\nexport function removeClientSetsFromDocument(document) {\r\n    checkDocument(document);\r\n    var modifiedDoc = removeDirectivesFromDocument([\r\n        {\r\n            test: function (directive) { return directive.name.value === 'client'; },\r\n            remove: true,\r\n        },\r\n    ], document);\r\n    if (modifiedDoc) {\r\n        modifiedDoc = visit(modifiedDoc, {\r\n            FragmentDefinition: {\r\n                enter: function (node) {\r\n                    if (node.selectionSet) {\r\n                        var isTypenameOnly = node.selectionSet.selections.every(function (selection) {\r\n                            return isField(selection) && selection.name.value === '__typename';\r\n                        });\r\n                        if (isTypenameOnly) {\r\n                            return null;\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n        });\r\n    }\r\n    return modifiedDoc;\r\n}\r\n","import { __extends } from \"tslib\";\r\nimport { Observable } from \"./Observable.js\";\r\nimport { iterateObserversSafely } from \"./iteration.js\";\r\nimport { fixObservableSubclass } from \"./subclassing.js\";\r\nfunction isPromiseLike(value) {\r\n    return value && typeof value.then === \"function\";\r\n}\r\nvar Concast = (function (_super) {\r\n    __extends(Concast, _super);\r\n    function Concast(sources) {\r\n        var _this = _super.call(this, function (observer) {\r\n            _this.addObserver(observer);\r\n            return function () { return _this.removeObserver(observer); };\r\n        }) || this;\r\n        _this.observers = new Set();\r\n        _this.addCount = 0;\r\n        _this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = resolve;\r\n            _this.reject = reject;\r\n        });\r\n        _this.handlers = {\r\n            next: function (result) {\r\n                if (_this.sub !== null) {\r\n                    _this.latest = [\"next\", result];\r\n                    iterateObserversSafely(_this.observers, \"next\", result);\r\n                }\r\n            },\r\n            error: function (error) {\r\n                var sub = _this.sub;\r\n                if (sub !== null) {\r\n                    if (sub)\r\n                        setTimeout(function () { return sub.unsubscribe(); });\r\n                    _this.sub = null;\r\n                    _this.latest = [\"error\", error];\r\n                    _this.reject(error);\r\n                    iterateObserversSafely(_this.observers, \"error\", error);\r\n                }\r\n            },\r\n            complete: function () {\r\n                if (_this.sub !== null) {\r\n                    var value = _this.sources.shift();\r\n                    if (!value) {\r\n                        _this.sub = null;\r\n                        if (_this.latest &&\r\n                            _this.latest[0] === \"next\") {\r\n                            _this.resolve(_this.latest[1]);\r\n                        }\r\n                        else {\r\n                            _this.resolve();\r\n                        }\r\n                        iterateObserversSafely(_this.observers, \"complete\");\r\n                    }\r\n                    else if (isPromiseLike(value)) {\r\n                        value.then(function (obs) { return _this.sub = obs.subscribe(_this.handlers); });\r\n                    }\r\n                    else {\r\n                        _this.sub = value.subscribe(_this.handlers);\r\n                    }\r\n                }\r\n            },\r\n        };\r\n        _this.cancel = function (reason) {\r\n            _this.reject(reason);\r\n            _this.sources = [];\r\n            _this.handlers.complete();\r\n        };\r\n        _this.promise.catch(function (_) { });\r\n        if (typeof sources === \"function\") {\r\n            sources = [new Observable(sources)];\r\n        }\r\n        if (isPromiseLike(sources)) {\r\n            sources.then(function (iterable) { return _this.start(iterable); }, _this.handlers.error);\r\n        }\r\n        else {\r\n            _this.start(sources);\r\n        }\r\n        return _this;\r\n    }\r\n    Concast.prototype.start = function (sources) {\r\n        if (this.sub !== void 0)\r\n            return;\r\n        this.sources = Array.from(sources);\r\n        this.handlers.complete();\r\n    };\r\n    Concast.prototype.deliverLastMessage = function (observer) {\r\n        if (this.latest) {\r\n            var nextOrError = this.latest[0];\r\n            var method = observer[nextOrError];\r\n            if (method) {\r\n                method.call(observer, this.latest[1]);\r\n            }\r\n            if (this.sub === null &&\r\n                nextOrError === \"next\" &&\r\n                observer.complete) {\r\n                observer.complete();\r\n            }\r\n        }\r\n    };\r\n    Concast.prototype.addObserver = function (observer) {\r\n        if (!this.observers.has(observer)) {\r\n            this.deliverLastMessage(observer);\r\n            this.observers.add(observer);\r\n            ++this.addCount;\r\n        }\r\n    };\r\n    Concast.prototype.removeObserver = function (observer, quietly) {\r\n        if (this.observers.delete(observer) &&\r\n            --this.addCount < 1 &&\r\n            !quietly) {\r\n            this.handlers.error(new Error(\"Observable cancelled prematurely\"));\r\n        }\r\n    };\r\n    Concast.prototype.cleanup = function (callback) {\r\n        var _this = this;\r\n        var called = false;\r\n        var once = function () {\r\n            if (!called) {\r\n                called = true;\r\n                _this.observers.delete(observer);\r\n                callback();\r\n            }\r\n        };\r\n        var observer = {\r\n            next: once,\r\n            error: once,\r\n            complete: once,\r\n        };\r\n        var count = this.addCount;\r\n        this.addObserver(observer);\r\n        this.addCount = count;\r\n    };\r\n    return Concast;\r\n}(Observable));\r\nexport { Concast };\r\nfixObservableSubclass(Concast);\r\n","import { Observable } from \"./Observable.js\";\r\nexport function asyncMap(observable, mapFn, catchFn) {\r\n    return new Observable(function (observer) {\r\n        var next = observer.next, error = observer.error, complete = observer.complete;\r\n        var activeCallbackCount = 0;\r\n        var completed = false;\r\n        var promiseQueue = {\r\n            then: function (callback) {\r\n                return new Promise(function (resolve) { return resolve(callback()); });\r\n            },\r\n        };\r\n        function makeCallback(examiner, delegate) {\r\n            if (examiner) {\r\n                return function (arg) {\r\n                    ++activeCallbackCount;\r\n                    var both = function () { return examiner(arg); };\r\n                    promiseQueue = promiseQueue.then(both, both).then(function (result) {\r\n                        --activeCallbackCount;\r\n                        next && next.call(observer, result);\r\n                        if (completed) {\r\n                            handler.complete();\r\n                        }\r\n                    }, function (error) {\r\n                        --activeCallbackCount;\r\n                        throw error;\r\n                    }).catch(function (caught) {\r\n                        error && error.call(observer, caught);\r\n                    });\r\n                };\r\n            }\r\n            else {\r\n                return function (arg) { return delegate && delegate.call(observer, arg); };\r\n            }\r\n        }\r\n        var handler = {\r\n            next: makeCallback(mapFn, next),\r\n            error: makeCallback(catchFn, error),\r\n            complete: function () {\r\n                completed = true;\r\n                if (!activeCallbackCount) {\r\n                    complete && complete.call(observer);\r\n                }\r\n            },\r\n        };\r\n        var sub = observable.subscribe(handler);\r\n        return function () { return sub.unsubscribe(); };\r\n    });\r\n}\r\n","export function iterateObserversSafely(observers, method, argument) {\r\n    var observersWithMethod = [];\r\n    observers.forEach(function (obs) { return obs[method] && observersWithMethod.push(obs); });\r\n    observersWithMethod.forEach(function (obs) { return obs[method](argument); });\r\n}\r\n","import { Observable } from \"./Observable.js\";\r\nexport function fixObservableSubclass(subclass) {\r\n    function set(key) {\r\n        Object.defineProperty(subclass, key, { value: Observable });\r\n    }\r\n    if (typeof Symbol === \"function\" && Symbol.species) {\r\n        set(Symbol.species);\r\n    }\r\n    set(\"@@species\");\r\n    return subclass;\r\n}\r\n","export var version = '3.4.11';\r\n","// This currentContext variable will only be used if the makeSlotClass\r\n// function is called, which happens only if this is the first copy of the\r\n// @wry/context package to be imported.\r\nvar currentContext = null;\r\n// This unique internal object is used to denote the absence of a value\r\n// for a given Slot, and is never exposed to outside code.\r\nvar MISSING_VALUE = {};\r\nvar idCounter = 1;\r\n// Although we can't do anything about the cost of duplicated code from\r\n// accidentally bundling multiple copies of the @wry/context package, we can\r\n// avoid creating the Slot class more than once using makeSlotClass.\r\nvar makeSlotClass = function () { return /** @class */ (function () {\r\n    function Slot() {\r\n        // If you have a Slot object, you can find out its slot.id, but you cannot\r\n        // guess the slot.id of a Slot you don't have access to, thanks to the\r\n        // randomized suffix.\r\n        this.id = [\r\n            \"slot\",\r\n            idCounter++,\r\n            Date.now(),\r\n            Math.random().toString(36).slice(2),\r\n        ].join(\":\");\r\n    }\r\n    Slot.prototype.hasValue = function () {\r\n        for (var context_1 = currentContext; context_1; context_1 = context_1.parent) {\r\n            // We use the Slot object iself as a key to its value, which means the\r\n            // value cannot be obtained without a reference to the Slot object.\r\n            if (this.id in context_1.slots) {\r\n                var value = context_1.slots[this.id];\r\n                if (value === MISSING_VALUE)\r\n                    break;\r\n                if (context_1 !== currentContext) {\r\n                    // Cache the value in currentContext.slots so the next lookup will\r\n                    // be faster. This caching is safe because the tree of contexts and\r\n                    // the values of the slots are logically immutable.\r\n                    currentContext.slots[this.id] = value;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        if (currentContext) {\r\n            // If a value was not found for this Slot, it's never going to be found\r\n            // no matter how many times we look it up, so we might as well cache\r\n            // the absence of the value, too.\r\n            currentContext.slots[this.id] = MISSING_VALUE;\r\n        }\r\n        return false;\r\n    };\r\n    Slot.prototype.getValue = function () {\r\n        if (this.hasValue()) {\r\n            return currentContext.slots[this.id];\r\n        }\r\n    };\r\n    Slot.prototype.withValue = function (value, callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        var _a;\r\n        var slots = (_a = {\r\n                __proto__: null\r\n            },\r\n            _a[this.id] = value,\r\n            _a);\r\n        var parent = currentContext;\r\n        currentContext = { parent: parent, slots: slots };\r\n        try {\r\n            // Function.prototype.apply allows the arguments array argument to be\r\n            // omitted or undefined, so args! is fine here.\r\n            return callback.apply(thisArg, args);\r\n        }\r\n        finally {\r\n            currentContext = parent;\r\n        }\r\n    };\r\n    // Capture the current context and wrap a callback function so that it\r\n    // reestablishes the captured context when called.\r\n    Slot.bind = function (callback) {\r\n        var context = currentContext;\r\n        return function () {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = context;\r\n                return callback.apply(this, arguments);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        };\r\n    };\r\n    // Immediately run a callback function without any captured context.\r\n    Slot.noContext = function (callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        if (currentContext) {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = null;\r\n                // Function.prototype.apply allows the arguments array argument to be\r\n                // omitted or undefined, so args! is fine here.\r\n                return callback.apply(thisArg, args);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        }\r\n        else {\r\n            return callback.apply(thisArg, args);\r\n        }\r\n    };\r\n    return Slot;\r\n}()); };\r\n// We store a single global implementation of the Slot class as a permanent\r\n// non-enumerable symbol property of the Array constructor. This obfuscation\r\n// does nothing to prevent access to the Slot class, but at least it ensures\r\n// the implementation (i.e. currentContext) cannot be tampered with, and all\r\n// copies of the @wry/context package (hopefully just one) will share the\r\n// same Slot implementation. Since the first copy of the @wry/context package\r\n// to be imported wins, this technique imposes a very high cost for any\r\n// future breaking changes to the Slot class.\r\nvar globalKey = \"@wry/context:Slot\";\r\nvar host = Array;\r\nvar Slot = host[globalKey] || function () {\r\n    var Slot = makeSlotClass();\r\n    try {\r\n        Object.defineProperty(host, globalKey, {\r\n            value: host[globalKey] = Slot,\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: false,\r\n        });\r\n    }\r\n    finally {\r\n        return Slot;\r\n    }\r\n}();\r\n\r\nvar bind = Slot.bind, noContext = Slot.noContext;\r\nfunction setTimeoutWithContext(callback, delay) {\r\n    return setTimeout(bind(callback), delay);\r\n}\r\n// Turn any generator function into an async function (using yield instead\r\n// of await), with context automatically preserved across yields.\r\nfunction asyncFromGen(genFn) {\r\n    return function () {\r\n        var gen = genFn.apply(this, arguments);\r\n        var boundNext = bind(gen.next);\r\n        var boundThrow = bind(gen.throw);\r\n        return new Promise(function (resolve, reject) {\r\n            function invoke(method, argument) {\r\n                try {\r\n                    var result = method.call(gen, argument);\r\n                }\r\n                catch (error) {\r\n                    return reject(error);\r\n                }\r\n                var next = result.done ? resolve : invokeNext;\r\n                if (isPromiseLike(result.value)) {\r\n                    result.value.then(next, result.done ? reject : invokeThrow);\r\n                }\r\n                else {\r\n                    next(result.value);\r\n                }\r\n            }\r\n            var invokeNext = function (value) { return invoke(boundNext, value); };\r\n            var invokeThrow = function (error) { return invoke(boundThrow, error); };\r\n            invokeNext();\r\n        });\r\n    };\r\n}\r\nfunction isPromiseLike(value) {\r\n    return value && typeof value.then === \"function\";\r\n}\r\n// If you use the fibers npm package to implement coroutines in Node.js,\r\n// you should call this function at least once to ensure context management\r\n// remains coherent across any yields.\r\nvar wrappedFibers = [];\r\nfunction wrapYieldingFiberMethods(Fiber) {\r\n    // There can be only one implementation of Fiber per process, so this array\r\n    // should never grow longer than one element.\r\n    if (wrappedFibers.indexOf(Fiber) < 0) {\r\n        var wrap = function (obj, method) {\r\n            var fn = obj[method];\r\n            obj[method] = function () {\r\n                return noContext(fn, arguments, this);\r\n            };\r\n        };\r\n        // These methods can yield, according to\r\n        // https://github.com/laverdet/node-fibers/blob/ddebed9b8ae3883e57f822e2108e6943e5c8d2a8/fibers.js#L97-L100\r\n        wrap(Fiber, \"yield\");\r\n        wrap(Fiber.prototype, \"run\");\r\n        wrap(Fiber.prototype, \"throwInto\");\r\n        wrappedFibers.push(Fiber);\r\n    }\r\n    return Fiber;\r\n}\r\n\r\nexport { Slot, asyncFromGen, bind, noContext, setTimeoutWithContext as setTimeout, wrapYieldingFiberMethods };\r\n\n","var _a = Object.prototype, toString = _a.toString, hasOwnProperty = _a.hasOwnProperty;\r\nvar fnToStr = Function.prototype.toString;\r\nvar previousComparisons = new Map();\r\n/**\r\n * Performs a deep equality check on two JavaScript values, tolerating cycles.\r\n */\r\nfunction equal(a, b) {\r\n    try {\r\n        return check(a, b);\r\n    }\r\n    finally {\r\n        previousComparisons.clear();\r\n    }\r\n}\r\nfunction check(a, b) {\r\n    // If the two values are strictly equal, our job is easy.\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    // Object.prototype.toString returns a representation of the runtime type of\r\n    // the given value that is considerably more precise than typeof.\r\n    var aTag = toString.call(a);\r\n    var bTag = toString.call(b);\r\n    // If the runtime types of a and b are different, they could maybe be equal\r\n    // under some interpretation of equality, but for simplicity and performance\r\n    // we just return false instead.\r\n    if (aTag !== bTag) {\r\n        return false;\r\n    }\r\n    switch (aTag) {\r\n        case '[object Array]':\r\n            // Arrays are a lot like other objects, but we can cheaply compare their\r\n            // lengths as a short-cut before comparing their elements.\r\n            if (a.length !== b.length)\r\n                return false;\r\n        // Fall through to object case...\r\n        case '[object Object]': {\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aKeys = definedKeys(a);\r\n            var bKeys = definedKeys(b);\r\n            // If `a` and `b` have a different number of enumerable keys, they\r\n            // must be different.\r\n            var keyCount = aKeys.length;\r\n            if (keyCount !== bKeys.length)\r\n                return false;\r\n            // Now make sure they have the same keys.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                if (!hasOwnProperty.call(b, aKeys[k])) {\r\n                    return false;\r\n                }\r\n            }\r\n            // Finally, check deep equality of all child properties.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                var key = aKeys[k];\r\n                if (!check(a[key], b[key])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        case '[object Error]':\r\n            return a.name === b.name && a.message === b.message;\r\n        case '[object Number]':\r\n            // Handle NaN, which is !== itself.\r\n            if (a !== a)\r\n                return b !== b;\r\n        // Fall through to shared +a === +b case...\r\n        case '[object Boolean]':\r\n        case '[object Date]':\r\n            return +a === +b;\r\n        case '[object RegExp]':\r\n        case '[object String]':\r\n            return a == \"\" + b;\r\n        case '[object Map]':\r\n        case '[object Set]': {\r\n            if (a.size !== b.size)\r\n                return false;\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aIterator = a.entries();\r\n            var isMap = aTag === '[object Map]';\r\n            while (true) {\r\n                var info = aIterator.next();\r\n                if (info.done)\r\n                    break;\r\n                // If a instanceof Set, aValue === aKey.\r\n                var _a = info.value, aKey = _a[0], aValue = _a[1];\r\n                // So this works the same way for both Set and Map.\r\n                if (!b.has(aKey)) {\r\n                    return false;\r\n                }\r\n                // However, we care about deep equality of values only when dealing\r\n                // with Map structures.\r\n                if (isMap && !check(aValue, b.get(aKey))) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        case '[object Uint16Array]':\r\n        case '[object Uint8Array]': // Buffer, in Node.js.\r\n        case '[object Uint32Array]':\r\n        case '[object Int32Array]':\r\n        case '[object Int8Array]':\r\n        case '[object Int16Array]':\r\n        case '[object ArrayBuffer]':\r\n            // DataView doesn't need these conversions, but the equality check is\r\n            // otherwise the same.\r\n            a = new Uint8Array(a);\r\n            b = new Uint8Array(b);\r\n        // Fall through...\r\n        case '[object DataView]': {\r\n            var len = a.byteLength;\r\n            if (len === b.byteLength) {\r\n                while (len-- && a[len] === b[len]) {\r\n                    // Keep looping as long as the bytes are equal.\r\n                }\r\n            }\r\n            return len === -1;\r\n        }\r\n        case '[object AsyncFunction]':\r\n        case '[object GeneratorFunction]':\r\n        case '[object AsyncGeneratorFunction]':\r\n        case '[object Function]': {\r\n            var aCode = fnToStr.call(a);\r\n            if (aCode !== fnToStr.call(b)) {\r\n                return false;\r\n            }\r\n            // We consider non-native functions equal if they have the same code\r\n            // (native functions require === because their code is censored).\r\n            // Note that this behavior is not entirely sound, since !== function\r\n            // objects with the same code can behave differently depending on\r\n            // their closure scope. However, any function can behave differently\r\n            // depending on the values of its input arguments (including this)\r\n            // and its calling context (including its closure scope), even\r\n            // though the function object is === to itself; and it is entirely\r\n            // possible for functions that are not === to behave exactly the\r\n            // same under all conceivable circumstances. Because none of these\r\n            // factors are statically decidable in JavaScript, JS function\r\n            // equality is not well-defined. This ambiguity allows us to\r\n            // consider the best possible heuristic among various imperfect\r\n            // options, and equating non-native functions that have the same\r\n            // code has enormous practical benefits, such as when comparing\r\n            // functions that are repeatedly passed as fresh function\r\n            // expressions within objects that are otherwise deeply equal. Since\r\n            // any function created from the same syntactic expression (in the\r\n            // same code location) will always stringify to the same code\r\n            // according to fnToStr.call, we can reasonably expect these\r\n            // repeatedly passed function expressions to have the same code, and\r\n            // thus behave \"the same\" (with all the caveats mentioned above),\r\n            // even though the runtime function objects are !== to one another.\r\n            return !endsWith(aCode, nativeCodeSuffix);\r\n        }\r\n    }\r\n    // Otherwise the values are not equal.\r\n    return false;\r\n}\r\nfunction definedKeys(obj) {\r\n    // Remember that the second argument to Array.prototype.filter will be\r\n    // used as `this` within the callback function.\r\n    return Object.keys(obj).filter(isDefinedKey, obj);\r\n}\r\nfunction isDefinedKey(key) {\r\n    return this[key] !== void 0;\r\n}\r\nvar nativeCodeSuffix = \"{ [native code] }\";\r\nfunction endsWith(full, suffix) {\r\n    var fromIndex = full.length - suffix.length;\r\n    return fromIndex >= 0 &&\r\n        full.indexOf(suffix, fromIndex) === fromIndex;\r\n}\r\nfunction previouslyCompared(a, b) {\r\n    // Though cyclic references can make an object graph appear infinite from the\r\n    // perspective of a depth-first traversal, the graph still contains a finite\r\n    // number of distinct object references. We use the previousComparisons cache\r\n    // to avoid comparing the same pair of object references more than once, which\r\n    // guarantees termination (even if we end up comparing every object in one\r\n    // graph to every object in the other graph, which is extremely unlikely),\r\n    // while still allowing weird isomorphic structures (like rings with different\r\n    // lengths) a chance to pass the equality test.\r\n    var bSet = previousComparisons.get(a);\r\n    if (bSet) {\r\n        // Return true here because we can be sure false will be returned somewhere\r\n        // else if the objects are not equivalent.\r\n        if (bSet.has(b))\r\n            return true;\r\n    }\r\n    else {\r\n        previousComparisons.set(a, bSet = new Set);\r\n    }\r\n    bSet.add(b);\r\n    return false;\r\n}\r\n\r\nexport { equal as default, equal };\r\n\n","// A [trie](https://en.wikipedia.org/wiki/Trie) data structure that holds\r\n// object keys weakly, yet can also hold non-object keys, unlike the\r\n// native `WeakMap`.\r\n// If no makeData function is supplied, the looked-up data will be an empty,\r\n// null-prototype Object.\r\nvar defaultMakeData = function () { return Object.create(null); };\r\n// Useful for processing arguments objects as well as arrays.\r\nvar _a = Array.prototype, forEach = _a.forEach, slice = _a.slice;\r\nvar Trie = /** @class */ (function () {\r\n    function Trie(weakness, makeData) {\r\n        if (weakness === void 0) { weakness = true; }\r\n        if (makeData === void 0) { makeData = defaultMakeData; }\r\n        this.weakness = weakness;\r\n        this.makeData = makeData;\r\n    }\r\n    Trie.prototype.lookup = function () {\r\n        var array = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            array[_i] = arguments[_i];\r\n        }\r\n        return this.lookupArray(array);\r\n    };\r\n    Trie.prototype.lookupArray = function (array) {\r\n        var node = this;\r\n        forEach.call(array, function (key) { return node = node.getChildTrie(key); });\r\n        return node.data || (node.data = this.makeData(slice.call(array)));\r\n    };\r\n    Trie.prototype.getChildTrie = function (key) {\r\n        var map = this.weakness && isObjRef(key)\r\n            ? this.weak || (this.weak = new WeakMap())\r\n            : this.strong || (this.strong = new Map());\r\n        var child = map.get(key);\r\n        if (!child)\r\n            map.set(key, child = new Trie(this.weakness, this.makeData));\r\n        return child;\r\n    };\r\n    return Trie;\r\n}());\r\nfunction isObjRef(value) {\r\n    switch (typeof value) {\r\n        case \"object\":\r\n            if (value === null)\r\n                break;\r\n        // Fall through to return true...\r\n        case \"function\":\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport { Trie };\r\n\n","import * as i0 from '@angular/core';\r\nimport { InjectionToken, Injectable, NgZone, Optional, Inject } from '@angular/core';\r\nimport { ApolloClient } from '@apollo/client/core';\r\nimport * as ngcc0 from '@angular/core';\r\nexport { gql, gql as graphql } from '@apollo/client/core';\r\nimport { Observable, queueScheduler, observable, from } from 'rxjs';\r\nimport { observeOn, startWith } from 'rxjs/operators';\r\n\r\nfunction fromPromise(promiseFn) {\r\n    return new Observable((subscriber) => {\r\n        promiseFn().then((result) => {\r\n            if (!subscriber.closed) {\r\n                subscriber.next(result);\r\n                subscriber.complete();\r\n            }\r\n        }, (error) => {\r\n            if (!subscriber.closed) {\r\n                subscriber.error(error);\r\n            }\r\n        });\r\n        return () => subscriber.unsubscribe();\r\n    });\r\n}\r\nclass ZoneScheduler {\r\n    constructor(zone) {\r\n        this.zone = zone;\r\n        this.now = Date.now ? Date.now : () => +new Date();\r\n    }\r\n    schedule(work, delay = 0, state) {\r\n        return this.zone.run(() => queueScheduler.schedule(work, delay, state));\r\n    }\r\n}\r\nfunction fixObservable(obs) {\r\n    obs[observable] = () => obs;\r\n    return obs;\r\n}\r\nfunction wrapWithZone(obs, ngZone) {\r\n    return obs.pipe(observeOn(new ZoneScheduler(ngZone)));\r\n}\r\nfunction pickFlag(flags, flag, defaultValue) {\r\n    return flags && typeof flags[flag] !== 'undefined'\r\n        ? flags[flag]\r\n        : defaultValue;\r\n}\r\n\r\nclass QueryRef {\r\n    constructor(obsQuery, ngZone, options) {\r\n        this.obsQuery = obsQuery;\r\n        const wrapped = wrapWithZone(from(fixObservable(this.obsQuery)), ngZone);\r\n        this.valueChanges = options.useInitialLoading\r\n            ? wrapped.pipe(startWith(Object.assign(Object.assign({}, this.obsQuery.getCurrentResult(false)), { error: undefined, partial: undefined, stale: true })))\r\n            : wrapped;\r\n        this.queryId = this.obsQuery.queryId;\r\n    }\r\n    // ObservableQuery's methods\r\n    result() {\r\n        return this.obsQuery.result();\r\n    }\r\n    getCurrentResult() {\r\n        return this.obsQuery.getCurrentResult();\r\n    }\r\n    getLastResult() {\r\n        return this.obsQuery.getLastResult();\r\n    }\r\n    getLastError() {\r\n        return this.obsQuery.getLastError();\r\n    }\r\n    resetLastResults() {\r\n        return this.obsQuery.resetLastResults();\r\n    }\r\n    refetch(variables) {\r\n        return this.obsQuery.refetch(variables);\r\n    }\r\n    fetchMore(fetchMoreOptions) {\r\n        return this.obsQuery.fetchMore(fetchMoreOptions);\r\n    }\r\n    subscribeToMore(options) {\r\n        // XXX: there's a bug in apollo-client typings\r\n        // it should not inherit types from ObservableQuery\r\n        return this.obsQuery.subscribeToMore(options);\r\n    }\r\n    updateQuery(mapFn) {\r\n        return this.obsQuery.updateQuery(mapFn);\r\n    }\r\n    stopPolling() {\r\n        return this.obsQuery.stopPolling();\r\n    }\r\n    startPolling(pollInterval) {\r\n        return this.obsQuery.startPolling(pollInterval);\r\n    }\r\n    setOptions(opts) {\r\n        return this.obsQuery.setOptions(opts);\r\n    }\r\n    setVariables(variables) {\r\n        return this.obsQuery.setVariables(variables);\r\n    }\r\n}\r\n\r\nconst APOLLO_FLAGS = new InjectionToken('APOLLO_FLAGS');\r\nconst APOLLO_OPTIONS = new InjectionToken('APOLLO_OPTIONS');\r\nconst APOLLO_NAMED_OPTIONS = new InjectionToken('APOLLO_NAMED_OPTIONS');\r\n\r\nclass ApolloBase {\r\n    constructor(ngZone, flags, _client) {\r\n        this.ngZone = ngZone;\r\n        this.flags = flags;\r\n        this._client = _client;\r\n        this.useInitialLoading = pickFlag(flags, 'useInitialLoading', false);\r\n    }\r\n    watchQuery(options) {\r\n        return new QueryRef(this.ensureClient().watchQuery(Object.assign({}, options)), this.ngZone, Object.assign({ useInitialLoading: this.useInitialLoading }, options));\r\n    }\r\n    query(options) {\r\n        return fromPromise(() => this.ensureClient().query(Object.assign({}, options)));\r\n    }\r\n    mutate(options) {\r\n        return fromPromise(() => this.ensureClient().mutate(Object.assign({}, options)));\r\n    }\r\n    subscribe(options, extra) {\r\n        const obs = from(fixObservable(this.ensureClient().subscribe(Object.assign({}, options))));\r\n        return extra && extra.useZone !== true\r\n            ? obs\r\n            : wrapWithZone(obs, this.ngZone);\r\n    }\r\n    /**\r\n     * Get an access to an instance of ApolloClient\r\n     * @deprecated use `apollo.client` instead\r\n     */\r\n    getClient() {\r\n        return this.client;\r\n    }\r\n    /**\r\n     * Set a new instance of ApolloClient\r\n     * Remember to clean up the store before setting a new client.\r\n     * @deprecated use `apollo.client = client` instead\r\n     *\r\n     * @param client ApolloClient instance\r\n     */\r\n    setClient(client) {\r\n        this.client = client;\r\n    }\r\n    /**\r\n     * Get an access to an instance of ApolloClient\r\n     */\r\n    get client() {\r\n        return this._client;\r\n    }\r\n    /**\r\n     * Set a new instance of ApolloClient\r\n     * Remember to clean up the store before setting a new client.\r\n     *\r\n     * @param client ApolloClient instance\r\n     */\r\n    set client(client) {\r\n        if (this._client) {\r\n            throw new Error('Client has been already defined');\r\n        }\r\n        this._client = client;\r\n    }\r\n    ensureClient() {\r\n        this.checkInstance();\r\n        return this._client;\r\n    }\r\n    checkInstance() {\r\n        if (!this._client) {\r\n            throw new Error('Client has not been defined yet');\r\n        }\r\n    }\r\n}\r\nclass Apollo extends ApolloBase {\r\n    constructor(_ngZone, apolloOptions, apolloNamedOptions, flags) {\r\n        super(_ngZone, flags);\r\n        this._ngZone = _ngZone;\r\n        this.map = new Map();\r\n        if (apolloOptions) {\r\n            this.createDefault(apolloOptions);\r\n        }\r\n        if (apolloNamedOptions && typeof apolloNamedOptions === 'object') {\r\n            for (let name in apolloNamedOptions) {\r\n                if (apolloNamedOptions.hasOwnProperty(name)) {\r\n                    const options = apolloNamedOptions[name];\r\n                    this.createNamed(name, options);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Create an instance of ApolloClient\r\n     * @param options Options required to create ApolloClient\r\n     * @param name client's name\r\n     */\r\n    create(options, name) {\r\n        if (isDefault(name)) {\r\n            this.createDefault(options);\r\n        }\r\n        else {\r\n            this.createNamed(name, options);\r\n        }\r\n    }\r\n    /**\r\n     * Use a default ApolloClient\r\n     */\r\n    default() {\r\n        return this;\r\n    }\r\n    /**\r\n     * Use a named ApolloClient\r\n     * @param name client's name\r\n     */\r\n    use(name) {\r\n        if (isDefault(name)) {\r\n            return this.default();\r\n        }\r\n        return this.map.get(name);\r\n    }\r\n    /**\r\n     * Create a default ApolloClient, same as `apollo.create(options)`\r\n     * @param options ApolloClient's options\r\n     */\r\n    createDefault(options) {\r\n        if (this.getClient()) {\r\n            throw new Error('Apollo has been already created.');\r\n        }\r\n        return this.setClient(new ApolloClient(options));\r\n    }\r\n    /**\r\n     * Create a named ApolloClient, same as `apollo.create(options, name)`\r\n     * @param name client's name\r\n     * @param options ApolloClient's options\r\n     */\r\n    createNamed(name, options) {\r\n        if (this.map.has(name)) {\r\n            throw new Error(`Client ${name} has been already created`);\r\n        }\r\n        this.map.set(name, new ApolloBase(this._ngZone, this.flags, new ApolloClient(options)));\r\n    }\r\n    /**\r\n     * Remember to clean up the store before removing a client\r\n     * @param name client's name\r\n     */\r\n    removeClient(name) {\r\n        if (isDefault(name)) {\r\n            this._client = undefined;\r\n        }\r\n        else {\r\n            this.map.delete(name);\r\n        }\r\n    }\r\n}\r\nApollo.fac = function Apollo_Factory(t) { return new (t || Apollo)(ngcc0.inject(ngcc0.NgZone), ngcc0.inject(APOLLO_OPTIONS, 8), ngcc0.inject(APOLLO_NAMED_OPTIONS, 8), ngcc0.inject(APOLLO_FLAGS, 8)); };\r\nApollo.prov = i0.defineInjectable({ factory: function Apollo_Factory() { return new Apollo(i0.inject(i0.NgZone), i0.inject(APOLLO_OPTIONS, 8), i0.inject(APOLLO_NAMED_OPTIONS, 8), i0.inject(APOLLO_FLAGS, 8)); }, token: Apollo, providedIn: \"root\" });\r\nApollo.ctorParameters = () => [\r\n    { type: NgZone },\r\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [APOLLO_OPTIONS,] }] },\r\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [APOLLO_NAMED_OPTIONS,] }] },\r\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [APOLLO_FLAGS,] }] }\r\n];\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(Apollo, [{\r\n        type: Injectable,\r\n        args: [{\r\n                providedIn: 'root'\r\n            }]\r\n    }], function () { return [{ type: ngcc0.NgZone }, { type: undefined, decorators: [{\r\n                type: Optional\r\n            }, {\r\n                type: Inject,\r\n                args: [APOLLO_OPTIONS]\r\n            }] }, { type: undefined, decorators: [{\r\n                type: Optional\r\n            }, {\r\n                type: Inject,\r\n                args: [APOLLO_NAMED_OPTIONS]\r\n            }] }, { type: undefined, decorators: [{\r\n                type: Optional\r\n            }, {\r\n                type: Inject,\r\n                args: [APOLLO_FLAGS]\r\n            }] }]; }, null); })();\r\nfunction isDefault(name) {\r\n    return !name || name === 'default';\r\n}\r\n\r\nclass Query {\r\n    constructor(apollo) {\r\n        this.apollo = apollo;\r\n        this.client = 'default';\r\n    }\r\n    watch(variables, options) {\r\n        return this.apollo.use(this.client).watchQuery(Object.assign(Object.assign({}, options), { variables, query: this.document }));\r\n    }\r\n    fetch(variables, options) {\r\n        return this.apollo.use(this.client).query(Object.assign(Object.assign({}, options), { variables, query: this.document }));\r\n    }\r\n}\r\nQuery.fac = function Query_Factory(t) { return new (t || Query)(ngcc0.inject(Apollo)); };\r\nQuery.prov = /*@__PURE__*/ ngcc0.defineInjectable({ token: Query, factory: Query.fac });\r\nQuery.ctorParameters = () => [\r\n    { type: Apollo }\r\n];\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(Query, [{\r\n        type: Injectable\r\n    }], function () { return [{ type: Apollo }]; }, null); })();\r\n\r\nclass Mutation {\r\n    constructor(apollo) {\r\n        this.apollo = apollo;\r\n        this.client = 'default';\r\n    }\r\n    mutate(variables, options) {\r\n        return this.apollo.use(this.client).mutate(Object.assign(Object.assign({}, options), { variables, mutation: this.document }));\r\n    }\r\n}\r\nMutation.fac = function Mutation_Factory(t) { return new (t || Mutation)(ngcc0.inject(Apollo)); };\r\nMutation.prov = /*@__PURE__*/ ngcc0.defineInjectable({ token: Mutation, factory: Mutation.fac });\r\nMutation.ctorParameters = () => [\r\n    { type: Apollo }\r\n];\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(Mutation, [{\r\n        type: Injectable\r\n    }], function () { return [{ type: Apollo }]; }, null); })();\r\n\r\nclass Subscription {\r\n    constructor(apollo) {\r\n        this.apollo = apollo;\r\n        this.client = 'default';\r\n    }\r\n    subscribe(variables, options, extra) {\r\n        return this.apollo.use(this.client).subscribe(Object.assign(Object.assign({}, options), { variables, query: this.document }), extra);\r\n    }\r\n}\r\nSubscription.fac = function Subscription_Factory(t) { return new (t || Subscription)(ngcc0.inject(Apollo)); };\r\nSubscription.prov = /*@__PURE__*/ ngcc0.defineInjectable({ token: Subscription, factory: Subscription.fac });\r\nSubscription.ctorParameters = () => [\r\n    { type: Apollo }\r\n];\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(Subscription, [{\r\n        type: Injectable\r\n    }], function () { return [{ type: Apollo }]; }, null); })();\r\n\r\n/**\r\n * Generated bundle index. Do not edit.\r\n */\r\n\r\nexport { APOLLO_FLAGS, APOLLO_NAMED_OPTIONS, APOLLO_OPTIONS, Apollo, ApolloBase, Mutation, Query, QueryRef, Subscription };\r\n\r\n","import { Trie } from '@wry/trie';\r\nexport { Trie as KeyTrie } from '@wry/trie';\r\nimport { Slot } from '@wry/context';\r\nexport { asyncFromGen, bind as bindContext, noContext, setTimeout } from '@wry/context';\r\n\r\nfunction defaultDispose() { }\r\nvar Cache = /** @class */ (function () {\r\n    function Cache(max, dispose) {\r\n        if (max === void 0) { max = Infinity; }\r\n        if (dispose === void 0) { dispose = defaultDispose; }\r\n        this.max = max;\r\n        this.dispose = dispose;\r\n        this.map = new Map();\r\n        this.newest = null;\r\n        this.oldest = null;\r\n    }\r\n    Cache.prototype.has = function (key) {\r\n        return this.map.has(key);\r\n    };\r\n    Cache.prototype.get = function (key) {\r\n        var node = this.getNode(key);\r\n        return node && node.value;\r\n    };\r\n    Cache.prototype.getNode = function (key) {\r\n        var node = this.map.get(key);\r\n        if (node && node !== this.newest) {\r\n            var older = node.older, newer = node.newer;\r\n            if (newer) {\r\n                newer.older = older;\r\n            }\r\n            if (older) {\r\n                older.newer = newer;\r\n            }\r\n            node.older = this.newest;\r\n            node.older.newer = node;\r\n            node.newer = null;\r\n            this.newest = node;\r\n            if (node === this.oldest) {\r\n                this.oldest = newer;\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    Cache.prototype.set = function (key, value) {\r\n        var node = this.getNode(key);\r\n        if (node) {\r\n            return node.value = value;\r\n        }\r\n        node = {\r\n            key: key,\r\n            value: value,\r\n            newer: null,\r\n            older: this.newest\r\n        };\r\n        if (this.newest) {\r\n            this.newest.newer = node;\r\n        }\r\n        this.newest = node;\r\n        this.oldest = this.oldest || node;\r\n        this.map.set(key, node);\r\n        return node.value;\r\n    };\r\n    Cache.prototype.clean = function () {\r\n        while (this.oldest && this.map.size > this.max) {\r\n            this.delete(this.oldest.key);\r\n        }\r\n    };\r\n    Cache.prototype.delete = function (key) {\r\n        var node = this.map.get(key);\r\n        if (node) {\r\n            if (node === this.newest) {\r\n                this.newest = node.older;\r\n            }\r\n            if (node === this.oldest) {\r\n                this.oldest = node.newer;\r\n            }\r\n            if (node.newer) {\r\n                node.newer.older = node.older;\r\n            }\r\n            if (node.older) {\r\n                node.older.newer = node.newer;\r\n            }\r\n            this.map.delete(key);\r\n            this.dispose(node.value, key);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return Cache;\r\n}());\r\n\r\nvar parentEntrySlot = new Slot();\r\n\r\nvar _a;\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar \r\n// This Array.from polyfill is restricted to working with Set<any> for now,\r\n// but we can improve the polyfill and add other input types, as needed. Note\r\n// that this fallback implementation will only be used if the host environment\r\n// does not support a native Array.from function. In most modern JS runtimes,\r\n// the toArray function exported here will be === Array.from.\r\ntoArray = (_a = Array.from, _a === void 0 ? function (collection) {\r\n    var array = [];\r\n    collection.forEach(function (item) { return array.push(item); });\r\n    return array;\r\n} : _a);\r\nfunction maybeUnsubscribe(entryOrDep) {\r\n    var unsubscribe = entryOrDep.unsubscribe;\r\n    if (typeof unsubscribe === \"function\") {\r\n        entryOrDep.unsubscribe = void 0;\r\n        unsubscribe();\r\n    }\r\n}\r\n\r\nvar emptySetPool = [];\r\nvar POOL_TARGET_SIZE = 100;\r\n// Since this package might be used browsers, we should avoid using the\r\n// Node built-in assert module.\r\nfunction assert(condition, optionalMessage) {\r\n    if (!condition) {\r\n        throw new Error(optionalMessage || \"assertion failure\");\r\n    }\r\n}\r\nfunction valueIs(a, b) {\r\n    var len = a.length;\r\n    return (\r\n    // Unknown values are not equal to each other.\r\n    len > 0 &&\r\n        // Both values must be ordinary (or both exceptional) to be equal.\r\n        len === b.length &&\r\n        // The underlying value or exception must be the same.\r\n        a[len - 1] === b[len - 1]);\r\n}\r\nfunction valueGet(value) {\r\n    switch (value.length) {\r\n        case 0: throw new Error(\"unknown value\");\r\n        case 1: return value[0];\r\n        case 2: throw value[1];\r\n    }\r\n}\r\nfunction valueCopy(value) {\r\n    return value.slice(0);\r\n}\r\nvar Entry = /** @class */ (function () {\r\n    function Entry(fn) {\r\n        this.fn = fn;\r\n        this.parents = new Set();\r\n        this.childValues = new Map();\r\n        // When this Entry has children that are dirty, this property becomes\r\n        // a Set containing other Entry objects, borrowed from emptySetPool.\r\n        // When the set becomes empty, it gets recycled back to emptySetPool.\r\n        this.dirtyChildren = null;\r\n        this.dirty = true;\r\n        this.recomputing = false;\r\n        this.value = [];\r\n        this.deps = null;\r\n        ++Entry.count;\r\n    }\r\n    Entry.prototype.peek = function () {\r\n        if (this.value.length === 1 && !mightBeDirty(this)) {\r\n            rememberParent(this);\r\n            return this.value[0];\r\n        }\r\n    };\r\n    // This is the most important method of the Entry API, because it\r\n    // determines whether the cached this.value can be returned immediately,\r\n    // or must be recomputed. The overall performance of the caching system\r\n    // depends on the truth of the following observations: (1) this.dirty is\r\n    // usually false, (2) this.dirtyChildren is usually null/empty, and thus\r\n    // (3) valueGet(this.value) is usually returned without recomputation.\r\n    Entry.prototype.recompute = function (args) {\r\n        assert(!this.recomputing, \"already recomputing\");\r\n        rememberParent(this);\r\n        return mightBeDirty(this)\r\n            ? reallyRecompute(this, args)\r\n            : valueGet(this.value);\r\n    };\r\n    Entry.prototype.setDirty = function () {\r\n        if (this.dirty)\r\n            return;\r\n        this.dirty = true;\r\n        this.value.length = 0;\r\n        reportDirty(this);\r\n        // We can go ahead and unsubscribe here, since any further dirty\r\n        // notifications we receive will be redundant, and unsubscribing may\r\n        // free up some resources, e.g. file watchers.\r\n        maybeUnsubscribe(this);\r\n    };\r\n    Entry.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.setDirty();\r\n        // Sever any dependency relationships with our own children, so those\r\n        // children don't retain this parent Entry in their child.parents sets,\r\n        // thereby preventing it from being fully garbage collected.\r\n        forgetChildren(this);\r\n        // Because this entry has been kicked out of the cache (in index.js),\r\n        // we've lost the ability to find out if/when this entry becomes dirty,\r\n        // whether that happens through a subscription, because of a direct call\r\n        // to entry.setDirty(), or because one of its children becomes dirty.\r\n        // Because of this loss of future information, we have to assume the\r\n        // worst (that this entry might have become dirty very soon), so we must\r\n        // immediately mark this entry's parents as dirty. Normally we could\r\n        // just call entry.setDirty() rather than calling parent.setDirty() for\r\n        // each parent, but that would leave this entry in parent.childValues\r\n        // and parent.dirtyChildren, which would prevent the child from being\r\n        // truly forgotten.\r\n        eachParent(this, function (parent, child) {\r\n            parent.setDirty();\r\n            forgetChild(parent, _this);\r\n        });\r\n    };\r\n    Entry.prototype.forget = function () {\r\n        // The code that creates Entry objects in index.ts will replace this method\r\n        // with one that actually removes the Entry from the cache, which will also\r\n        // trigger the entry.dispose method.\r\n        this.dispose();\r\n    };\r\n    Entry.prototype.dependOn = function (dep) {\r\n        dep.add(this);\r\n        if (!this.deps) {\r\n            this.deps = emptySetPool.pop() || new Set();\r\n        }\r\n        this.deps.add(dep);\r\n    };\r\n    Entry.prototype.forgetDeps = function () {\r\n        var _this = this;\r\n        if (this.deps) {\r\n            toArray(this.deps).forEach(function (dep) { return dep.delete(_this); });\r\n            this.deps.clear();\r\n            emptySetPool.push(this.deps);\r\n            this.deps = null;\r\n        }\r\n    };\r\n    Entry.count = 0;\r\n    return Entry;\r\n}());\r\nfunction rememberParent(child) {\r\n    var parent = parentEntrySlot.getValue();\r\n    if (parent) {\r\n        child.parents.add(parent);\r\n        if (!parent.childValues.has(child)) {\r\n            parent.childValues.set(child, []);\r\n        }\r\n        if (mightBeDirty(child)) {\r\n            reportDirtyChild(parent, child);\r\n        }\r\n        else {\r\n            reportCleanChild(parent, child);\r\n        }\r\n        return parent;\r\n    }\r\n}\r\nfunction reallyRecompute(entry, args) {\r\n    forgetChildren(entry);\r\n    // Set entry as the parent entry while calling recomputeNewValue(entry).\r\n    parentEntrySlot.withValue(entry, recomputeNewValue, [entry, args]);\r\n    if (maybeSubscribe(entry, args)) {\r\n        // If we successfully recomputed entry.value and did not fail to\r\n        // (re)subscribe, then this Entry is no longer explicitly dirty.\r\n        setClean(entry);\r\n    }\r\n    return valueGet(entry.value);\r\n}\r\nfunction recomputeNewValue(entry, args) {\r\n    entry.recomputing = true;\r\n    // Set entry.value as unknown.\r\n    entry.value.length = 0;\r\n    try {\r\n        // If entry.fn succeeds, entry.value will become a normal Value.\r\n        entry.value[0] = entry.fn.apply(null, args);\r\n    }\r\n    catch (e) {\r\n        // If entry.fn throws, entry.value will become exceptional.\r\n        entry.value[1] = e;\r\n    }\r\n    // Either way, this line is always reached.\r\n    entry.recomputing = false;\r\n}\r\nfunction mightBeDirty(entry) {\r\n    return entry.dirty || !!(entry.dirtyChildren && entry.dirtyChildren.size);\r\n}\r\nfunction setClean(entry) {\r\n    entry.dirty = false;\r\n    if (mightBeDirty(entry)) {\r\n        // This Entry may still have dirty children, in which case we can't\r\n        // let our parents know we're clean just yet.\r\n        return;\r\n    }\r\n    reportClean(entry);\r\n}\r\nfunction reportDirty(child) {\r\n    eachParent(child, reportDirtyChild);\r\n}\r\nfunction reportClean(child) {\r\n    eachParent(child, reportCleanChild);\r\n}\r\nfunction eachParent(child, callback) {\r\n    var parentCount = child.parents.size;\r\n    if (parentCount) {\r\n        var parents = toArray(child.parents);\r\n        for (var i = 0; i < parentCount; ++i) {\r\n            callback(parents[i], child);\r\n        }\r\n    }\r\n}\r\n// Let a parent Entry know that one of its children may be dirty.\r\nfunction reportDirtyChild(parent, child) {\r\n    // Must have called rememberParent(child) before calling\r\n    // reportDirtyChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(mightBeDirty(child));\r\n    var parentWasClean = !mightBeDirty(parent);\r\n    if (!parent.dirtyChildren) {\r\n        parent.dirtyChildren = emptySetPool.pop() || new Set;\r\n    }\r\n    else if (parent.dirtyChildren.has(child)) {\r\n        // If we already know this child is dirty, then we must have already\r\n        // informed our own parents that we are dirty, so we can terminate\r\n        // the recursion early.\r\n        return;\r\n    }\r\n    parent.dirtyChildren.add(child);\r\n    // If parent was clean before, it just became (possibly) dirty (according to\r\n    // mightBeDirty), since we just added child to parent.dirtyChildren.\r\n    if (parentWasClean) {\r\n        reportDirty(parent);\r\n    }\r\n}\r\n// Let a parent Entry know that one of its children is no longer dirty.\r\nfunction reportCleanChild(parent, child) {\r\n    // Must have called rememberChild(child) before calling\r\n    // reportCleanChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(!mightBeDirty(child));\r\n    var childValue = parent.childValues.get(child);\r\n    if (childValue.length === 0) {\r\n        parent.childValues.set(child, valueCopy(child.value));\r\n    }\r\n    else if (!valueIs(childValue, child.value)) {\r\n        parent.setDirty();\r\n    }\r\n    removeDirtyChild(parent, child);\r\n    if (mightBeDirty(parent)) {\r\n        return;\r\n    }\r\n    reportClean(parent);\r\n}\r\nfunction removeDirtyChild(parent, child) {\r\n    var dc = parent.dirtyChildren;\r\n    if (dc) {\r\n        dc.delete(child);\r\n        if (dc.size === 0) {\r\n            if (emptySetPool.length < POOL_TARGET_SIZE) {\r\n                emptySetPool.push(dc);\r\n            }\r\n            parent.dirtyChildren = null;\r\n        }\r\n    }\r\n}\r\n// Removes all children from this entry and returns an array of the\r\n// removed children.\r\nfunction forgetChildren(parent) {\r\n    if (parent.childValues.size > 0) {\r\n        parent.childValues.forEach(function (_value, child) {\r\n            forgetChild(parent, child);\r\n        });\r\n    }\r\n    // Remove this parent Entry from any sets to which it was added by the\r\n    // addToSet method.\r\n    parent.forgetDeps();\r\n    // After we forget all our children, this.dirtyChildren must be empty\r\n    // and therefore must have been reset to null.\r\n    assert(parent.dirtyChildren === null);\r\n}\r\nfunction forgetChild(parent, child) {\r\n    child.parents.delete(parent);\r\n    parent.childValues.delete(child);\r\n    removeDirtyChild(parent, child);\r\n}\r\nfunction maybeSubscribe(entry, args) {\r\n    if (typeof entry.subscribe === \"function\") {\r\n        try {\r\n            maybeUnsubscribe(entry); // Prevent double subscriptions.\r\n            entry.unsubscribe = entry.subscribe.apply(null, args);\r\n        }\r\n        catch (e) {\r\n            // If this Entry has a subscribe function and it threw an exception\r\n            // (or an unsubscribe function it previously returned now throws),\r\n            // return false to indicate that we were not able to subscribe (or\r\n            // unsubscribe), and this Entry should remain dirty.\r\n            entry.setDirty();\r\n            return false;\r\n        }\r\n    }\r\n    // Returning true indicates either that there was no entry.subscribe\r\n    // function or that it succeeded.\r\n    return true;\r\n}\r\n\r\nvar EntryMethods = {\r\n    setDirty: true,\r\n    dispose: true,\r\n    forget: true,\r\n};\r\nfunction dep(options) {\r\n    var depsByKey = new Map();\r\n    var subscribe = options && options.subscribe;\r\n    function depend(key) {\r\n        var parent = parentEntrySlot.getValue();\r\n        if (parent) {\r\n            var dep_1 = depsByKey.get(key);\r\n            if (!dep_1) {\r\n                depsByKey.set(key, dep_1 = new Set);\r\n            }\r\n            parent.dependOn(dep_1);\r\n            if (typeof subscribe === \"function\") {\r\n                maybeUnsubscribe(dep_1);\r\n                dep_1.unsubscribe = subscribe(key);\r\n            }\r\n        }\r\n    }\r\n    depend.dirty = function dirty(key, entryMethodName) {\r\n        var dep = depsByKey.get(key);\r\n        if (dep) {\r\n            var m_1 = (entryMethodName &&\r\n                hasOwnProperty.call(EntryMethods, entryMethodName)) ? entryMethodName : \"setDirty\";\r\n            // We have to use toArray(dep).forEach instead of dep.forEach, because\r\n            // modifying a Set while iterating over it can cause elements in the Set\r\n            // to be removed from the Set before they've been iterated over.\r\n            toArray(dep).forEach(function (entry) { return entry[m_1](); });\r\n            depsByKey.delete(key);\r\n            maybeUnsubscribe(dep);\r\n        }\r\n    };\r\n    return depend;\r\n}\r\n\r\nfunction makeDefaultMakeCacheKeyFunction() {\r\n    var keyTrie = new Trie(typeof WeakMap === \"function\");\r\n    return function () {\r\n        return keyTrie.lookupArray(arguments);\r\n    };\r\n}\r\n// The defaultMakeCacheKey function is remarkably powerful, because it gives\r\n// a unique object for any shallow-identical list of arguments. If you need\r\n// to implement a custom makeCacheKey function, you may find it helpful to\r\n// delegate the final work to defaultMakeCacheKey, which is why we export it\r\n// here. However, you may want to avoid defaultMakeCacheKey if your runtime\r\n// does not support WeakMap, or you have the ability to return a string key.\r\n// In those cases, just write your own custom makeCacheKey functions.\r\nvar defaultMakeCacheKey = makeDefaultMakeCacheKeyFunction();\r\nvar caches = new Set();\r\nfunction wrap(originalFunction, options) {\r\n    if (options === void 0) { options = Object.create(null); }\r\n    var cache = new Cache(options.max || Math.pow(2, 16), function (entry) { return entry.dispose(); });\r\n    var keyArgs = options.keyArgs;\r\n    var makeCacheKey = options.makeCacheKey ||\r\n        makeDefaultMakeCacheKeyFunction();\r\n    var optimistic = function () {\r\n        var key = makeCacheKey.apply(null, keyArgs ? keyArgs.apply(null, arguments) : arguments);\r\n        if (key === void 0) {\r\n            return originalFunction.apply(null, arguments);\r\n        }\r\n        var entry = cache.get(key);\r\n        if (!entry) {\r\n            cache.set(key, entry = new Entry(originalFunction));\r\n            entry.subscribe = options.subscribe;\r\n            // Give the Entry the ability to trigger cache.delete(key), even though\r\n            // the Entry itself does not know about key or cache.\r\n            entry.forget = function () { return cache.delete(key); };\r\n        }\r\n        var value = entry.recompute(Array.prototype.slice.call(arguments));\r\n        // Move this entry to the front of the least-recently used queue,\r\n        // since we just finished computing its value.\r\n        cache.set(key, entry);\r\n        caches.add(cache);\r\n        // Clean up any excess entries in the cache, but only if there is no\r\n        // active parent entry, meaning we're not in the middle of a larger\r\n        // computation that might be flummoxed by the cleaning.\r\n        if (!parentEntrySlot.hasValue()) {\r\n            caches.forEach(function (cache) { return cache.clean(); });\r\n            caches.clear();\r\n        }\r\n        return value;\r\n    };\r\n    Object.defineProperty(optimistic, \"size\", {\r\n        get: function () {\r\n            return cache[\"map\"].size;\r\n        },\r\n        configurable: false,\r\n        enumerable: false,\r\n    });\r\n    function dirtyKey(key) {\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            entry.setDirty();\r\n        }\r\n    }\r\n    optimistic.dirtyKey = dirtyKey;\r\n    optimistic.dirty = function dirty() {\r\n        dirtyKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    function peekKey(key) {\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            return entry.peek();\r\n        }\r\n    }\r\n    optimistic.peekKey = peekKey;\r\n    optimistic.peek = function peek() {\r\n        return peekKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    function forgetKey(key) {\r\n        return cache.delete(key);\r\n    }\r\n    optimistic.forgetKey = forgetKey;\r\n    optimistic.forget = function forget() {\r\n        return forgetKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    optimistic.makeCacheKey = makeCacheKey;\r\n    optimistic.getKey = keyArgs ? function getKey() {\r\n        return makeCacheKey.apply(null, keyArgs.apply(null, arguments));\r\n    } : makeCacheKey;\r\n    return Object.freeze(optimistic);\r\n}\r\n\r\nexport { defaultMakeCacheKey, dep, wrap };\r\n\n","import { __extends } from 'tslib';\r\n\r\nvar genericMessage = \"Invariant Violation\";\r\nvar _a = Object.setPrototypeOf, setPrototypeOf = _a === void 0 ? function (obj, proto) {\r\n    obj.__proto__ = proto;\r\n    return obj;\r\n} : _a;\r\nvar InvariantError = /** @class */ (function (_super) {\r\n    __extends(InvariantError, _super);\r\n    function InvariantError(message) {\r\n        if (message === void 0) { message = genericMessage; }\r\n        var _this = _super.call(this, typeof message === \"number\"\r\n            ? genericMessage + \": \" + message + \" (see https://github.com/apollographql/invariant-packages)\"\r\n            : message) || this;\r\n        _this.framesToPop = 1;\r\n        _this.name = genericMessage;\r\n        setPrototypeOf(_this, InvariantError.prototype);\r\n        return _this;\r\n    }\r\n    return InvariantError;\r\n}(Error));\r\nfunction invariant(condition, message) {\r\n    if (!condition) {\r\n        throw new InvariantError(message);\r\n    }\r\n}\r\nvar verbosityLevels = [\"debug\", \"log\", \"warn\", \"error\", \"silent\"];\r\nvar verbosityLevel = verbosityLevels.indexOf(\"log\");\r\nfunction wrapConsoleMethod(name) {\r\n    return function () {\r\n        if (verbosityLevels.indexOf(name) >= verbosityLevel) {\r\n            // Default to console.log if this host environment happens not to provide\r\n            // all the console.* methods we need.\r\n            var method = console[name] || console.log;\r\n            return method.apply(console, arguments);\r\n        }\r\n    };\r\n}\r\n(function (invariant) {\r\n    invariant.debug = wrapConsoleMethod(\"debug\");\r\n    invariant.log = wrapConsoleMethod(\"log\");\r\n    invariant.warn = wrapConsoleMethod(\"warn\");\r\n    invariant.error = wrapConsoleMethod(\"error\");\r\n})(invariant || (invariant = {}));\r\nfunction setVerbosity(level) {\r\n    var old = verbosityLevels[verbosityLevel];\r\n    verbosityLevel = Math.max(0, verbosityLevels.indexOf(level));\r\n    return old;\r\n}\r\nvar invariant$1 = invariant;\r\n\r\nexport { InvariantError, invariant$1 as default, invariant, setVerbosity };\r\n\n","function maybe(thunk) {\r\n  try { return thunk() } catch (_) {}\r\n}\r\n\r\nvar safeGlobal = (\r\n  maybe(function() { return globalThis }) ||\r\n  maybe(function() { return window }) ||\r\n  maybe(function() { return self }) ||\r\n  maybe(function() { return global }) ||\r\n  maybe(function() { return Function(\"return this\")() })\r\n);\r\n\r\nvar needToRemove = false;\r\n\r\nexport function install() {\r\n  if (safeGlobal &&\r\n      !maybe(function() { return process.env.NODE_ENV }) &&\r\n      !maybe(function() { return process })) {\r\n    Object.defineProperty(safeGlobal, \"process\", {\r\n      value: {\r\n        env: {\r\n          // This default needs to be \"production\" instead of \"development\", to\r\n          // avoid the problem https://github.com/graphql/graphql-js/pull/2894\r\n          // will eventually solve, once merged and released.\r\n          NODE_ENV: \"production\",\r\n        },\r\n      },\r\n      // Let anyone else change global.process as they see fit, but hide it from\r\n      // Object.keys(global) enumeration.\r\n      configurable: true,\r\n      enumerable: false,\r\n      writable: true,\r\n    });\r\n    needToRemove = true;\r\n  }\r\n}\r\n\r\n// Call install() at least once, when this module is imported.\r\ninstall();\r\n\r\nexport function remove() {\r\n  if (needToRemove) {\r\n    delete safeGlobal.process;\r\n    needToRemove = false;\r\n  }\r\n}\r\n","function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\r\n\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\n// === Symbol Support ===\r\nvar hasSymbols = function () {\r\n  return typeof Symbol === 'function';\r\n};\r\n\r\nvar hasSymbol = function (name) {\r\n  return hasSymbols() && Boolean(Symbol[name]);\r\n};\r\n\r\nvar getSymbol = function (name) {\r\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\r\n};\r\n\r\nif (hasSymbols() && !hasSymbol('observable')) {\r\n  Symbol.observable = Symbol('observable');\r\n}\r\n\r\nvar SymbolIterator = getSymbol('iterator');\r\nvar SymbolObservable = getSymbol('observable');\r\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\r\n\r\nfunction getMethod(obj, key) {\r\n  var value = obj[key];\r\n  if (value == null) return undefined;\r\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\r\n  return value;\r\n}\r\n\r\nfunction getSpecies(obj) {\r\n  var ctor = obj.constructor;\r\n\r\n  if (ctor !== undefined) {\r\n    ctor = ctor[SymbolSpecies];\r\n\r\n    if (ctor === null) {\r\n      ctor = undefined;\r\n    }\r\n  }\r\n\r\n  return ctor !== undefined ? ctor : Observable;\r\n}\r\n\r\nfunction isObservable(x) {\r\n  return x instanceof Observable; // SPEC: Brand check\r\n}\r\n\r\nfunction hostReportError(e) {\r\n  if (hostReportError.log) {\r\n    hostReportError.log(e);\r\n  } else {\r\n    setTimeout(function () {\r\n      throw e;\r\n    });\r\n  }\r\n}\r\n\r\nfunction enqueue(fn) {\r\n  Promise.resolve().then(function () {\r\n    try {\r\n      fn();\r\n    } catch (e) {\r\n      hostReportError(e);\r\n    }\r\n  });\r\n}\r\n\r\nfunction cleanupSubscription(subscription) {\r\n  var cleanup = subscription._cleanup;\r\n  if (cleanup === undefined) return;\r\n  subscription._cleanup = undefined;\r\n\r\n  if (!cleanup) {\r\n    return;\r\n  }\r\n\r\n  try {\r\n    if (typeof cleanup === 'function') {\r\n      cleanup();\r\n    } else {\r\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\r\n\r\n      if (unsubscribe) {\r\n        unsubscribe.call(cleanup);\r\n      }\r\n    }\r\n  } catch (e) {\r\n    hostReportError(e);\r\n  }\r\n}\r\n\r\nfunction closeSubscription(subscription) {\r\n  subscription._observer = undefined;\r\n  subscription._queue = undefined;\r\n  subscription._state = 'closed';\r\n}\r\n\r\nfunction flushSubscription(subscription) {\r\n  var queue = subscription._queue;\r\n\r\n  if (!queue) {\r\n    return;\r\n  }\r\n\r\n  subscription._queue = undefined;\r\n  subscription._state = 'ready';\r\n\r\n  for (var i = 0; i < queue.length; ++i) {\r\n    notifySubscription(subscription, queue[i].type, queue[i].value);\r\n    if (subscription._state === 'closed') break;\r\n  }\r\n}\r\n\r\nfunction notifySubscription(subscription, type, value) {\r\n  subscription._state = 'running';\r\n  var observer = subscription._observer;\r\n\r\n  try {\r\n    var m = getMethod(observer, type);\r\n\r\n    switch (type) {\r\n      case 'next':\r\n        if (m) m.call(observer, value);\r\n        break;\r\n\r\n      case 'error':\r\n        closeSubscription(subscription);\r\n        if (m) m.call(observer, value);else throw value;\r\n        break;\r\n\r\n      case 'complete':\r\n        closeSubscription(subscription);\r\n        if (m) m.call(observer);\r\n        break;\r\n    }\r\n  } catch (e) {\r\n    hostReportError(e);\r\n  }\r\n\r\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\r\n}\r\n\r\nfunction onNotify(subscription, type, value) {\r\n  if (subscription._state === 'closed') return;\r\n\r\n  if (subscription._state === 'buffering') {\r\n    subscription._queue.push({\r\n      type: type,\r\n      value: value\r\n    });\r\n\r\n    return;\r\n  }\r\n\r\n  if (subscription._state !== 'ready') {\r\n    subscription._state = 'buffering';\r\n    subscription._queue = [{\r\n      type: type,\r\n      value: value\r\n    }];\r\n    enqueue(function () {\r\n      return flushSubscription(subscription);\r\n    });\r\n    return;\r\n  }\r\n\r\n  notifySubscription(subscription, type, value);\r\n}\r\n\r\nvar Subscription = /*#__PURE__*/function () {\r\n  function Subscription(observer, subscriber) {\r\n    // ASSERT: observer is an object\r\n    // ASSERT: subscriber is callable\r\n    this._cleanup = undefined;\r\n    this._observer = observer;\r\n    this._queue = undefined;\r\n    this._state = 'initializing';\r\n    var subscriptionObserver = new SubscriptionObserver(this);\r\n\r\n    try {\r\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\r\n    } catch (e) {\r\n      subscriptionObserver.error(e);\r\n    }\r\n\r\n    if (this._state === 'initializing') this._state = 'ready';\r\n  }\r\n\r\n  var _proto = Subscription.prototype;\r\n\r\n  _proto.unsubscribe = function unsubscribe() {\r\n    if (this._state !== 'closed') {\r\n      closeSubscription(this);\r\n      cleanupSubscription(this);\r\n    }\r\n  };\r\n\r\n  _createClass(Subscription, [{\r\n    key: \"closed\",\r\n    get: function () {\r\n      return this._state === 'closed';\r\n    }\r\n  }]);\r\n\r\n  return Subscription;\r\n}();\r\n\r\nvar SubscriptionObserver = /*#__PURE__*/function () {\r\n  function SubscriptionObserver(subscription) {\r\n    this._subscription = subscription;\r\n  }\r\n\r\n  var _proto2 = SubscriptionObserver.prototype;\r\n\r\n  _proto2.next = function next(value) {\r\n    onNotify(this._subscription, 'next', value);\r\n  };\r\n\r\n  _proto2.error = function error(value) {\r\n    onNotify(this._subscription, 'error', value);\r\n  };\r\n\r\n  _proto2.complete = function complete() {\r\n    onNotify(this._subscription, 'complete');\r\n  };\r\n\r\n  _createClass(SubscriptionObserver, [{\r\n    key: \"closed\",\r\n    get: function () {\r\n      return this._subscription._state === 'closed';\r\n    }\r\n  }]);\r\n\r\n  return SubscriptionObserver;\r\n}();\r\n\r\nvar Observable = /*#__PURE__*/function () {\r\n  function Observable(subscriber) {\r\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\r\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\r\n    this._subscriber = subscriber;\r\n  }\r\n\r\n  var _proto3 = Observable.prototype;\r\n\r\n  _proto3.subscribe = function subscribe(observer) {\r\n    if (typeof observer !== 'object' || observer === null) {\r\n      observer = {\r\n        next: observer,\r\n        error: arguments[1],\r\n        complete: arguments[2]\r\n      };\r\n    }\r\n\r\n    return new Subscription(observer, this._subscriber);\r\n  };\r\n\r\n  _proto3.forEach = function forEach(fn) {\r\n    var _this = this;\r\n\r\n    return new Promise(function (resolve, reject) {\r\n      if (typeof fn !== 'function') {\r\n        reject(new TypeError(fn + ' is not a function'));\r\n        return;\r\n      }\r\n\r\n      function done() {\r\n        subscription.unsubscribe();\r\n        resolve();\r\n      }\r\n\r\n      var subscription = _this.subscribe({\r\n        next: function (value) {\r\n          try {\r\n            fn(value, done);\r\n          } catch (e) {\r\n            reject(e);\r\n            subscription.unsubscribe();\r\n          }\r\n        },\r\n        error: reject,\r\n        complete: resolve\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto3.map = function map(fn) {\r\n    var _this2 = this;\r\n\r\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\r\n    var C = getSpecies(this);\r\n    return new C(function (observer) {\r\n      return _this2.subscribe({\r\n        next: function (value) {\r\n          try {\r\n            value = fn(value);\r\n          } catch (e) {\r\n            return observer.error(e);\r\n          }\r\n\r\n          observer.next(value);\r\n        },\r\n        error: function (e) {\r\n          observer.error(e);\r\n        },\r\n        complete: function () {\r\n          observer.complete();\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto3.filter = function filter(fn) {\r\n    var _this3 = this;\r\n\r\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\r\n    var C = getSpecies(this);\r\n    return new C(function (observer) {\r\n      return _this3.subscribe({\r\n        next: function (value) {\r\n          try {\r\n            if (!fn(value)) return;\r\n          } catch (e) {\r\n            return observer.error(e);\r\n          }\r\n\r\n          observer.next(value);\r\n        },\r\n        error: function (e) {\r\n          observer.error(e);\r\n        },\r\n        complete: function () {\r\n          observer.complete();\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto3.reduce = function reduce(fn) {\r\n    var _this4 = this;\r\n\r\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\r\n    var C = getSpecies(this);\r\n    var hasSeed = arguments.length > 1;\r\n    var hasValue = false;\r\n    var seed = arguments[1];\r\n    var acc = seed;\r\n    return new C(function (observer) {\r\n      return _this4.subscribe({\r\n        next: function (value) {\r\n          var first = !hasValue;\r\n          hasValue = true;\r\n\r\n          if (!first || hasSeed) {\r\n            try {\r\n              acc = fn(acc, value);\r\n            } catch (e) {\r\n              return observer.error(e);\r\n            }\r\n          } else {\r\n            acc = value;\r\n          }\r\n        },\r\n        error: function (e) {\r\n          observer.error(e);\r\n        },\r\n        complete: function () {\r\n          if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\r\n          observer.next(acc);\r\n          observer.complete();\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto3.concat = function concat() {\r\n    var _this5 = this;\r\n\r\n    for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      sources[_key] = arguments[_key];\r\n    }\r\n\r\n    var C = getSpecies(this);\r\n    return new C(function (observer) {\r\n      var subscription;\r\n      var index = 0;\r\n\r\n      function startNext(next) {\r\n        subscription = next.subscribe({\r\n          next: function (v) {\r\n            observer.next(v);\r\n          },\r\n          error: function (e) {\r\n            observer.error(e);\r\n          },\r\n          complete: function () {\r\n            if (index === sources.length) {\r\n              subscription = undefined;\r\n              observer.complete();\r\n            } else {\r\n              startNext(C.from(sources[index++]));\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      startNext(_this5);\r\n      return function () {\r\n        if (subscription) {\r\n          subscription.unsubscribe();\r\n          subscription = undefined;\r\n        }\r\n      };\r\n    });\r\n  };\r\n\r\n  _proto3.flatMap = function flatMap(fn) {\r\n    var _this6 = this;\r\n\r\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\r\n    var C = getSpecies(this);\r\n    return new C(function (observer) {\r\n      var subscriptions = [];\r\n\r\n      var outer = _this6.subscribe({\r\n        next: function (value) {\r\n          if (fn) {\r\n            try {\r\n              value = fn(value);\r\n            } catch (e) {\r\n              return observer.error(e);\r\n            }\r\n          }\r\n\r\n          var inner = C.from(value).subscribe({\r\n            next: function (value) {\r\n              observer.next(value);\r\n            },\r\n            error: function (e) {\r\n              observer.error(e);\r\n            },\r\n            complete: function () {\r\n              var i = subscriptions.indexOf(inner);\r\n              if (i >= 0) subscriptions.splice(i, 1);\r\n              completeIfDone();\r\n            }\r\n          });\r\n          subscriptions.push(inner);\r\n        },\r\n        error: function (e) {\r\n          observer.error(e);\r\n        },\r\n        complete: function () {\r\n          completeIfDone();\r\n        }\r\n      });\r\n\r\n      function completeIfDone() {\r\n        if (outer.closed && subscriptions.length === 0) observer.complete();\r\n      }\r\n\r\n      return function () {\r\n        subscriptions.forEach(function (s) {\r\n          return s.unsubscribe();\r\n        });\r\n        outer.unsubscribe();\r\n      };\r\n    });\r\n  };\r\n\r\n  _proto3[SymbolObservable] = function () {\r\n    return this;\r\n  };\r\n\r\n  Observable.from = function from(x) {\r\n    var C = typeof this === 'function' ? this : Observable;\r\n    if (x == null) throw new TypeError(x + ' is not an object');\r\n    var method = getMethod(x, SymbolObservable);\r\n\r\n    if (method) {\r\n      var observable = method.call(x);\r\n      if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\r\n      if (isObservable(observable) && observable.constructor === C) return observable;\r\n      return new C(function (observer) {\r\n        return observable.subscribe(observer);\r\n      });\r\n    }\r\n\r\n    if (hasSymbol('iterator')) {\r\n      method = getMethod(x, SymbolIterator);\r\n\r\n      if (method) {\r\n        return new C(function (observer) {\r\n          enqueue(function () {\r\n            if (observer.closed) return;\r\n\r\n            for (var _iterator = _createForOfIteratorHelperLoose(method.call(x)), _step; !(_step = _iterator()).done;) {\r\n              var item = _step.value;\r\n              observer.next(item);\r\n              if (observer.closed) return;\r\n            }\r\n\r\n            observer.complete();\r\n          });\r\n        });\r\n      }\r\n    }\r\n\r\n    if (Array.isArray(x)) {\r\n      return new C(function (observer) {\r\n        enqueue(function () {\r\n          if (observer.closed) return;\r\n\r\n          for (var i = 0; i < x.length; ++i) {\r\n            observer.next(x[i]);\r\n            if (observer.closed) return;\r\n          }\r\n\r\n          observer.complete();\r\n        });\r\n      });\r\n    }\r\n\r\n    throw new TypeError(x + ' is not observable');\r\n  };\r\n\r\n  Observable.of = function of() {\r\n    for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\r\n      items[_key2] = arguments[_key2];\r\n    }\r\n\r\n    var C = typeof this === 'function' ? this : Observable;\r\n    return new C(function (observer) {\r\n      enqueue(function () {\r\n        if (observer.closed) return;\r\n\r\n        for (var i = 0; i < items.length; ++i) {\r\n          observer.next(items[i]);\r\n          if (observer.closed) return;\r\n        }\r\n\r\n        observer.complete();\r\n      });\r\n    });\r\n  };\r\n\r\n  _createClass(Observable, null, [{\r\n    key: SymbolSpecies,\r\n    get: function () {\r\n      return this;\r\n    }\r\n  }]);\r\n\r\n  return Observable;\r\n}();\r\n\r\nif (hasSymbols()) {\r\n  Object.defineProperty(Observable, Symbol('extensions'), {\r\n    value: {\r\n      symbol: SymbolObservable,\r\n      hostReportError: hostReportError\r\n    },\r\n    configurable: true\r\n  });\r\n}\r\n\r\nexport { Observable };\r\n"]}